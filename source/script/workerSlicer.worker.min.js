function papayaRoundFast(e){return.5+e|0}function papayaFloorFast(e){return 0|e}function PapayaSlicer(e){this.typePapaya2vtk={0:0,1:6,2:7,3:10,4:0,8:11,4:8},this.progressMeter={},this.progressMeter.drawProgress=e,this.manager={isRadiologicalMode:function(){return!1},isWorldMode:function(){return!1},container:{preferences:{smoothDisplay:"No"}}},this.vol=new papaya.volume.Volume(this.progressMeter),this.volumeReady=!1}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).daikon=e()}}(function(){return function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return n(i||e)},c,c.exports,e,t,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){var a={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},n=function(){"use strict";function e(){}function t(e,t){for(var i,a,n=0,r=[],s=16;s>0&&!e[s-1];)s--;r.push({children:[],index:0});var o,l=r[0];for(i=0;i<s;i++){for(a=0;a<e[i];a++){for((l=r.pop()).children[l.index]=t[n];l.index>0;)l=r.pop();for(l.index++,r.push(l);r.length<=i;)r.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o;n++}i+1<s&&(r.push(o={children:[],index:0}),l.children[l.index]=o.children,l=o)}return r[0].children}function i(e,t,i){return 64*((e.blocksPerLine+1)*t+i)}function n(e,t,a,n,r,s,o,u,c){function h(){if(C>0)return C--,A>>C&1;if(255==(A=e[t++])){var i=e[t++];if(i)throw"unexpected marker: "+(A<<8|i).toString(16)}return C=7,A>>>7}function f(e){for(var t,i=e;null!==(t=h());){if("number"==typeof(i=i[t]))return i;if("object"!=typeof i)throw"invalid huffman sequence"}return null}function d(e){for(var t=0;e>0;){var i=h();if(null===i)return;t=t<<1|i,e--}return t}function p(e){var t=d(e);return t>=1<<e-1?t:t+(-1<<e)+1}a.precision,a.samplesPerLine,a.scanLines;var m,S,g,T,_,y,I,D=a.mcusPerLine,v=a.progressive,b=(a.maxH,a.maxV,t),A=0,C=0,E=0,w=0,P=n.length;I=v?0===s?0===u?function(e,t){var i=f(e.huffmanTableDC),a=0===i?0:p(i)<<c;e.blockData[t]=e.pred+=a}:function(e,t){e.blockData[t]|=h()<<c}:0===u?function(e,t){if(E>0)E--;else for(var i=s,a=o;i<=a;){var n=f(e.huffmanTableAC),r=15&n,u=n>>4;if(0!==r){var h=l[i+=u];e.blockData[t+h]=p(r)*(1<<c),i++}else{if(u<15){E=d(u)+(1<<u)-1;break}i+=16}}}:function(e,t){for(var i=s,a=o,n=0;i<=a;){var r=l[i];switch(w){case 0:var u=f(e.huffmanTableAC),S=15&u;if(n=u>>4,0===S)n<15?(E=d(n)+(1<<n),w=4):(n=16,w=1);else{if(1!==S)throw"invalid ACn encoding";m=p(S),w=n?2:3}continue;case 1:case 2:e.blockData[t+r]?e.blockData[t+r]+=h()<<c:0==--n&&(w=2==w?3:0);break;case 3:e.blockData[t+r]?e.blockData[t+r]+=h()<<c:(e.blockData[t+r]=m<<c,w=0);break;case 4:e.blockData[t+r]&&(e.blockData[t+r]+=h()<<c)}i++}4===w&&0==--E&&(w=0)}:function(e,t){var i=f(e.huffmanTableDC),a=0===i?0:p(i);e.blockData[t]=e.pred+=a;for(var n=1;n<64;){var r=f(e.huffmanTableAC),s=15&r,o=r>>4;if(0!==s){var u=l[n+=o];e.blockData[t+u]=p(s),n++}else{if(o<15)break;n+=16}}};var N,O,x=0;O=1==P?n[0].blocksPerLine*n[0].blocksPerColumn:D*a.mcusPerColumn,r||(r=O);for(var R,L;x<O;){for(g=0;g<P;g++)n[g].pred=0;if(E=0,1==P)for(S=n[0],y=0;y<r;y++)!function(e,t,a){t(e,i(e,a/e.blocksPerLine|0,a%e.blocksPerLine))}(S,I,x),x++;else for(y=0;y<r;y++){for(g=0;g<P;g++)for(R=(S=n[g]).h,L=S.v,T=0;T<L;T++)for(_=0;_<R;_++)!function(e,t,a,n,r){var s=a%D;t(e,i(e,(a/D|0)*e.v+n,s*e.h+r))}(S,I,x,T,_);x++}if(C=0,(N=e[t]<<8|e[t+1])<=65280)throw"marker was not found";if(!(N>=65488&&N<=65495))break;t+=2}return t-b}function r(e,t,i){var a,n,r,s,o,l,g,T,_,y,I=e.quantizationTable;for(y=0;y<64;y++)i[y]=e.blockData[t+y]*I[y];for(y=0;y<8;++y){var D=8*y;0!==i[1+D]||0!==i[2+D]||0!==i[3+D]||0!==i[4+D]||0!==i[5+D]||0!==i[6+D]||0!==i[7+D]?(a=m*i[0+D]+128>>8,n=m*i[4+D]+128>>8,r=i[2+D],s=i[6+D],o=S*(i[1+D]-i[7+D])+128>>8,T=S*(i[1+D]+i[7+D])+128>>8,l=i[3+D]<<4,g=i[5+D]<<4,_=a-n+1>>1,a=a+n+1>>1,n=_,_=r*p+s*d+128>>8,r=r*d-s*p+128>>8,s=_,_=o-g+1>>1,o=o+g+1>>1,g=_,_=T+l+1>>1,l=T-l+1>>1,T=_,_=a-s+1>>1,a=a+s+1>>1,s=_,_=n-r+1>>1,n=n+r+1>>1,r=_,_=o*f+T*h+2048>>12,o=o*h-T*f+2048>>12,T=_,_=l*c+g*u+2048>>12,l=l*u-g*c+2048>>12,g=_,i[0+D]=a+T,i[7+D]=a-T,i[1+D]=n+g,i[6+D]=n-g,i[2+D]=r+l,i[5+D]=r-l,i[3+D]=s+o,i[4+D]=s-o):(_=m*i[0+D]+512>>10,i[0+D]=_,i[1+D]=_,i[2+D]=_,i[3+D]=_,i[4+D]=_,i[5+D]=_,i[6+D]=_,i[7+D]=_)}for(y=0;y<8;++y){var v=y;0!==i[8+v]||0!==i[16+v]||0!==i[24+v]||0!==i[32+v]||0!==i[40+v]||0!==i[48+v]||0!==i[56+v]?(a=m*i[0+v]+2048>>12,n=m*i[32+v]+2048>>12,r=i[16+v],s=i[48+v],o=S*(i[8+v]-i[56+v])+2048>>12,T=S*(i[8+v]+i[56+v])+2048>>12,l=i[24+v],g=i[40+v],_=a-n+1>>1,a=a+n+1>>1,n=_,_=r*p+s*d+2048>>12,r=r*d-s*p+2048>>12,s=_,_=o-g+1>>1,o=o+g+1>>1,g=_,_=T+l+1>>1,l=T-l+1>>1,T=_,_=a-s+1>>1,a=a+s+1>>1,s=_,_=n-r+1>>1,n=n+r+1>>1,r=_,_=o*f+T*h+2048>>12,o=o*h-T*f+2048>>12,T=_,_=l*c+g*u+2048>>12,l=l*u-g*c+2048>>12,g=_,i[0+v]=a+T,i[56+v]=a-T,i[8+v]=n+g,i[48+v]=n-g,i[16+v]=r+l,i[40+v]=r-l,i[24+v]=s+o,i[32+v]=s-o):(_=m*i[y+0]+8192>>14,i[0+v]=_,i[8+v]=_,i[16+v]=_,i[24+v]=_,i[32+v]=_,i[40+v]=_,i[48+v]=_,i[56+v]=_)}for(y=0;y<64;++y){var b=t+y,A=i[y];A=A<=-2056/e.bitConversion?0:A>=2024/e.bitConversion?255/e.bitConversion:A+2056/e.bitConversion>>4,e.blockData[b]=A}}function s(e,t){for(var a=t.blocksPerLine,n=t.blocksPerColumn,s=new Int32Array(64),o=0;o<n;o++)for(var l=0;l<a;l++)r(t,i(t,o,l),s);return t.blockData}function o(e){return e<=0?0:e>=255?255:0|e}var l=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,c=799,h=3406,f=2276,d=1567,p=3784,m=5793,S=2896;return e.prototype={load:function(e){var t=function(e){this.parse(e),this.onload&&this.onload()}.bind(this);if(e.indexOf("data:")>-1){for(var i=e.indexOf("base64,")+7,a=atob(e.substring(i)),n=new Uint8Array(a.length),r=a.length-1;r>=0;r--)n[r]=a.charCodeAt(r);t(a)}else{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=function(){var e=new Uint8Array(s.response);t(e)}.bind(this),s.send(null)}},parse:function(e){function i(){var t=e[u]<<8|e[u+1];return u+=2,t}var r,o,u=0,c=(e.length,null),h=null,f=[],d=[],p=[],m=i();if(65496!=m)throw"SOI not found";for(m=i();65497!=m;){var S,g;switch(m){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var T=function(){var t=i(),a=e.subarray(u,u+t-2);return u+=a.length,a}();65504===m&&74===T[0]&&70===T[1]&&73===T[2]&&70===T[3]&&0===T[4]&&(c={version:{major:T[5],minor:T[6]},densityUnits:T[7],xDensity:T[8]<<8|T[9],yDensity:T[10]<<8|T[11],thumbWidth:T[12],thumbHeight:T[13],thumbData:T.subarray(14,14+3*T[12]*T[13])}),65518===m&&65===T[0]&&100===T[1]&&111===T[2]&&98===T[3]&&101===T[4]&&0===T[5]&&(h={version:T[6],flags0:T[7]<<8|T[8],flags1:T[9]<<8|T[10],transformCode:T[11]});break;case 65499:for(var _=i()+u-2;u<_;){var y=e[u++],I=new Int32Array(64);if(y>>4==0)for(S=0;S<64;S++)I[l[S]]=e[u++];else{if(y>>4!=1)throw"DQT: invalid table spec";for(S=0;S<64;S++)I[l[S]]=i()}f[15&y]=I}break;case 65472:case 65473:case 65474:if(r)throw"Only single frame JPEGs supported";i(),(r={}).extended=65473===m,r.progressive=65474===m,r.precision=e[u++],r.scanLines=i(),r.samplesPerLine=i(),r.components=[],r.componentIds={};var D,v=e[u++],b=0,A=0;for(z=0;z<v;z++){D=e[u];var C=e[u+1]>>4,E=15&e[u+1];b<C&&(b=C),A<E&&(A=E);var w=e[u+2];g=r.components.push({h:C,v:E,quantizationTable:f[w],quantizationTableId:w,bitConversion:255/((1<<r.precision)-1)}),r.componentIds[D]=g-1,u+=3}r.maxH=b,r.maxV=A,function(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),i=Math.ceil(e.scanLines/8/e.maxV),a=0;a<e.components.length;a++){L=e.components[a];var n=Math.ceil(Math.ceil(e.samplesPerLine/8)*L.h/e.maxH),r=Math.ceil(Math.ceil(e.scanLines/8)*L.v/e.maxV),s=t*L.h,o=i*L.v*64*(s+1);L.blockData=new Int16Array(o),L.blocksPerLine=n,L.blocksPerColumn=r}e.mcusPerLine=t,e.mcusPerColumn=i}(r);break;case 65476:var P=i();for(z=2;z<P;){var N=e[u++],O=new Uint8Array(16),x=0;for(S=0;S<16;S++,u++)x+=O[S]=e[u];var R=new Uint8Array(x);for(S=0;S<x;S++,u++)R[S]=e[u];z+=17+x,(N>>4==0?p:d)[15&N]=t(O,R)}break;case 65501:i(),o=i();break;case 65498:i();var L,M=e[u++],F=[];for(z=0;z<M;z++){var U=r.componentIds[e[u++]];L=r.components[U];var k=e[u++];L.huffmanTableDC=p[k>>4],L.huffmanTableAC=d[15&k],F.push(L)}var B=e[u++],q=e[u++],G=e[u++],V=n(e,u,r,F,o,B,q,G>>4,15&G);u+=V;break;default:if(255==e[u-3]&&e[u-2]>=192&&e[u-2]<=254){u-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=i()}switch(this.width=r.samplesPerLine,this.height=r.scanLines,this.jfif=c,this.adobe=h,this.components=[],r.components.length){case 1:this.colorspace=a.Grayscale;break;case 3:this.adobe?this.colorspace=a.AdobeRGB:this.colorspace=a.RGB;break;case 4:this.colorspace=a.CYMK;break;default:this.colorspace=a.Unknown}for(var z=0;z<r.components.length;z++)(L=r.components[z]).quantizationTable||null===L.quantizationTableId||(L.quantizationTable=f[L.quantizationTableId]),this.components.push({output:s(0,L),scaleX:L.h/r.maxH,scaleY:L.v/r.maxV,blocksPerLine:L.blocksPerLine,blocksPerColumn:L.blocksPerColumn,bitConversion:L.bitConversion})},getData16:function(e,t){if(1!==this.components.length)throw"Unsupported color mode";var a,n,r,s,o,l,u=this.width/e,c=this.height/t,h=0,f=this.components.length,d=e*t*f,p=new Uint16Array(d),m=new Uint16Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(l=0;l<f;l++){for(var S,g,T=(a=this.components[l]).blocksPerLine,_=a.blocksPerColumn,y=T<<3,I=0,D=0;D<_;D++)for(var v=D<<3,b=0;b<T;b++){var A=i(a,D,b),h=0,C=b<<3;for(S=0;S<8;S++){I=(v+S)*y;for(g=0;g<8;g++)m[I+C+g]=a.output[A+h++]}}n=a.scaleX*u,r=a.scaleY*c,h=l;var E;for(o=0;o<t;o++)for(s=0;s<e;s++)E=(0|o*r)*y+(0|s*n),p[h]=m[E],h+=f}return p},getData:function(e,t){var a,n,r,s,l,u,c,h,f,d,p,m,S,g,T,_=this.width/e,y=this.height/t,I=0,D=this.components.length,v=e*t*D,b=new Uint8Array(v),A=new Uint8Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(u=0;u<D;u++){for(var C,E,w=(a=this.components[u]).blocksPerLine,P=a.blocksPerColumn,N=w<<3,O=0,x=0;x<P;x++)for(var R=x<<3,L=0;L<w;L++){var M=i(a,x,L),I=0,F=L<<3;for(C=0;C<8;C++){O=(R+C)*N;for(E=0;E<8;E++)A[O+F+E]=a.output[M+I++]*a.bitConversion}}n=a.scaleX*_,r=a.scaleY*y,I=u;var U;for(l=0;l<t;l++)for(s=0;s<e;s++)U=(0|l*r)*N+(0|s*n),b[I]=A[U],I+=D}switch(D){case 1:case 2:break;case 3:if(T=!0,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.colorTransform&&(T=!!this.colorTransform),T)for(u=0;u<v;u+=D)c=b[u],h=b[u+1],m=o(c-179.456+1.402*(f=b[u+2])),S=o(c+135.459-.344*h-.714*f),g=o(c-226.816+1.772*h),b[u]=m,b[u+1]=S,b[u+2]=g;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(T=!1,this.adobe&&this.adobe.transformCode?T=!0:void 0!==this.colorTransform&&(T=!!this.colorTransform),T)for(u=0;u<v;u+=D)c=b[u],h=b[u+1],d=o(434.456-c-1.402*(f=b[u+2])),p=o(119.541-c+.344*h+.714*f),c=o(481.816-c-1.772*h),b[u]=d,b[u+1]=p,b[u+2]=c;break;default:throw"Unsupported color mode"}return b},copyToImageData:function(e){var t,i,a,n,r,s,l,u,c=e.width,h=e.height,f=c*h*4,d=e.data,p=this.getData16(c,h),m=0,S=0;switch(this.components.length){case 1:for(;S<f;)a=p[m++],d[S++]=a,d[S++]=a,d[S++]=a,d[S++]=255;break;case 3:for(;S<f;)s=p[m++],l=p[m++],u=p[m++],d[S++]=s,d[S++]=l,d[S++]=u,d[S++]=255;break;case 4:for(;S<f;)n=p[m++],r=p[m++],a=p[m++],s=o((t=255-p[m++])-n*(i=t/255)),l=o(t-r*i),u=o(t-a*i),d[S++]=s,d[S++]=l,d[S++]=u,d[S++]=255;break;default:throw"Unsupported color mode"}}},e}();"undefined"!==typeof t&&t.exports&&(t.exports={JpegImage:n})},{}],2:[function(e,t,i){"use strict";function a(e){g.verbosity>=g.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function n(e){g.verbosity>=g.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function r(e){if(arguments.length>1){var t=["Error:"];t.push.apply(t,arguments),console.log.apply(console,t),e=[].join.call(arguments," ")}else console.log("Error: "+e);throw console.log(s()),_.notify(T.unknown),new Error(e)}function s(){try{throw new Error}catch(e){return e.stack?e.stack.split("\n").slice(2).join("\n"):""}}function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!1}),i}function l(e){for(var t=1,i=0;e>t;)t<<=1,i++;return i}function u(e,t){return e[t]<<8|e[t+1]}function c(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function h(){var e=new Uint8Array(2);return e[0]=1,1===new Uint16Array(e.buffer)[0]}function f(){var e=document.createElement("canvas");return e.width=e.height=1,void 0!==e.getContext("2d").createImageData(1,1).data.buffer}function d(){var e={};return e.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),e}var p=function(){function e(){this.failOnCorruptedImage=!1}function t(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function i(e,t){for(var i,a=e.SIZ,n=[],r=Math.ceil((a.Xsiz-a.XTOsiz)/a.XTsiz),s=Math.ceil((a.Ysiz-a.YTOsiz)/a.YTsiz),o=0;o<s;o++)for(var l=0;l<r;l++)(i={}).tx0=Math.max(a.XTOsiz+l*a.XTsiz,a.XOsiz),i.ty0=Math.max(a.YTOsiz+o*a.YTsiz,a.YOsiz),i.tx1=Math.min(a.XTOsiz+(l+1)*a.XTsiz,a.Xsiz),i.ty1=Math.min(a.YTOsiz+(o+1)*a.YTsiz,a.Ysiz),i.width=i.tx1-i.tx0,i.height=i.ty1-i.ty0,i.components=[],n.push(i);e.tiles=n;for(var u=0,c=a.Csiz;u<c;u++)for(var h=t[u],f=0,d=n.length;f<d;f++){var p={};i=n[f],p.tcx0=Math.ceil(i.tx0/h.XRsiz),p.tcy0=Math.ceil(i.ty0/h.YRsiz),p.tcx1=Math.ceil(i.tx1/h.XRsiz),p.tcy1=Math.ceil(i.ty1/h.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,i.components[u]=p}}function r(e,t,i){var a=t.codingStyleParameters,n={};return a.entropyCoderWithCustomPrecincts?(n.PPx=a.precinctsSizes[i].PPx,n.PPy=a.precinctsSizes[i].PPy):(n.PPx=15,n.PPy=15),n.xcb_=i>0?Math.min(a.xcb,n.PPx-1):Math.min(a.xcb,n.PPx),n.ycb_=i>0?Math.min(a.ycb,n.PPy-1):Math.min(a.ycb,n.PPy),n}function s(e,t,i){var a=1<<i.PPx,n=1<<i.PPy,r=0===t.resLevel,s=1<<i.PPx+(r?0:-1),o=1<<i.PPy+(r?0:-1),l=t.trx1>t.trx0?Math.ceil(t.trx1/a)-Math.floor(t.trx0/a):0,u=t.try1>t.try0?Math.ceil(t.try1/n)-Math.floor(t.try0/n):0,c=l*u;t.precinctParameters={precinctWidth:a,precinctHeight:n,numprecinctswide:l,numprecinctshigh:u,numprecincts:c,precinctWidthInSubband:s,precinctHeightInSubband:o}}function o(e,t,i){var a,n,r,s,o=i.xcb_,l=i.ycb_,u=1<<o,c=1<<l,h=t.tbx0>>o,f=t.tby0>>l,d=t.tbx1+u-1>>o,p=t.tby1+c-1>>l,m=t.resolution.precinctParameters,S=[],g=[];for(n=f;n<p;n++)for(a=h;a<d;a++)if((r={cbx:a,cby:n,tbx0:u*a,tby0:c*n,tbx1:u*(a+1),tby1:c*(n+1)}).tbx0_=Math.max(t.tbx0,r.tbx0),r.tby0_=Math.max(t.tby0,r.tby0),r.tbx1_=Math.min(t.tbx1,r.tbx1),r.tby1_=Math.min(t.tby1,r.tby1),s=Math.floor((r.tbx0_-t.tbx0)/m.precinctWidthInSubband)+Math.floor((r.tby0_-t.tby0)/m.precinctHeightInSubband)*m.numprecinctswide,r.precinctNumber=s,r.subbandType=t.type,r.Lblock=3,!(r.tbx1_<=r.tbx0_||r.tby1_<=r.tby0_)){S.push(r);var T=g[s];void 0!==T?(a<T.cbxMin?T.cbxMin=a:a>T.cbxMax&&(T.cbxMax=a),n<T.cbyMin?T.cbxMin=n:n>T.cbyMax&&(T.cbyMax=n)):g[s]=T={cbxMin:a,cbyMin:n,cbxMax:a,cbyMax:n},r.precinct=T}t.codeblockParameters={codeblockWidth:o,codeblockHeight:l,numcodeblockwide:d-h+1,numcodeblockhigh:p-f+1},t.codeblocks=S,t.precincts=g}function h(e,t,i){for(var a=[],n=e.subbands,r=0,s=n.length;r<s;r++)for(var o=n[r].codeblocks,l=0,u=o.length;l<u;l++){var c=o[l];c.precinctNumber===t&&a.push(c)}return{layerNumber:i,codeblocks:a}}function f(e){for(var t=e.SIZ,i=e.currentTile.index,a=e.tiles[i],n=a.codingStyleDefaultParameters.layersCount,r=t.Csiz,s=0,o=0;o<r;o++)s=Math.max(s,a.components[o].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;l<n;l++){for(;u<=s;u++){for(;c<r;c++){var e=a.components[c];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],i=t.precinctParameters.numprecincts;f<i;){var o=h(t,f,l);return f++,o}f=0}}c=0}u=0}}}function d(e){for(var t=e.SIZ,i=e.currentTile.index,a=e.tiles[i],n=a.codingStyleDefaultParameters.layersCount,r=t.Csiz,s=0,o=0;o<r;o++)s=Math.max(s,a.components[o].codingStyleParameters.decompositionLevelsCount);var l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;l<=s;l++){for(;u<n;u++){for(;c<r;c++){var e=a.components[c];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],i=t.precinctParameters.numprecincts;f<i;){var o=h(t,f,u);return f++,o}f=0}}c=0}u=0}}}function p(e){var t,i,a,n,r=e.SIZ,s=e.currentTile.index,o=e.tiles[s],l=o.codingStyleDefaultParameters.layersCount,u=r.Csiz,c=0;for(a=0;a<u;a++){var f=o.components[a];c=Math.max(c,f.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(c+1);for(i=0;i<=c;++i){var p=0;for(a=0;a<u;++a){var m=o.components[a].resolutions;i<m.length&&(p=Math.max(p,m[i].precinctParameters.numprecincts))}d[i]=p}t=0,i=0,a=0,n=0,this.nextPacket=function(){for(;i<=c;i++){for(;n<d[i];n++){for(;a<u;a++){var e=o.components[a];if(!(i>e.codingStyleParameters.decompositionLevelsCount)){var r=e.resolutions[i],s=r.precinctParameters.numprecincts;if(!(n>=s)){for(;t<l;){var f=h(r,n,t);return t++,f}t=0}}}a=0}n=0}}}function S(e){var t=e.SIZ,i=e.currentTile.index,a=e.tiles[i],n=a.codingStyleDefaultParameters.layersCount,r=t.Csiz,s=_(a),o=s,l=0,u=0,c=0,f=0,d=0;this.nextPacket=function(){for(;d<o.maxNumHigh;d++){for(;f<o.maxNumWide;f++){for(;c<r;c++){for(var e=a.components[c],t=e.codingStyleParameters.decompositionLevelsCount;u<=t;u++){var i=e.resolutions[u],p=s.components[c].resolutions[u],m=T(f,d,p,o,i);if(null!==m){for(;l<n;){var S=h(i,m,l);return l++,S}l=0}}u=0}c=0}f=0}}}function g(e){var t=e.SIZ,i=e.currentTile.index,a=e.tiles[i],n=a.codingStyleDefaultParameters.layersCount,r=t.Csiz,s=_(a),o=0,l=0,u=0,c=0,f=0;this.nextPacket=function(){for(;u<r;++u){for(var e=a.components[u],t=s.components[u],i=e.codingStyleParameters.decompositionLevelsCount;f<t.maxNumHigh;f++){for(;c<t.maxNumWide;c++){for(;l<=i;l++){var d=e.resolutions[l],p=t.resolutions[l],m=T(c,f,p,t,d);if(null!==m){for(;o<n;){var S=h(d,m,o);return o++,S}o=0}}l=0}c=0}f=0}}}function T(e,t,i,a,n){var r=e*a.minWidth,s=t*a.minHeight;if(r%i.width!=0||s%i.height!=0)return null;var o=s/i.width*n.precinctParameters.numprecinctswide;return r/i.height+o}function _(e){for(var t=e.components.length,i=Number.MAX_VALUE,a=Number.MAX_VALUE,n=0,r=0,s=new Array(t),o=0;o<t;o++){for(var l=e.components[o],u=l.codingStyleParameters.decompositionLevelsCount,c=new Array(u+1),h=Number.MAX_VALUE,f=Number.MAX_VALUE,d=0,p=0,m=1,S=u;S>=0;--S){var g=l.resolutions[S],T=m*g.precinctParameters.precinctWidth,_=m*g.precinctParameters.precinctHeight;h=Math.min(h,T),f=Math.min(f,_),d=Math.max(d,g.precinctParameters.numprecinctswide),p=Math.max(p,g.precinctParameters.numprecinctshigh),c[S]={width:T,height:_},m<<=1}i=Math.min(i,h),a=Math.min(a,f),n=Math.max(n,d),r=Math.max(r,p),s[o]={resolutions:c,minWidth:h,minHeight:f,maxNumWide:d,maxNumHigh:p}}return{components:s,minWidth:i,minHeight:a,maxNumWide:n,maxNumHigh:r}}function y(e){for(var t=e.SIZ,i=e.currentTile.index,a=e.tiles[i],n=t.Csiz,l=0;l<n;l++){for(var u=a.components[l],c=u.codingStyleParameters.decompositionLevelsCount,h=[],m=[],T=0;T<=c;T++){var _=r(e,u,T),y={},I=1<<c-T;y.trx0=Math.ceil(u.tcx0/I),y.try0=Math.ceil(u.tcy0/I),y.trx1=Math.ceil(u.tcx1/I),y.try1=Math.ceil(u.tcy1/I),y.resLevel=T,s(e,y,_),h.push(y);var D;if(0===T)(D={}).type="LL",D.tbx0=Math.ceil(u.tcx0/I),D.tby0=Math.ceil(u.tcy0/I),D.tbx1=Math.ceil(u.tcx1/I),D.tby1=Math.ceil(u.tcy1/I),D.resolution=y,o(e,D,_),m.push(D),y.subbands=[D];else{var v=1<<c-T+1,b=[];(D={}).type="HL",D.tbx0=Math.ceil(u.tcx0/v-.5),D.tby0=Math.ceil(u.tcy0/v),D.tbx1=Math.ceil(u.tcx1/v-.5),D.tby1=Math.ceil(u.tcy1/v),D.resolution=y,o(e,D,_),m.push(D),b.push(D),(D={}).type="LH",D.tbx0=Math.ceil(u.tcx0/v),D.tby0=Math.ceil(u.tcy0/v-.5),D.tbx1=Math.ceil(u.tcx1/v),D.tby1=Math.ceil(u.tcy1/v-.5),D.resolution=y,o(e,D,_),m.push(D),b.push(D),(D={}).type="HH",D.tbx0=Math.ceil(u.tcx0/v-.5),D.tby0=Math.ceil(u.tcy0/v-.5),D.tbx1=Math.ceil(u.tcx1/v-.5),D.tby1=Math.ceil(u.tcy1/v-.5),D.resolution=y,o(e,D,_),m.push(D),b.push(D),y.subbands=b}}u.resolutions=h,u.subbands=m}var A=a.codingStyleDefaultParameters.progressionOrder;switch(A){case 0:a.packetsIterator=new f(e);break;case 1:a.packetsIterator=new d(e);break;case 2:a.packetsIterator=new p(e);break;case 3:a.packetsIterator=new S(e);break;case 4:a.packetsIterator=new g(e);break;default:throw new Error("JPX Error: Unsupported progression order "+A)}}function I(e,t,i,a){function n(e){for(;h<e;){if(i+c>=t.length)throw new Error("Unexpected EOF");var a=t[i+c];c++,f?(u=u<<7|a,h+=7,f=!1):(u=u<<8|a,h+=8),255===a&&(f=!0)}return h-=e,u>>>h&(1<<e)-1}function r(e){return 255===t[i+c-1]&&t[i+c]===e?(s(1),!0):255===t[i+c]&&t[i+c+1]===e&&(s(2),!0)}function s(e){c+=e}function o(){h=0,f&&(c++,f=!1)}for(var u,c=0,h=0,f=!1,d=e.currentTile.index,p=e.tiles[d],m=e.COD.sopMarkerUsed,S=e.COD.ephMarkerUsed,g=p.packetsIterator;c<a;)try{o(),m&&r(145)&&s(4);var T=g.nextPacket();if(void 0===T)return;if(!n(1))continue;for(var _,y=T.layerNumber,I=[],D=0,v=T.codeblocks.length;D<v;D++){var b=(_=T.codeblocks[D]).precinct,A=_.cbx-b.cbxMin,C=_.cby-b.cbyMin,P=!1,N=!1;if(void 0!==_.included)P=!!n(1);else{var O,x;if(void 0!==(b=_.precinct).inclusionTree)O=b.inclusionTree;else{var R=b.cbxMax-b.cbxMin+1,L=b.cbyMax-b.cbyMin+1;O=new w(R,L),x=new E(R,L),b.inclusionTree=O,b.zeroBitPlanesTree=x}for(O.reset(A,C,y);;){if(c>=t.length)return;if(O.isAboveThreshold())break;if(O.isKnown())O.nextLevel();else if(n(1)){if(O.setKnown(),O.isLeaf()){_.included=!0,P=N=!0;break}O.nextLevel()}else O.incrementValue()}}if(P){if(N){for((x=b.zeroBitPlanesTree).reset(A,C);;){if(c>=t.length)return;if(n(1)){if(!x.nextLevel())break}else x.incrementValue()}_.zeroBitPlanes=x.value}for(var M=function(){if(0===n(1))return 1;if(0===n(1))return 2;var e=n(2);return e<3?e+3:(e=n(5))<31?e+6:(e=n(7))+37}();n(1);)_.Lblock++;var F=l(M),U=n((M<1<<F?F-1:F)+_.Lblock);I.push({codeblock:_,codingpasses:M,dataLength:U})}}for(o(),S&&r(146);I.length>0;){var k=I.shift();void 0===(_=k.codeblock).data&&(_.data=[]),_.data.push({data:t,start:i+c,end:i+c+k.dataLength,codingpasses:k.codingpasses}),c+=k.dataLength}}catch(e){return}return c}function D(e,t,i,a,n,r,s,o){for(var l=a.tbx0,u=a.tby0,c=a.tbx1-a.tbx0,h=a.codeblocks,f="H"===a.type.charAt(0)?1:0,d="H"===a.type.charAt(1)?t:0,p=0,S=h.length;p<S;++p){var g=h[p],T=g.tbx1_-g.tbx0_,_=g.tby1_-g.tby0_;if(0!==T&&0!==_&&void 0!==g.data){var y,I;y=new P(T,_,g.subbandType,g.zeroBitPlanes,r),I=2;var D,v,b,A=g.data,C=0,E=0;for(D=0,v=A.length;D<v;D++)C+=(b=A[D]).end-b.start,E+=b.codingpasses;var w=new Int16Array(C),N=0;for(D=0,v=A.length;D<v;D++){var O=(b=A[D]).data.subarray(b.start,b.end);w.set(O,N),N+=O.length}var x=new m(w,0,C);for(y.setDecoder(x),D=0;D<E;D++){switch(I){case 0:y.runSignificancePropogationPass();break;case 1:y.runMagnitudeRefinementPass();break;case 2:y.runCleanupPass(),o&&y.checkSegmentationSymbol()}I=(I+1)%3}var R,L,M,F=g.tbx0_-l+(g.tby0_-u)*c,U=y.coefficentsSign,k=y.coefficentsMagnitude,B=y.bitsDecoded,q=s?0:.5;N=0;var G="LL"!==a.type;for(D=0;D<_;D++){var V=2*(F/c|0)*(t-c)+f+d;for(R=0;R<T;R++){if(0!==(L=k[N])){L=(L+q)*n,0!==U[N]&&(L=-L),M=B[N];var z=G?V+(F<<1):F;e[z]=s&&M>=r?L:L*(1<<r-M)}F++,N++}F+=c-T}}}}function v(e,t,i){for(var a=t.components[i],n=a.codingStyleParameters,r=a.quantizationParameters,s=n.decompositionLevelsCount,o=r.SPqcds,l=r.scalarExpounded,u=r.guardBits,c=n.segmentationSymbolUsed,h=e.components[i].precision,f=n.reversibleTransformation,d=f?new x:new O,p=[],m=0,S=0;S<=s;S++){for(var g=a.resolutions[S],T=g.trx1-g.trx0,_=g.try1-g.try0,y=new Float32Array(T*_),I=0,v=g.subbands.length;I<v;I++){var b,A;l?(b=o[m].mu,A=o[m].epsilon,m++):(b=o[0].mu,A=o[0].epsilon+(S>0?1-S:0));var E=g.subbands[I],w=C[E.type];D(y,T,_,E,f?1:Math.pow(2,h+w-A)*(1+b/2048),u+A-1,f,c)}p.push({width:T,height:_,items:y})}var P=d.calculate(p,a.tcx0,a.tcy0);return{left:a.tcx0,top:a.tcy0,width:P.width,height:P.height,items:P.items}}function b(e){for(var t=e.SIZ,i=e.components,a=t.Csiz,n=[],r=0,s=e.tiles.length;r<s;r++){var o,l=e.tiles[r],u=[];for(o=0;o<a;o++)u[o]=v(e,l,o);var c=u[0];if(U=i[0].isSigned)h=new Int16Array(c.items.length*a);else var h=new Uint16Array(c.items.length*a);var f,d,p,m,S,g,T,_,y,I,D,b,A,C,E,w={left:c.left,top:c.top,width:c.width,height:c.height,items:h},P=0;if(l.codingStyleDefaultParameters.multipleComponentTransform){var N=4===a,O=u[0].items,x=u[1].items,R=u[2].items,L=N?u[3].items:null;d=.5+(128<<(f=i[0].precision-8)),m=-(S=.5*(p=255*(1<<f)));var M=l.components[0],F=a-3;if(T=O.length,M.codingStyleParameters.reversibleTransformation)for(g=0;g<T;g++,P+=F)_=O[g]+d,y=x[g],D=(b=_-((I=R[g])+y>>2))+I,A=b+y,h[P++]=D<=0?0:D>=p?255:D>>f,h[P++]=b<=0?0:b>=p?255:b>>f,h[P++]=A<=0?0:A>=p?255:A>>f;else for(g=0;g<T;g++,P+=F)_=O[g]+d,y=x[g],D=_+1.402*(I=R[g]),b=_-.34413*y-.71414*I,A=_+1.772*y,h[P++]=D<=0?0:D>=p?255:D>>f,h[P++]=b<=0?0:b>=p?255:b>>f,h[P++]=A<=0?0:A>=p?255:A>>f;if(N)for(g=0,P=3;g<T;g++,P+=4)C=L[g],h[P]=C<=m?0:C>=S?255:C+d>>f}else for(o=0;o<a;o++)if(8===i[o].precision){k=u[o].items;for(d=.5+(128<<(f=i[o].precision-8)),m=-(p=127.5*(1<<f)),P=o,g=0,T=k.length;g<T;g++)E=k[g],h[P]=E<=m?0:E>=p?255:E+d>>f,P+=a}else{var U=i[o].isSigned,k=u[o].items;if(U)for(P=o,g=0,T=k.length;g<T;g++)h[P]=k[g],P+=a;else{d=.5+(128<<(f=i[o].precision-8));var B=Math.pow(2,i[o].precision)-1;for(P=o,g=0,T=k.length;g<T;g++)E=k[g],h[P]=Math.max(Math.min(E+d,B),0),P+=a}}n.push(w)}return n}function A(e,t){for(var i=e.SIZ.Csiz,a=e.tiles[t],n=0;n<i;n++){var r=a.components[n],s=void 0!==e.currentTile.QCC[n]?e.currentTile.QCC[n]:e.currentTile.QCD;r.quantizationParameters=s;var o=void 0!==e.currentTile.COC[n]?e.currentTile.COC[n]:e.currentTile.COD;r.codingStyleParameters=o}a.codingStyleDefaultParameters=e.currentTile.COD}var C={LL:0,LH:1,HL:1,HH:2};e.prototype={parse:function(e){if(65359!==u(e,0))for(var t=0,i=e.length;t<i;){var r=8,s=c(e,t),o=c(e,t+4);if(t+=r,1===s&&(s=4294967296*c(e,t)+c(e,t+4),t+=8,r+=8),0===s&&(s=i-t+r),s<r)throw new Error("JPX Error: Invalid box field size");var l=s-r,h=!0;switch(o){case 1785737832:h=!1;break;case 1668246642:var f=e[t];e[t+1],e[t+2];if(1===f){var d=c(e,t+3);switch(d){case 16:case 17:case 18:break;default:n("Unknown colorspace "+d)}}else 2===f&&a("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,t,t+l);break;case 1783636e3:218793738!==c(e,t)&&n("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:n("Unsupported header type "+o+" ("+String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o)+")")}h&&(t+=l)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function(e){for(var t=e.getByte();t>=0;)if(65361===(t<<8|(t=e.getByte()))){e.skip(4);var i=e.getInt32()>>>0,a=e.getInt32()>>>0,n=e.getInt32()>>>0,r=e.getInt32()>>>0;e.skip(16);var s=e.getUint16();return this.width=i-n,this.height=a-r,this.componentsCount=s,void(this.bitsPerComponent=8)}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,a,r){var s={};try{for(var o=!1,l=a;l+1<r;){var h=u(e,l);l+=2;var f,d,p,m,S,g,T=0;switch(h){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:T=u(e,l);var _={};_.Xsiz=c(e,l+4),_.Ysiz=c(e,l+8),_.XOsiz=c(e,l+12),_.YOsiz=c(e,l+16),_.XTsiz=c(e,l+20),_.YTsiz=c(e,l+24),_.XTOsiz=c(e,l+28),_.YTOsiz=c(e,l+32);var D=u(e,l+36);_.Csiz=D;var v=[];f=l+38;for(var C=0;C<D;C++){var E={precision:1+(127&e[f]),isSigned:!!(128&e[f]),XRsiz:e[f+1],YRsiz:e[f+1]};t(E,_),v.push(E)}s.SIZ=_,s.components=v,i(s,v),s.QCC=[],s.COC=[];break;case 65372:T=u(e,l);var w={};switch(f=l+2,31&(d=e[f++])){case 0:m=8,S=!0;break;case 1:m=16,S=!1;break;case 2:m=16,S=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+d)}for(w.noQuantization=8===m,w.scalarExpounded=S,w.guardBits=d>>5,p=[];f<T+l;){var P={};8===m?(P.epsilon=e[f++]>>3,P.mu=0):(P.epsilon=e[f]>>3,P.mu=(7&e[f])<<8|e[f+1],f+=2),p.push(P)}w.SPqcds=p,s.mainHeader?s.QCD=w:(s.currentTile.QCD=w,s.currentTile.QCC=[]);break;case 65373:T=u(e,l);var N={};f=l+2;var O;switch(s.SIZ.Csiz<257?O=e[f++]:(O=u(e,f),f+=2),31&(d=e[f++])){case 0:m=8,S=!0;break;case 1:m=16,S=!1;break;case 2:m=16,S=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+d)}for(N.noQuantization=8===m,N.scalarExpounded=S,N.guardBits=d>>5,p=[];f<T+l;)P={},8===m?(P.epsilon=e[f++]>>3,P.mu=0):(P.epsilon=e[f]>>3,P.mu=(7&e[f])<<8|e[f+1],f+=2),p.push(P);N.SPqcds=p,s.mainHeader?s.QCC[O]=N:s.currentTile.QCC[O]=N;break;case 65362:T=u(e,l);var x={};f=l+2;var R=e[f++];x.entropyCoderWithCustomPrecincts=!!(1&R),x.sopMarkerUsed=!!(2&R),x.ephMarkerUsed=!!(4&R),x.progressionOrder=e[f++],x.layersCount=u(e,f),f+=2,x.multipleComponentTransform=e[f++],x.decompositionLevelsCount=e[f++],x.xcb=2+(15&e[f++]),x.ycb=2+(15&e[f++]);var L=e[f++];if(x.selectiveArithmeticCodingBypass=!!(1&L),x.resetContextProbabilities=!!(2&L),x.terminationOnEachCodingPass=!!(4&L),x.verticalyStripe=!!(8&L),x.predictableTermination=!!(16&L),x.segmentationSymbolUsed=!!(32&L),x.reversibleTransformation=e[f++],x.entropyCoderWithCustomPrecincts){for(var M=[];f<T+l;){var F=e[f++];M.push({PPx:15&F,PPy:F>>4})}x.precinctsSizes=M}var U=[];if(x.selectiveArithmeticCodingBypass&&U.push("selectiveArithmeticCodingBypass"),x.resetContextProbabilities&&U.push("resetContextProbabilities"),x.terminationOnEachCodingPass&&U.push("terminationOnEachCodingPass"),x.verticalyStripe&&U.push("verticalyStripe"),x.predictableTermination&&U.push("predictableTermination"),U.length>0)throw o=!0,new Error("JPX Error: Unsupported COD options ("+U.join(", ")+")");s.mainHeader?s.COD=x:(s.currentTile.COD=x,s.currentTile.COC=[]);break;case 65424:T=u(e,l),(g={}).index=u(e,l+2),g.length=c(e,l+4),g.dataEnd=g.length+l-2,g.partIndex=e[l+8],g.partsCount=e[l+9],s.mainHeader=!1,0===g.partIndex&&(g.COD=s.COD,g.COC=s.COC.slice(0),g.QCD=s.QCD,g.QCC=s.QCC.slice(0)),s.currentTile=g;break;case 65427:0===(g=s.currentTile).partIndex&&(A(s,g.index),y(s)),I(s,e,l,T=g.dataEnd-l);break;case 65365:case 65367:case 65368:case 65380:T=u(e,l);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+h.toString(16))}l+=T}}catch(e){if(o||this.failOnCorruptedImage)throw e;n("Trying to recover from "+e.message)}this.tiles=b(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}};var E=function(){function e(e,t){var i=l(Math.max(e,t))+1;this.levels=[];for(var a=0;a<i;a++){var n={width:e,height:t,items:[]};this.levels.push(n),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t){for(var i,a=0,n=0;a<this.levels.length;){var r=e+t*(i=this.levels[a]).width;if(void 0!==i.items[r]){n=i.items[r];break}i.index=r,e>>=1,t>>=1,a++}a--,(i=this.levels[a]).items[i.index]=n,this.currentLevel=a,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],i=t.items[t.index];return--e<0?(this.value=i,!1):(this.currentLevel=e,t=this.levels[e],t.items[t.index]=i,!0)}},e}(),w=function(){function e(e,t){var i=l(Math.max(e,t))+1;this.levels=[];for(var a=0;a<i;a++){for(var n=new Uint8Array(e*t),r=new Uint8Array(e*t),s=0,o=n.length;s<o;s++)n[s]=0,r[s]=0;var u={width:e,height:t,items:n,status:r};this.levels.push(u),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t,i){this.currentStopValue=i;for(var a=0;a<this.levels.length;){var n=this.levels[a],r=e+t*n.width;n.index=r,e>>=1,t>>=1,a++}this.currentLevel=this.levels.length-1,this.minValue=this.levels[this.currentLevel].items[0]},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]=e.items[e.index]+1,e.items[e.index]>this.minValue&&(this.minValue=e.items[e.index])},nextLevel:function(){var e=this.currentLevel;if(--e<0)return!1;this.currentLevel=e;var t=this.levels[e];return t.items[t.index]<this.minValue?t.items[t.index]=this.minValue:t.items[t.index]>this.minValue&&(this.minValue=t.items[t.index]),!0},isLeaf:function(){return 0===this.currentLevel},isAboveThreshold:function(){var e=this.currentLevel,t=this.levels[e];return t.items[t.index]>this.currentStopValue},isKnown:function(){var e=this.currentLevel,t=this.levels[e];return t.status[t.index]>0},setKnown:function(){var e=this.currentLevel,t=this.levels[e];t.status[t.index]=1}},e}(),P=function(){function e(e,n,r,s,o){this.width=e,this.height=n,this.contextLabelTable="HH"===r?a:"HL"===r?i:t;var l=e*n;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=o>14?new Uint32Array(l):o>6?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var u=new Uint8Array(l);if(0!==s)for(var c=0;c<l;c++)u[c]=s;this.bitsDecoded=u,this.reset()}var t=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),i=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),a=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return e.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(e,t,i){var a,n=this.neighborsSignificance,r=this.width,s=this.height,o=t>0,l=t+1<r;e>0&&(a=i-r,o&&(n[a-1]+=16),l&&(n[a+1]+=16),n[a]+=4),e+1<s&&(a=i+r,o&&(n[a-1]+=16),l&&(n[a+1]+=16),n[a]+=4),o&&(n[i-1]+=1),l&&(n[i+1]+=1),n[i]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,i=this.height,a=this.coefficentsMagnitude,n=this.coefficentsSign,r=this.neighborsSignificance,s=this.processingFlags,o=this.contexts,l=this.contextLabelTable,u=this.bitsDecoded,c=0;c<i;c+=4)for(var h=0;h<t;h++)for(var f=c*t+h,d=0;d<4;d++,f+=t){var p=c+d;if(p>=i)break;if(s[f]&=-2,!a[f]&&r[f]){var m=l[r[f]];if(e.readBit(o,m)){var S=this.decodeSignBit(p,h,f);n[f]=S,a[f]=1,this.setNeighborsSignificance(p,h,f),s[f]|=2}u[f]++,s[f]|=1}}},decodeSignBit:function(e,t,i){var a,n,r,s,o,l,u=this.width,c=this.height,h=this.coefficentsMagnitude,f=this.coefficentsSign;s=t>0&&0!==h[i-1],t+1<u&&0!==h[i+1]?(r=f[i+1],a=s?1-r-(n=f[i-1]):1-r-r):a=s?1-(n=f[i-1])-n:0;var d=3*a;return s=e>0&&0!==h[i-u],e+1<c&&0!==h[i+u]?(r=f[i+u],a=s?1-r-(n=f[i-u])+d:1-r-r+d):a=s?1-(n=f[i-u])-n+d:d,a>=0?(o=9+a,l=this.decoder.readBit(this.contexts,o)):(o=9-a,l=1^this.decoder.readBit(this.contexts,o)),l},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,i=this.width,a=this.height,n=this.coefficentsMagnitude,r=this.neighborsSignificance,s=this.contexts,o=this.bitsDecoded,l=this.processingFlags,u=i*a,c=4*i,h=0;h<u;h=e){e=Math.min(u,h+c);for(var f=0;f<i;f++)for(var d=h+f;d<e;d+=i)if(n[d]&&0==(1&l[d])){var p=16;0!=(2&l[d])&&(l[d]^=2,p=0===(127&r[d])?15:14);var m=t.readBit(s,p);n[d]=n[d]<<1|m,o[d]++,l[d]|=1}}},runCleanupPass:function(){for(var e,t=this.decoder,i=this.width,a=this.height,n=this.neighborsSignificance,r=this.coefficentsMagnitude,s=this.coefficentsSign,o=this.contexts,l=this.contextLabelTable,u=this.bitsDecoded,c=this.processingFlags,h=i,f=2*i,d=3*i,p=0;p<a;p=e){e=Math.min(p+4,a);for(var m=p*i,S=p+3<a,g=0;g<i;g++){var T,_=m+g,y=0,I=_,D=p;if(S&&0===c[_]&&0===c[_+h]&&0===c[_+f]&&0===c[_+d]&&0===n[_]&&0===n[_+h]&&0===n[_+f]&&0===n[_+d]){if(!t.readBit(o,18)){u[_]++,u[_+h]++,u[_+f]++,u[_+d]++;continue}0!==(y=t.readBit(o,17)<<1|t.readBit(o,17))&&(D=p+y,I+=y*i),T=this.decodeSignBit(D,g,I),s[I]=T,r[I]=1,this.setNeighborsSignificance(D,g,I),c[I]|=2,I=_;for(var v=p;v<=D;v++,I+=i)u[I]++;y++}for(D=p+y;D<e;D++,I+=i)if(!r[I]&&0==(1&c[I])){var b=l[n[I]];1===t.readBit(o,b)&&(T=this.decodeSignBit(D,g,I),s[I]=T,r[I]=1,this.setNeighborsSignificance(D,g,I),c[I]|=2),u[I]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,t=this.contexts;if(10!==(e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17)))throw new Error("JPX Error: Invalid segmentation symbol")}},e}(),N=function(){function e(){}return e.prototype.calculate=function(e,t,i){for(var a=e[0],n=1,r=e.length;n<r;n++)a=this.iterate(a,e[n],t,i);return a},e.prototype.extend=function(e,t,i){var a=t-1,n=t+1,r=t+i-2,s=t+i;e[a--]=e[n++],e[s++]=e[r--],e[a--]=e[n++],e[s++]=e[r--],e[a--]=e[n++],e[s++]=e[r--],e[a]=e[n],e[s]=e[r]},e.prototype.iterate=function(e,t,i,a){var n,r,s,o,l,u,c=e.width,h=e.height,f=e.items,d=t.width,p=t.height,m=t.items;for(s=0,n=0;n<h;n++)for(o=2*n*d,r=0;r<c;r++,s++,o+=2)m[o]=f[s];f=e.items=null;var S=new Float32Array(d+8);if(1===d){if(0!=(1&i))for(u=0,s=0;u<p;u++,s+=d)m[s]*=.5}else for(u=0,s=0;u<p;u++,s+=d)S.set(m.subarray(s,s+d),4),this.extend(S,4,d),this.filter(S,4,d),m.set(S.subarray(4,4+d),s);var g=16,T=[];for(n=0;n<g;n++)T.push(new Float32Array(p+8));var _,y=0;if(e=4+p,1===p){if(0!=(1&a))for(l=0;l<d;l++)m[l]*=.5}else for(l=0;l<d;l++){if(0===y){for(g=Math.min(d-l,g),s=l,o=4;o<e;s+=d,o++)for(_=0;_<g;_++)T[_][o]=m[s+_];y=g}var I=T[--y];if(this.extend(I,4,p),this.filter(I,4,p),0===y)for(s=l-g+1,o=4;o<e;s+=d,o++)for(_=0;_<g;_++)m[s+_]=T[_][o]}return{width:d,height:p,items:m}},e}(),O=function(){function e(){N.call(this)}return e.prototype=Object.create(N.prototype),e.prototype.filter=function(e,t,i){var a,n,r,s,o=i>>1,l=-1.586134342059924,u=-.052980118572961,c=.882911075530934,h=.443506852043971,f=1.230174104914001;for(a=(t|=0)-3,n=o+4;n--;a+=2)e[a]*=.8128930661159609;for(r=h*e[(a=t-2)-1],n=o+3;n--&&(s=h*e[a+1],e[a]=f*e[a]-r-s,n--);a+=2)r=h*e[(a+=2)+1],e[a]=f*e[a]-r-s;for(r=c*e[(a=t-1)-1],n=o+2;n--&&(s=c*e[a+1],e[a]-=r+s,n--);a+=2)r=c*e[(a+=2)+1],e[a]-=r+s;for(r=u*e[(a=t)-1],n=o+1;n--&&(s=u*e[a+1],e[a]-=r+s,n--);a+=2)r=u*e[(a+=2)+1],e[a]-=r+s;if(0!==o)for(r=l*e[(a=t+1)-1],n=o;n--&&(s=l*e[a+1],e[a]-=r+s,n--);a+=2)r=l*e[(a+=2)+1],e[a]-=r+s},e}(),x=function(){function e(){N.call(this)}return e.prototype=Object.create(N.prototype),e.prototype.filter=function(e,t,i){var a,n,r=i>>1;for(a=t|=0,n=r+1;n--;a+=2)e[a]-=e[a-1]+e[a+1]+2>>2;for(a=t+1,n=r;n--;a+=2)e[a]+=e[a-1]+e[a+1]>>1},e}();return e}(),m=function(){function e(e,t,i){this.data=e,this.bp=t,this.dataEnd=i,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return e.prototype={byteIn:function(){var e=this.data,t=this.bp;255===e[t]?e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,i){var a,n=e[i]>>1,r=1&e[i],s=t[n],o=s.qe,l=this.a-o;if(this.chigh<o)l<o?(l=o,a=r,n=s.nmps):(l=o,a=1^r,1===s.switchFlag&&(r=a),n=s.nlps);else{if(this.chigh-=o,0!=(32768&l))return this.a=l,r;l<o?(a=1^r,1===s.switchFlag&&(r=a),n=s.nlps):(a=r,n=s.nmps)}do{0===this.ct&&this.byteIn(),l<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&l));return this.a=l,e[i]=n<<1|r,a}},e}(),S="undefined"==typeof window?this:window;S.PDFJS||(S.PDFJS={});var g=g||{};g.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};g.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};var T=g.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},_=g.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(t){n('Unsupported feature "'+t+'"');for(var i=0,a=e.length;i<a;i++)e[i](t)}}}();g.isValidUrl=function(e,t){if(!e)return!1;var i=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!i)return t;switch(i=i[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}},g.shadow=o;g.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var y=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();g.PasswordException=y;var I=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();g.UnknownErrorException=I;var D=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();g.InvalidPDFException=D;var v=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();g.MissingPDFException=v;var b=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();g.UnexpectedResponseException=b;(function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e})(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e}(),function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e}();Object.defineProperty(g,"isLittleEndian",{configurable:!0,get:function(){return o(g,"isLittleEndian",h())}}),Object.defineProperty(g,"hasCanvasTypedArrays",{configurable:!0,get:function(){return o(g,"hasCanvasTypedArrays",f())}});!function(){function e(e,t){this.buffer=e,this.byteLength=e.length,this.length=void 0===t?this.byteLength>>2:t,i(this.length)}function t(e){return{get:function(){var t=this.buffer,i=e<<2;return(t[i]|t[i+1]<<8|t[i+2]<<16|t[i+3]<<24)>>>0},set:function(t){var i=this.buffer,a=e<<2;i[a]=255&t,i[a+1]=t>>8&255,i[a+2]=t>>16&255,i[a+3]=t>>>24&255}}}function i(i){for(;a<i;)Object.defineProperty(e.prototype,a,t(a)),a++}e.prototype=Object.create(null);var a=0}();var A=g.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,i,a){return t[1]=e,t[3]=i,t[5]=a,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var i=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i]},e.getAxialAlignedBoundingBox=function(t,i){var a=e.applyTransform(t,i),n=e.applyTransform(t.slice(2,4),i),r=e.applyTransform([t[0],t[3]],i),s=e.applyTransform([t[2],t[1]],i);return[Math.min(a[0],n[0],r[0],s[0]),Math.min(a[1],n[1],r[1],s[1]),Math.max(a[0],n[0],r[0],s[0]),Math.max(a[1],n[1],r[1],s[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],a=e[0]*t[1]+e[1]*t[3],n=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],s=(i+r)/2,o=Math.sqrt((i+r)*(i+r)-4*(i*r-n*a))/2,l=s+o||1,u=s-o||1;return[Math.sqrt(l),Math.sqrt(u)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,i){function a(e,t){return e-t}var n=[t[0],t[2],i[0],i[2]].sort(a),r=[t[1],t[3],i[1],i[3]].sort(a),s=[];return t=e.normalizeRect(t),i=e.normalizeRect(i),(n[0]===t[0]&&n[1]===i[0]||n[0]===i[0]&&n[1]===t[0])&&(s[0]=n[1],s[2]=n[2],(r[0]===t[1]&&r[1]===i[1]||r[0]===i[1]&&r[1]===t[1])&&(s[1]=r[1],s[3]=r[2],s))},e.sign=function(e){return e<0?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var i in t)e[i]=t[i]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,i){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;for(var a in i)e.prototype[a]=i[a]},e.loadScript=function(e,t){var i=document.createElement("script"),a=!1;i.setAttribute("src",e),t&&(i.onload=function(){a||t(),a=!0}),document.getElementsByTagName("head")[0].appendChild(i)},e}();g.PageViewport=function(){function e(e,t,i,a,n,r){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=a,this.offsetY=n;var s,o,l,u,c=(e[2]+e[0])/2,h=(e[3]+e[1])/2;switch(i%=360,i=i<0?i+360:i){case 180:s=-1,o=0,l=0,u=1;break;case 90:s=0,o=1,l=1,u=0;break;case 270:s=0,o=-1,l=-1,u=0;break;default:s=1,o=0,l=0,u=-1}r&&(l=-l,u=-u);var f,d,p,m;0===s?(f=Math.abs(h-e[1])*t+a,d=Math.abs(c-e[0])*t+n,p=Math.abs(e[3]-e[1])*t,m=Math.abs(e[2]-e[0])*t):(f=Math.abs(c-e[0])*t+a,d=Math.abs(h-e[1])*t+n,p=Math.abs(e[2]-e[0])*t,m=Math.abs(e[3]-e[1])*t),this.transform=[s*t,o*t,l*t,u*t,f-s*t*c-l*t*h,d-o*t*c-u*t*h],this.width=p,this.height=m,this.fontScale=t}return e.prototype={clone:function(t){var i="scale"in(t=t||{})?t.scale:this.scale,a="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),i,a,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return A.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=A.applyTransform([e[0],e[1]],this.transform),i=A.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]},convertToPdfPoint:function(e,t){return A.applyInverseTransform([e,t],this.transform)}},e}();g.createPromiseCapability=d,function(){function e(e){this._status=t,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}if(S.Promise)return"function"!=typeof S.Promise.all&&(S.Promise.all=function(e){var t,i,a=0,n=[],r=new S.Promise(function(e,a){t=e,i=a});return e.forEach(function(e,r){a++,e.then(function(e){n[r]=e,0===--a&&t(n)},i)}),0===a&&t(n),r}),"function"!=typeof S.Promise.resolve&&(S.Promise.resolve=function(e){return new S.Promise(function(t){t(e)})}),"function"!=typeof S.Promise.reject&&(S.Promise.reject=function(e){return new S.Promise(function(t,i){i(e)})}),void("function"!=typeof S.Promise.prototype.catch2&&(S.Promise.prototype.catch2=function(e){return S.Promise.prototype.then(void 0,e)}));var t=0,i=2,a={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){e._status!==t&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;this.handlers.length>0;){var t=this.handlers.shift(),a=t.thisPromise._status,n=t.thisPromise._value;try{1===a?"function"==typeof t.onResolve&&(n=t.onResolve(n)):"function"==typeof t.onReject&&(n=t.onReject(n),a=1,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(e){a=i,n=e}if(t.nextPromise._updateStatus(a,n),Date.now()>=e)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++)if(e-this.unhandledRejections[t].time>500){var i=this.unhandledRejections[t].promise._value,a="Unhandled rejection: "+i;i.stack&&(a+="\n"+i.stack),n(a),this.unhandledRejections.splice(t),t--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};e.all=function(t){var a,n,r=new e(function(e,t){a=e,n=t}),s=t.length,o=[];if(0===s)return a(o),r;for(var l=0,u=t.length;l<u;++l){var c=t[l],h=function(e){return function(t){r._status!==i&&(o[e]=t,0===--s&&a(o))}}(l);e.isPromise(c)?c.then(h,function(e){r._status!==i&&(o=[],n(e))}):h(c)}return r},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,n){1!==this._status&&this._status!==i&&(1===t&&e.isPromise(n)?n.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,i)):(this._status=t,this._value=n,t===i&&0===this._handlers.length&&(this._unhandledRejection=!0,a.addUnhandledRejection(this)),a.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(e){this._updateStatus(i,e)},then:function(t,i){var n=new e(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:i,nextPromise:n}),a.scheduleHandlers(this),n},catch2:function(e){return this.then(void 0,e)}},S.Promise=e}();!function(){function e(e,t,i){for(;e.length<i;)e+=t;return e}function t(){this.started={},this.times=[],this.enabled=!0}t.prototype={time:function(e){this.enabled&&(e in this.started&&n("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||n("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,i,a=this.times,n="",r=0;for(t=0,i=a.length;t<i;++t){var s=a[t].name;s.length>r&&(r=s.length)}for(t=0,i=a.length;t<i;++t){var o=a[t],l=o.end-o.start;n+=e(o.name," ",r)+" "+l+"ms\n"}return n}}}();g.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var i=new MozBlobBuilder;return i.append(e),i.getBlob(t)},g.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,i){if(!g.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var a=g.createBlob(t,i);return URL.createObjectURL(a)}for(var n="data:"+i+";base64,",r=0,s=t.length;r<s;r+=3){var o=255&t[r],l=255&t[r+1],u=255&t[r+2],c=o>>2,h=(3&o)<<4|l>>4,f=r+1<s?(15&l)<<2|u>>6:64,d=r+2<s?63&u:64;n+=e[c]+e[h]+e[f]+e[d]}return n}}(),function(e,t){this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0;var i=this.callbacksCapabilities={},a=this.actionHandler={};a.console_log=[function(e){console.log.apply(console,e)}],a.console_error=[function(e){console.error.apply(console,e)}],a._unsupported_feature=[function(e){_.notify(e)}],t.onmessage=function(e){var n=e.data;if(n.isReply){var s=n.callbackId;if(n.callbackId in i){var o=i[s];delete i[s],"error"in n?o.reject(n.error):o.resolve(n.data)}else r("Cannot resolve callback "+s)}else if(n.action in a){var l=a[n.action];n.callbackId?Promise.resolve().then(function(){return l[0].call(l[1],n.data)}).then(function(e){t.postMessage({isReply:!0,callbackId:n.callbackId,data:e})},function(e){t.postMessage({isReply:!0,callbackId:n.callbackId,error:e})}):l[0].call(l[1],n.data)}else r("Unknown action from worker: "+n.action)}}.prototype={on:function(e,t,i){var a=this.actionHandler;a[e]&&r('There is already an actionName called "'+e+'"'),a[e]=[t,i]},send:function(e,t,i){var a={action:e,data:t};this.postMessage(a,i)},sendWithPromise:function(e,t,i){var a=this.callbackIndex++,n={action:e,data:t,callbackId:a},r=d();this.callbacksCapabilities[a]=r;try{this.postMessage(n,i)}catch(e){r.reject(e)}return r.promise},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},"undefined"!==typeof t&&t.exports&&(t.exports=p)},{}],3:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.ComponentSpec=a.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.ComponentSpec)},{}],4:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.DataStream=a.lossless.DataStream||function(e,t,i){this.buffer=new Uint8Array(e,t,i),this.index=0},a.lossless.DataStream.prototype.get16=function(){var e=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,e},a.lossless.DataStream.prototype.get8=function(){var e=this.buffer[this.index];return this.index+=1,e},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.DataStream)},{}],5:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.HuffmanTable=a.lossless.HuffmanTable||(void 0!==e?e("./huffman-table.js"):null),a.lossless.QuantizationTable=a.lossless.QuantizationTable||(void 0!==e?e("./quantization-table.js"):null),a.lossless.ScanHeader=a.lossless.ScanHeader||(void 0!==e?e("./scan-header.js"):null),a.lossless.FrameHeader=a.lossless.FrameHeader||(void 0!==e?e("./frame-header.js"):null),a.lossless.Utils=a.lossless.Utils||(void 0!==e?e("./utils.js"):null),a.lossless.Decoder=a.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new a.lossless.FrameHeader,this.huffTable=new a.lossless.HuffmanTable,this.quantTable=new a.lossless.QuantizationTable,this.scan=new a.lossless.ScanHeader,this.DU=a.lossless.Utils.createArray(10,4,64),this.HuffTab=a.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=a.lossless.Utils.createArray(10,1),this.dcTab=a.lossless.Utils.createArray(10,1),this.qTab=a.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,void 0!==t&&(this.numBytes=t)},a.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],a.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],a.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,a.lossless.Decoder.MSB=2147483648,a.lossless.Decoder.RESTART_MARKER_BEGIN=65488,a.lossless.Decoder.RESTART_MARKER_END=65495,a.lossless.Decoder.prototype.decompress=function(e,t,i){return this.decode(e,t,i).buffer},a.lossless.Decoder.prototype.decode=function(e,t,i,n){var r,s,o,l,u=0,c=[],h=[],f=[];if(void 0!==e&&(this.buffer=e),void 0!==n&&(this.numBytes=n),this.stream=new a.lossless.DataStream(this.buffer,t,i),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(r=this.stream.get16()))throw new Error("Not a JPEG file");for(r=this.stream.get16();r>>4!=4092||65476===r;){switch(r){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,a.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(r>>8!=255)throw new Error("ERROR: format throw new IOException! (decode)")}r=this.stream.get16()}if(r<65472||r>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),r=this.stream.get16();do{for(;65498!==r;){switch(r){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,a.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(r>>8!=255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}r=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,s=0;s<this.numComp;s+=1)o=this.scanComps[s].scanCompSel,this.qTab[s]=this.quantTables[this.components[o].quantTableSel],this.nBlock[s]=this.components[o].vSamp*this.components[o].hSamp,this.dcTab[s]=this.HuffTab[this.scanComps[s].dcTabSel][0],this.acTab[s]=this.HuffTab[this.scanComps[s].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,1==this.numBytes?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),u+=1;;){for(h[0]=0,f[0]=0,s=0;s<10;s+=1)c[s]=1<<this.precision-1;if(0===this.restartInterval){for(r=this.decodeUnit(c,h,f);0===r&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(c),r=this.decodeUnit(c,h,f);break}for(l=0;l<this.restartInterval&&(this.restarting=0==l,r=this.decodeUnit(c,h,f),this.output(c),0===r);l+=1);if(0===r&&(0!==this.markerIndex?(r=65280|this.marker,this.markerIndex=0):r=this.stream.get16()),!(r>=a.lossless.Decoder.RESTART_MARKER_BEGIN&&r<=a.lossless.Decoder.RESTART_MARKER_END))break}65500===r&&1===u&&(this.readNumber(),r=this.stream.get16())}while(65497!==r&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===u);return this.outputData},a.lossless.Decoder.prototype.decodeUnit=function(e,t,i){return 1==this.numComp?this.decodeSingle(e,t,i):3==this.numComp?this.decodeRGB(e,t,i):-1},a.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},a.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},a.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},a.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},a.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},a.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},a.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},a.lossless.Decoder.prototype.decodeRGB=function(e,t,i){var n,r,s,o,l,u,c,h;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),l=0;l<this.numComp;l+=1)for(o=this.qTab[l],r=this.acTab[l],s=this.dcTab[l],u=0;u<this.nBlock[l];u+=1){for(c=0;c<this.IDCT_Source.length;c+=1)this.IDCT_Source[c]=0;if((n=this.getHuffmanValue(s,t,i))>=65280)return n;for(e[l]=this.IDCT_Source[0]=e[l]+this.getn(i,n,t,i),this.IDCT_Source[0]*=o[0],h=1;h<64;h+=1){if((n=this.getHuffmanValue(r,t,i))>=65280)return n;if(h+=n>>4,0==(15&n)){if(n>>4==0)break}else this.IDCT_Source[a.lossless.Decoder.IDCT_P[h]]=this.getn(i,15&n,t,i)*o[h]}}return 0},a.lossless.Decoder.prototype.decodeSingle=function(e,t,i){var n,r,s,o;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),r=0;r<this.nBlock[0];r+=1){if((n=this.getHuffmanValue(this.dcTab[0],t,i))>=65280)return n;if(s=this.getn(e,n,t,i),(o=s>>8)>=a.lossless.Decoder.RESTART_MARKER_BEGIN&&o<=a.lossless.Decoder.RESTART_MARKER_END)return o;e[0]+=s}return 0},a.lossless.Decoder.prototype.getHuffmanValue=function(e,t,i){var n,r;if(65535,i[0]<8?(t[0]<<=8,255===(r=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=r):i[0]-=8,0!=((n=e[t[0]>>i[0]])&a.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=65535>>16-i[0],t[0]<<=8,255===(r=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=r,n=e[256*(255&n)+(t[0]>>i[0])],i[0]+=8}if(i[0]+=8-(n>>8),i[0]<0)throw new Error("index="+i[0]+" temp="+t[0]+" code="+n+" in HuffmanValue()");return i[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=65535>>16-i[0],255&n)},a.lossless.Decoder.prototype.getn=function(e,t,i,a){var n,r;if(1,-1,65535,0===t)return 0;if(16===t)return e[0]>=0?-32768:32768;if(a[0]-=t,a[0]>=0){if(a[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;n=i[0]>>a[0],i[0]&=65535>>16-a[0]}else{if(i[0]<<=8,255===(r=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=r,a[0]+=8,a[0]<0){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i[0]<<=8,255===(r=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),i[0]|=r,a[0]+=8}if(a[0]<0)throw new Error("index="+a[0]+" in getn()");if(a[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;n=i[0]>>a[0],i[0]&=65535>>16-a[0]}return n<1<<t-1&&(n+=1+(-1<<t)),n},a.lossless.Decoder.prototype.getPreviousX=function(e){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):this.yLoc>0?this.getPreviousY(e):1<<this.frame.precision-1},a.lossless.Decoder.prototype.getPreviousXY=function(e){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},a.lossless.Decoder.prototype.getPreviousY=function(e){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},a.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},a.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},a.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},a.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData[e]=t},a.lossless.Decoder.prototype.getValue8=function(e){return this.outputData[e]},function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()?(a.lossless.Decoder.prototype.setValue16=a.lossless.Decoder.prototype.setValue8,a.lossless.Decoder.prototype.getValue16=a.lossless.Decoder.prototype.getValue8):(a.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData[e]=(255&t)<<8|t>>8&255},a.lossless.Decoder.prototype.getValue16=function(e){var t=this.outputData[e];return(255&t)<<8|t>>8&255}),a.lossless.Decoder.prototype.setValueRGB=function(e,t,i){this.outputData[3*e+i]=t},a.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData[3*e+t]},a.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;)this.stream.get8(),e+=1;return t},a.lossless.Decoder.prototype.readComment=function(){var e,t="",i=0;for(e=this.stream.get16(),i+=2;i<e;)t+=this.stream.get8(),i+=1;return t},a.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.Decoder)},{"./data-stream.js":4,"./frame-header.js":6,"./huffman-table.js":7,"./quantization-table.js":9,"./scan-header.js":11,"./utils.js":12}],6:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.ComponentSpec=a.lossless.ComponentSpec||(void 0!==e?e("./component-spec.js"):null),a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.FrameHeader=a.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},a.lossless.FrameHeader.prototype.read=function(e){var t,i,n,r,s=0;for(t=e.get16(),s+=2,this.precision=e.get8(),s+=1,this.dimY=e.get16(),s+=2,this.dimX=e.get16(),s+=2,this.numComp=e.get8(),s+=1,i=1;i<=this.numComp;i+=1){if(s>t)throw new Error("ERROR: frame format error");if(n=e.get8(),(s+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");r=e.get8(),s+=1,this.components[n]||(this.components[n]=new a.lossless.ComponentSpec),this.components[n].hSamp=r>>4,this.components[n].vSamp=15&r,this.components[n].quantTableSel=e.get8(),s+=1}if(s!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.FrameHeader)},{"./component-spec.js":3,"./data-stream.js":4}],7:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.Utils=a.lossless.Utils||(void 0!==e?e("./utils.js"):null),a.lossless.HuffmanTable=a.lossless.HuffmanTable||function(){this.l=a.lossless.Utils.createArray(4,2,16),this.th=[],this.v=a.lossless.Utils.createArray(4,2,16,200),this.tc=a.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},a.lossless.HuffmanTable.MSB=2147483648,a.lossless.HuffmanTable.prototype.read=function(e,t){var i,a,n,r,s,o,l=0;for(i=e.get16(),l+=2;l<i;){if(a=e.get8(),l+=1,(n=15&a)>3)throw new Error("ERROR: Huffman table ID > 3");if((r=a>>4)>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[n]=1,this.tc[n][r]=1,s=0;s<16;s+=1)this.l[n][r][s]=e.get8(),l+=1;for(s=0;s<16;s+=1)for(o=0;o<this.l[n][r][s];o+=1){if(l>i)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[n][r][s][o]=e.get8(),l+=1}}if(l!==i)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(s=0;s<4;s+=1)for(o=0;o<2;o+=1)0!==this.tc[s][o]&&this.buildHuffTable(t[s][o],this.l[s][o],this.v[s][o]);return 1},a.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,i){var n,r,s,o,l;for(256,r=0,s=0;s<8;s+=1)for(o=0;o<t[s];o+=1)for(l=0;l<256>>s+1;l+=1)e[r]=i[s][o]|s+1<<8,r+=1;for(s=1;r<256;s+=1,r+=1)e[r]=s|a.lossless.HuffmanTable.MSB;for(n=1,r=0,s=8;s<16;s+=1)for(o=0;o<t[s];o+=1){for(l=0;l<256>>s-7;l+=1)e[256*n+r]=i[s][o]|s+1<<8,r+=1;if(r>=256){if(r>256)throw new Error("ERROR: Huffman table error(1)!");r=0,n+=1}}},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.HuffmanTable)},{"./data-stream.js":4,"./utils.js":12}],8:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.ComponentSpec=a.lossless.ComponentSpec||(void 0!==e?e("./component-spec.js"):null),a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.Decoder=a.lossless.Decoder||(void 0!==e?e("./decoder.js"):null),a.lossless.FrameHeader=a.lossless.FrameHeader||(void 0!==e?e("./frame-header.js"):null),a.lossless.HuffmanTable=a.lossless.HuffmanTable||(void 0!==e?e("./huffman-table.js"):null),a.lossless.QuantizationTable=a.lossless.QuantizationTable||(void 0!==e?e("./quantization-table.js"):null),a.lossless.ScanComponent=a.lossless.ScanComponent||(void 0!==e?e("./scan-component.js"):null),a.lossless.ScanHeader=a.lossless.ScanHeader||(void 0!==e?e("./scan-header.js"):null),a.lossless.Utils=a.lossless.Utils||(void 0!==e?e("./utils.js"):null),"undefined"!==typeof t&&t.exports&&(t.exports=a)},{"./component-spec.js":3,"./data-stream.js":4,"./decoder.js":5,"./frame-header.js":6,"./huffman-table.js":7,"./quantization-table.js":9,"./scan-component.js":10,"./scan-header.js":11,"./utils.js":12}],9:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.Utils=a.lossless.Utils||(void 0!==e?e("./utils.js"):null),a.lossless.QuantizationTable=a.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=a.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},a.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var i;for(i=0;i<8;i+=1)e[t[0+i]]*=90,e[t[32+i]]*=90,e[t[16+i]]*=118,e[t[48+i]]*=49,e[t[40+i]]*=71,e[t[8+i]]*=126,e[t[56+i]]*=25,e[t[24+i]]*=106;for(i=0;i<8;i+=1)e[t[0+8*i]]*=90,e[t[4+8*i]]*=90,e[t[2+8*i]]*=118,e[t[6+8*i]]*=49,e[t[5+8*i]]*=71,e[t[1+8*i]]*=126,e[t[7+8*i]]*=25,e[t[3+8*i]]*=106;for(i=0;i<64;i+=1)e[i]>>=6},a.lossless.QuantizationTable.prototype.read=function(e,t){var i,n,r,s,o=0;for(i=e.get16(),o+=2;o<i;){if(n=e.get8(),o+=1,(r=15&n)>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[r]=n>>4,0===this.precision[r])this.precision[r]=8;else{if(1!==this.precision[r])throw new Error("ERROR: Quantization table precision error");this.precision[r]=16}if(this.tq[r]=1,8===this.precision[r]){for(s=0;s<64;s+=1){if(o>i)throw new Error("ERROR: Quantization table format error");this.quantTables[r][s]=e.get8(),o+=1}a.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[r],t)}else{for(s=0;s<64;s+=1){if(o>i)throw new Error("ERROR: Quantization table format error");this.quantTables[r][s]=e.get16(),o+=2}a.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[r],t)}}if(o!==i)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.QuantizationTable)},{"./data-stream.js":4,"./utils.js":12}],10:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.ScanComponent=a.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.ScanComponent)},{}],11:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.DataStream=a.lossless.DataStream||(void 0!==e?e("./data-stream.js"):null),a.lossless.ScanComponent=a.lossless.ScanComponent||(void 0!==e?e("./scan-component.js"):null),a.lossless.ScanHeader=a.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},a.lossless.ScanHeader.prototype.read=function(e){var t,i,n,r=0;for(t=e.get16(),r+=2,this.numComp=e.get8(),r+=1,i=0;i<this.numComp;i+=1){if(this.components[i]=new a.lossless.ScanComponent,r>t)throw new Error("ERROR: scan header format error");this.components[i].scanCompSel=e.get8(),r+=1,n=e.get8(),r+=1,this.components[i].dcTabSel=n>>4,this.components[i].acTabSel=15&n}if(this.selection=e.get8(),r+=1,this.spectralEnd=e.get8(),r+=1,n=e.get8(),this.ah=n>>4,this.al=15&n,(r+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.ScanHeader)},{"./data-stream.js":4,"./scan-component.js":10}],12:[function(e,t,i){"use strict";var a=a||{};a.lossless=a.lossless||{},a.lossless.Utils=a.lossless.Utils||{},a.lossless.Utils.createArray=function(e){var t=new Array(e||0),i=e;if(arguments.length>1)for(var n=Array.prototype.slice.call(arguments,1);i--;)t[e-1-i]=a.lossless.Utils.createArray.apply(this,n);return t},a.lossless.Utils.makeCRCTable=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t},a.lossless.Utils.crc32=function(e){for(var t=new Uint8Array(e.buffer),i=a.lossless.Utils.crcTable||(a.lossless.Utils.crcTable=a.lossless.Utils.makeCRCTable()),n=-1,r=0;r<t.length;r++)n=n>>>8^i[255&(n^t[r])];return(-1^n)>>>0},"undefined"!==typeof t&&t.exports&&(t.exports=a.lossless.Utils)},{}],13:[function(e,t,i){"use strict";var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=a},{"./lib/deflate":14,"./lib/inflate":15,"./lib/utils/common":16,"./lib/zlib/constants":19}],14:[function(e,t,i){"use strict";function a(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var n=e("./zlib/deflate.js"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),l=e("./zlib/zstream"),u=Object.prototype.toString,c=function(e){this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);t.header&&n.deflateSetHeader(this.strm,t.header)};c.prototype.push=function(e,t){var i,a,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===u.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new r.Buf8(l),o.next_out=0,o.avail_out=l),1!==(i=n.deflate(o,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(o.output,o.next_out))):this.onData(r.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),o.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=a,i.deflateRaw=function(e,t){return t=t||{},t.raw=!0,a(e,t)},i.gzip=function(e,t){return t=t||{},t.gzip=!0,a(e,t)}},{"./utils/common":16,"./utils/strings":17,"./zlib/deflate.js":21,"./zlib/messages":26,"./zlib/zstream":28}],15:[function(e,t,i){"use strict";function a(e,t){var i=new f(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var n=e("./zlib/inflate.js"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=Object.prototype.toString,f=function(e){this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(l[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(e,t){var i,a,l,u,c,f=this.strm,d=this.options.chunkSize,p=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(d),f.next_out=0,f.avail_out=d),(i=n.inflate(f,o.Z_NO_FLUSH))===o.Z_BUF_ERROR&&!0===p&&(i=o.Z_OK,p=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,c=s.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&r.arraySet(f.output,f.output,l,u,0),this.onData(c)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(p=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=f,i.inflate=a,i.inflateRaw=function(e,t){return t=t||{},t.raw=!0,a(e,t)},i.ungzip=a},{"./utils/common":16,"./utils/strings":17,"./zlib/constants":19,"./zlib/gzheader":22,"./zlib/inflate.js":24,"./zlib/messages":26,"./zlib/zstream":28}],16:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,s;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)r=e[t],s.set(r,n),n+=r.length;return s}},r={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(a)},{}],17:[function(e,t,i){"use strict";function a(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,i.string2buf=function(e){var t,i,a,r,s,o=e.length,l=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,s,l=t||e.length,u=new Array(2*l);for(n=0,i=0;i<l;)if((r=e[i++])<128)u[n++]=r;else if((s=o[r])>4)u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&i<l;)r=r<<6|63&e[i++],s--;s>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+o[e[i]]>t?i:t}},{"./common":16}],18:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{r=r+(n=n+t[a++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0}},{}],19:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],20:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var r=a,s=n+i;e^=-1;for(var o=n;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],21:[function(e,t,i){"use strict";function a(e,t){return e.msg=E[t],t}function n(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(v.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function o(e,t){b._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,i,a){var n=e.avail_in;return n>a&&(n=a),0===n?0:(e.avail_in-=n,v.arraySet(t,e.input,e.next_in,n,i),1===e.state.wrap?e.adler=A(e.adler,t,n,i):2===e.state.wrap&&(e.adler=C(e.adler,t,n,i)),e.next_in+=n,e.total_in+=n,n)}function h(e,t){var i,a,n=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-ie?e.strstart-(e.w_size-ie):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+te,d=u[r+s-1],p=u[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,u[i+s]===p&&u[i+s-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(a=te-(f-r),r=f-te,a>s){if(e.match_start=t,s=a,a>=o)break;d=u[r+s-1],p=u[r+s]}}}while((t=h[t&c])>l&&0!=--n);return s<=e.lookahead?s:e.lookahead}function f(e){var t,i,a,n,r,s=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ie)){v.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{a=e.head[--t],e.head[t]=a>=s?a-s:0}while(--i);t=i=s;do{a=e.prev[--t],e.prev[t]=a>=s?a-s:0}while(--i);n+=s}if(0===e.strm.avail_in)break;if(i=c(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=ee)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+ee-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ee)););}while(e.lookahead<ie&&0!==e.strm.avail_in)}function d(e,t){for(var i,a;;){if(e.lookahead<ie){if(f(e),e.lookahead<ie&&t===w)return he;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ie&&(e.match_length=h(e,i)),e.match_length>=ee)if(a=b._tr_tally(e,e.strstart-e.match_start,e.match_length-ee),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ee){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=e.strstart<ee-1?e.strstart:ee-1,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function p(e,t){for(var i,a,n;;){if(e.lookahead<ie){if(f(e),e.lookahead<ie&&t===w)return he;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ee-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ie&&(e.match_length=h(e,i),e.match_length<=5&&(e.strategy===B||e.match_length===ee&&e.strstart-e.match_start>4096)&&(e.match_length=ee-1)),e.prev_length>=ee&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-ee,a=b._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ee),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=ee-1,e.strstart++,a&&(o(e,!1),0===e.strm.avail_out))return he}else if(e.match_available){if((a=b._tr_tally(e,0,e.window[e.strstart-1]))&&o(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return he}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=b._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ee-1?e.strstart:ee-1,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function m(e,t){for(var i,a,n,r,s=e.window;;){if(e.lookahead<=te){if(f(e),e.lookahead<=te&&t===w)return he;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ee&&e.strstart>0&&(n=e.strstart-1,(a=s[n])===s[++n]&&a===s[++n]&&a===s[++n])){r=e.strstart+te;do{}while(a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&n<r);e.match_length=te-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ee?(i=b._tr_tally(e,1,e.match_length-ee),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function S(e,t){for(var i;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===w)return he;break}if(e.match_length=0,i=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function g(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=D[e.level].max_lazy,e.good_match=D[e.level].good_length,e.nice_match=D[e.level].nice_length,e.max_chain_length=D[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ee-1,e.match_available=0,e.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=H,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*J),this.dyn_dtree=new v.Buf16(2*(2*W+1)),this.bl_tree=new v.Buf16(2*(2*K+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16($+1),this.heap=new v.Buf16(2*Z+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*Z+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ne:ue,e.adler=2===t.wrap?0:1,t.last_flush=w,b._tr_init(t),R):a(e,M)}function y(e){var t=_(e);return t===R&&g(e.state),t}function I(e,t,i,n,r,s){if(!e)return M;var o=1;if(t===k&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>Y||i!==H||n<8||n>15||t<0||t>9||s<0||s>V)return a(e,M);8===n&&(n=9);var l=new T;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ee-1)/ee),l.window=new v.Buf8(2*l.w_size),l.head=new v.Buf16(l.hash_size),l.prev=new v.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new v.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=i,y(e)}var D,v=e("../utils/common"),b=e("./trees"),A=e("./adler32"),C=e("./crc32"),E=e("./messages"),w=0,P=1,N=3,O=4,x=5,R=0,L=1,M=-2,F=-3,U=-5,k=-1,B=1,q=2,G=3,V=4,z=0,Q=2,H=8,Y=9,j=15,X=8,Z=286,W=30,K=19,J=2*Z+1,$=15,ee=3,te=258,ie=te+ee+1,ae=32,ne=42,re=69,se=73,oe=91,le=103,ue=113,ce=666,he=1,fe=2,de=3,pe=4,me=3,Se=function(e,t,i,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=a,this.func=n};D=[new Se(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===w)return he;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+i;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,o(e,!1),0===e.strm.avail_out))return he;if(e.strstart-e.block_start>=e.w_size-ie&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):(e.strstart>e.block_start&&(o(e,!1),e.strm.avail_out),he)}),new Se(4,4,8,4,d),new Se(4,5,16,8,d),new Se(4,6,32,32,d),new Se(4,4,16,16,p),new Se(8,16,32,32,p),new Se(8,16,128,128,p),new Se(8,32,128,256,p),new Se(32,128,258,1024,p),new Se(32,258,258,4096,p)],i.deflateInit=function(e,t){return I(e,t,H,j,X,z)},i.deflateInit2=I,i.deflateReset=y,i.deflateResetKeep=_,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?M:(e.state.gzhead=t,R):M},i.deflate=function(e,t){var i,o,c,h;if(!e||!e.state||t>x||t<0)return e?a(e,M):M;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===ce&&t!==O)return a(e,0===e.avail_out?U:M);if(o.strm=e,i=o.last_flush,o.last_flush=t,o.status===ne)if(2===o.wrap)e.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=q||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=C(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=re):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=q||o.level<2?4:0),l(o,me),o.status=ue);else{var f=H+(o.w_bits-8<<4)<<8;f|=(o.strategy>=q||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=ae),f+=31-f%31,o.status=ue,u(o,f),0!==o.strstart&&(u(o,e.adler>>>16),u(o,65535&e.adler)),e.adler=1}if(o.status===re)if(o.gzhead.extra){for(c=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=se)}else o.status=se;if(o.status===se)if(o.gzhead.name){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.gzindex=0,o.status=oe)}else o.status=oe;if(o.status===oe)if(o.gzhead.comment){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.status=le)}else o.status=le;if(o.status===le&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(e),o.pending+2<=o.pending_buf_size&&(l(o,255&e.adler),l(o,e.adler>>8&255),e.adler=0,o.status=ue)):o.status=ue),0!==o.pending){if(s(e),0===e.avail_out)return o.last_flush=-1,R}else if(0===e.avail_in&&n(t)<=n(i)&&t!==O)return a(e,U);if(o.status===ce&&0!==e.avail_in)return a(e,U);if(0!==e.avail_in||0!==o.lookahead||t!==w&&o.status!==ce){var d=o.strategy===q?S(o,t):o.strategy===G?m(o,t):D[o.level].func(o,t);if(d!==de&&d!==pe||(o.status=ce),d===he||d===de)return 0===e.avail_out&&(o.last_flush=-1),R;if(d===fe&&(t===P?b._tr_align(o):t!==x&&(b._tr_stored_block(o,0,0,!1),t===N&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(e),0===e.avail_out))return o.last_flush=-1,R}return t!==O?R:o.wrap<=0?L:(2===o.wrap?(l(o,255&e.adler),l(o,e.adler>>8&255),l(o,e.adler>>16&255),l(o,e.adler>>24&255),l(o,255&e.total_in),l(o,e.total_in>>8&255),l(o,e.total_in>>16&255),l(o,e.total_in>>24&255)):(u(o,e.adler>>>16),u(o,65535&e.adler)),s(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?R:L)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==ne&&t!==re&&t!==se&&t!==oe&&t!==le&&t!==ue&&t!==ce?a(e,M):(e.state=null,t===ue?a(e,F):R):M},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":16,"./adler32":18,"./crc32":20,"./messages":26,"./trees":27}],22:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],23:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C;i=e.state,a=e.next_in,A=e.input,n=a+(e.avail_in-5),r=e.next_out,C=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,m=i.lencode,S=i.distcode,g=(1<<i.lenbits)-1,T=(1<<i.distbits)-1;e:do{p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=m[d&g];t:for(;;){if(y=_>>>24,d>>>=y,p-=y,0===(y=_>>>16&255))C[r++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=m[(65535&_)+(d&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}I=65535&_,(y&=15)&&(p<y&&(d+=A[a++]<<p,p+=8),I+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=S[d&T];i:for(;;){if(y=_>>>24,d>>>=y,p-=y,!(16&(y=_>>>16&255))){if(0==(64&y)){_=S[(65535&_)+(d&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(D=65535&_,y&=15,p<y&&(d+=A[a++]<<p,(p+=8)<y&&(d+=A[a++]<<p,p+=8)),(D+=d&(1<<y)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=y,p-=y,y=r-s,D>y){if((y=D-y)>c&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(v=0,b=f,0===h){if(v+=u-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}else if(h<y){if(v+=u+h-y,(y-=h)<I){I-=y;do{C[r++]=f[v++]}while(--y);if(v=0,h<I){I-=y=h;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}}else if(v+=h-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}for(;I>2;)C[r++]=b[v++],C[r++]=b[v++],C[r++]=b[v++],I-=3;I&&(C[r++]=b[v++],I>1&&(C[r++]=b[v++]))}else{v=r-D;do{C[r++]=C[v++],C[r++]=C[v++],C[r++]=C[v++],I-=3}while(I>2);I&&(C[r++]=C[v++],I>1&&(C[r++]=C[v++]))}break}}break}}while(a<n&&r<o);a-=I=p>>3,d&=(1<<(p-=I<<3))-1,e.next_in=a,e.next_out=r,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=d,i.bits=p}},{}],24:[function(e,t,i){"use strict";function a(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new d.Buf32(ce),t.distcode=t.distdyn=new d.Buf32(he),t.sane=1,t.back=-1,b):E}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):E}function o(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,s(e))):E}function l(e,t){var i,a;return e?(a=new n,e.state=a,a.window=null,(i=o(e,t))!==b&&(e.state=null),i):E}function u(e){if(de){var t;for(h=new d.Buf32(512),f=new d.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(_,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(y,e.lens,0,32,f,0,e.work,{bits:5}),de=!1}e.lencode=h,e.lenbits=9,e.distcode=f,e.distbits=5}function c(e,t,i,a){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new d.Buf8(r.wsize)),a>=r.wsize?(d.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>a&&(n=a),d.arraySet(r.window,t,i-a,n,r.wnext),(a-=n)?(d.arraySet(r.window,t,i-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var h,f,d=e("../utils/common"),p=e("./adler32"),m=e("./crc32"),S=e("./inffast"),g=e("./inftrees"),T=0,_=1,y=2,I=4,D=5,v=6,b=0,A=1,C=2,E=-2,w=-3,P=-4,N=-5,O=8,x=1,R=2,L=3,M=4,F=5,U=6,k=7,B=8,q=9,G=10,V=11,z=12,Q=13,H=14,Y=15,j=16,X=17,Z=18,W=19,K=20,J=21,$=22,ee=23,te=24,ie=25,ae=26,ne=27,re=28,se=29,oe=30,le=31,ue=32,ce=852,he=592,fe=15,de=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=function(e){return l(e,fe)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,r,s,o,l,h,f,ce,he,fe,de,pe,me,Se,ge,Te,_e,ye,Ie,De,ve,be,Ae,Ce=0,Ee=new d.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(i=e.state).mode===z&&(i.mode=Q),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,he=l,fe=h,ve=b;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=Q;break}for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(2&i.wrap&&35615===f){i.check=0,Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0),f=0,ce=0,i.mode=R;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",i.mode=oe;break}if((15&f)!==O){e.msg="unknown compression method",i.mode=oe;break}if(f>>>=4,ce-=4,De=8+(15&f),0===i.wbits)i.wbits=De;else if(De>i.wbits){e.msg="invalid window size",i.mode=oe;break}i.dmax=1<<De,e.adler=i.check=1,i.mode=512&f?G:z,f=0,ce=0;break;case R:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.flags=f,(255&i.flags)!==O){e.msg="unknown compression method",i.mode=oe;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=oe;break}i.head&&(i.head.text=f>>8&1),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=L;case L:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.time=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,Ee[2]=f>>>16&255,Ee[3]=f>>>24&255,i.check=m(i.check,Ee,4,0)),f=0,ce=0,i.mode=M;case M:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.xflags=255&f,i.head.os=f>>8),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=F;case F:if(1024&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length=f,i.head&&(i.head.extra_len=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&((de=i.length)>l&&(de=l),de&&(i.head&&(De=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,n,s,de,De)),512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,i.length-=de),i.length))break e;i.length=0,i.mode=k;case k:if(2048&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.name+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.comment+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.comment=null);i.mode=q;case q:if(512&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(65535&i.check)){e.msg="header crc mismatch",i.mode=oe;break}f=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=z;break;case G:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}e.adler=i.check=a(f),f=0,ce=0,i.mode=V;case V:if(0===i.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,C;e.adler=i.check=1,i.mode=z;case z:if(t===D||t===v)break e;case Q:if(i.last){f>>>=7&ce,ce-=7&ce,i.mode=ne;break}for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}switch(i.last=1&f,f>>>=1,ce-=1,3&f){case 0:i.mode=H;break;case 1:if(u(i),i.mode=K,t===v){f>>>=2,ce-=2;break e}break;case 2:i.mode=X;break;case 3:e.msg="invalid block type",i.mode=oe}f>>>=2,ce-=2;break;case H:for(f>>>=7&ce,ce-=7&ce;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",i.mode=oe;break}if(i.length=65535&f,f=0,ce=0,i.mode=Y,t===v)break e;case Y:i.mode=j;case j:if(de=i.length){if(de>l&&(de=l),de>h&&(de=h),0===de)break e;d.arraySet(r,n,s,de,o),l-=de,s+=de,h-=de,o+=de,i.length-=de;break}i.mode=z;break;case X:for(;ce<14;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.nlen=257+(31&f),f>>>=5,ce-=5,i.ndist=1+(31&f),f>>>=5,ce-=5,i.ncode=4+(15&f),f>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=oe;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.lens[we[i.have++]]=7&f,f>>>=3,ce-=3}for(;i.have<19;)i.lens[we[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,be={bits:i.lenbits},ve=g(T,i.lens,0,19,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid code lengths set",i.mode=oe;break}i.have=0,i.mode=W;case W:for(;i.have<i.nlen+i.ndist;){for(;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(Te<16)f>>>=Se,ce-=Se,i.lens[i.have++]=Te;else{if(16===Te){for(Ae=Se+2;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f>>>=Se,ce-=Se,0===i.have){e.msg="invalid bit length repeat",i.mode=oe;break}De=i.lens[i.have-1],de=3+(3&f),f>>>=2,ce-=2}else if(17===Te){for(Ae=Se+3;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=3+(7&(f>>>=Se)),f>>>=3,ce-=3}else{for(Ae=Se+7;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=11+(127&(f>>>=Se)),f>>>=7,ce-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=oe;break}for(;de--;)i.lens[i.have++]=De}}if(i.mode===oe)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=oe;break}if(i.lenbits=9,be={bits:i.lenbits},ve=g(_,i.lens,0,i.nlen,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid literal/lengths set",i.mode=oe;break}if(i.distbits=6,i.distcode=i.distdyn,be={bits:i.distbits},ve=g(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,be),i.distbits=be.bits,ve){e.msg="invalid distances set",i.mode=oe;break}if(i.mode=K,t===v)break e;case K:i.mode=J;case J:if(l>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,S(e,fe),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(ge&&0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.lencode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,i.length=Te,0===ge){i.mode=ae;break}if(32&ge){i.back=-1,i.mode=z;break}if(64&ge){e.msg="invalid literal/length code",i.mode=oe;break}i.extra=15&ge,i.mode=$;case $:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;Ce=i.distcode[f&(1<<i.distbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.distcode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,64&ge){e.msg="invalid distance code",i.mode=oe;break}i.offset=Te,i.extra=15&ge,i.mode=te;case te:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.offset+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=oe;break}i.mode=ie;case ie:if(0===h)break e;if(de=fe-h,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=oe;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),me=i.window}else me=r,pe=o-i.offset,de=i.length;de>h&&(de=h),h-=de,i.length-=de;do{r[o++]=me[pe++]}while(--de);0===i.length&&(i.mode=J);break;case ae:if(0===h)break e;r[o++]=i.length,h--,i.mode=J;break;case ne:if(i.wrap){for(;ce<32;){if(0===l)break e;l--,f|=n[s++]<<ce,ce+=8}if(fe-=h,e.total_out+=fe,i.total+=fe,fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,o-fe):p(i.check,r,fe,o-fe)),fe=h,(i.flags?f:a(f))!==i.check){e.msg="incorrect data check",i.mode=oe;break}f=0,ce=0}i.mode=re;case re:if(i.wrap&&i.flags){for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=oe;break}f=0,ce=0}i.mode=se;case se:ve=A;break e;case oe:ve=w;break e;case le:return P;case ue:default:return E}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,(i.wsize||fe!==e.avail_out&&i.mode<oe&&(i.mode<ne||t!==I))&&c(e,e.output,e.next_out,fe-e.avail_out)?(i.mode=le,P):(he-=e.avail_in,fe-=e.avail_out,e.total_in+=he,e.total_out+=fe,i.total+=fe,i.wrap&&fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,e.next_out-fe):p(i.check,r,fe,e.next_out-fe)),e.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===K||i.mode===Y?256:0),(0===he&&0===fe||t===I)&&ve===b&&(ve=N),ve)},i.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,b},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?E:(i.head=t,t.done=!1,b):E},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":16,"./adler32":18,"./crc32":20,"./inffast":23,"./inftrees":25}],25:[function(e,t,i){"use strict";var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,c,h,f){var d,p,m,S,g,T,_,y,I,D=f.bits,v=0,b=0,A=0,C=0,E=0,w=0,P=0,N=0,O=0,x=0,R=null,L=0,M=new a.Buf16(16),F=new a.Buf16(16),U=null,k=0;for(v=0;v<=15;v++)M[v]=0;for(b=0;b<l;b++)M[t[i+b]]++;for(E=D,C=15;C>=1&&0===M[C];C--);if(E>C&&(E=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(A=1;A<C&&0===M[A];A++);for(E<A&&(E=A),N=1,v=1;v<=15;v++)if(N<<=1,(N-=M[v])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(F[1]=0,v=1;v<15;v++)F[v+1]=F[v]+M[v];for(b=0;b<l;b++)0!==t[i+b]&&(h[F[t[i+b]]++]=b);if(0===e?(R=U=h,T=19):1===e?(R=n,L-=257,U=r,k-=257,T=256):(R=s,U=o,T=-1),x=0,b=0,v=A,g=c,w=E,P=0,m=-1,O=1<<E,S=O-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){0,_=v-P,h[b]<T?(y=0,I=h[b]):h[b]>T?(y=U[k+h[b]],I=R[L+h[b]]):(y=96,I=0),d=1<<v-P,A=p=1<<w;do{u[g+(x>>P)+(p-=d)]=_<<24|y<<16|I|0}while(0!==p);for(d=1<<v-1;x&d;)d>>=1;if(0!==d?(x&=d-1,x+=d):x=0,b++,0==--M[v]){if(v===C)break;v=t[i+h[b]]}if(v>E&&(x&S)!==m){for(0===P&&(P=E),g+=A,N=1<<(w=v-P);w+P<C&&!((N-=M[w+P])<=0);)w++,N<<=1;if(O+=1<<w,1===e&&O>852||2===e&&O>592)return 1;u[m=x&S]=E<<24|w<<16|g-c|0}}return 0!==x&&(u[g+x]=v-P<<24|64<<16|0),f.bits=E,0}},{"../utils/common":16}],26:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],27:[function(e,t,i){"use strict";function a(e){for(var t=e.length;--t>=0;)e[t]=0}function n(e){return e<256?$[e]:$[256+(e>>>7)]}function r(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function s(e,t,i){e.bi_valid>G-i?(e.bi_buf|=t<<e.bi_valid&65535,r(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=i-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function o(e,t,i){s(e,i[2*t],i[2*t+1])}function l(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function u(e){16===e.bi_valid?(r(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function c(e,t){var i,a,n,r,s,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(r=0;r<=q;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<B;i++)(r=l[2*l[2*(a=e.heap[i])+1]+1]+1)>p&&(r=p,m++),l[2*a+1]=r,a>u||(e.bl_count[r]++,s=0,a>=d&&(s=f[a-d]),o=l[2*a],e.opt_len+=o*(r+s),h&&(e.static_len+=o*(c[2*a+1]+s)));if(0!==m){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(a=e.bl_count[r];0!==a;)(n=e.heap[--i])>u||(l[2*n+1]!==r&&(e.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),a--)}}function h(e,t,i){var a,n,r=new Array(q+1),s=0;for(a=1;a<=q;a++)r[a]=s=s+i[a-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=l(r[o]++,o))}}function f(){var e,t,i,a,n,r=new Array(q+1);for(i=0,a=0;a<L-1;a++)for(te[a]=i,e=0;e<1<<j[a];e++)ee[i++]=a;for(ee[i-1]=a,n=0,a=0;a<16;a++)for(ie[a]=n,e=0;e<1<<X[a];e++)$[n++]=a;for(n>>=7;a<U;a++)for(ie[a]=n<<7,e=0;e<1<<X[a]-7;e++)$[256+n++]=a;for(t=0;t<=q;t++)r[t]=0;for(e=0;e<=143;)K[2*e+1]=8,e++,r[8]++;for(;e<=255;)K[2*e+1]=9,e++,r[9]++;for(;e<=279;)K[2*e+1]=7,e++,r[7]++;for(;e<=287;)K[2*e+1]=8,e++,r[8]++;for(h(K,F+1,r),e=0;e<U;e++)J[2*e+1]=5,J[2*e]=l(e,5);ae=new se(K,j,M+1,F,q),ne=new se(J,X,0,U,q),re=new se(new Array(0),Z,0,k,V)}function d(e){var t;for(t=0;t<F;t++)e.dyn_ltree[2*t]=0;for(t=0;t<U;t++)e.dyn_dtree[2*t]=0;for(t=0;t<k;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function p(e){e.bi_valid>8?r(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,i,a){p(e),a&&(r(e,i),r(e,~i)),C.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function S(e,t,i,a){var n=2*t,r=2*i;return e[n]<e[r]||e[n]===e[r]&&a[t]<=a[i]}function g(e,t,i){for(var a=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&S(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!S(t,a,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=a}function T(e,t,i){var a,r,l,u,c=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===a?o(e,r,t):(o(e,(l=ee[r])+M+1,t),0!==(u=j[l])&&s(e,r-=te[l],u),o(e,l=n(--a),i),0!==(u=X[l])&&s(e,a-=ie[l],u))}while(c<e.last_lit);o(e,z,t)}function _(e,t){var i,a,n,r=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=B,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=s[2*n+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)g(e,r,i);n=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=a,r[2*n]=r[2*i]+r[2*a],e.depth[n]=(e.depth[i]>=e.depth[a]?e.depth[i]:e.depth[a])+1,r[2*i+1]=r[2*a+1]=n,e.heap[1]=n++,g(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],c(e,t),h(r,u,e.bl_count)}function y(e,t,i){var a,n,r=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(i+1)+1]=65535,a=0;a<=i;a++)n=s,s=t[2*(a+1)+1],++o<l&&n===s||(o<u?e.bl_tree[2*n]+=o:0!==n?(n!==r&&e.bl_tree[2*n]++,e.bl_tree[2*Q]++):o<=10?e.bl_tree[2*H]++:e.bl_tree[2*Y]++,o=0,r=n,0===s?(l=138,u=3):n===s?(l=6,u=3):(l=7,u=4))}function I(e,t,i){var a,n,r=-1,l=t[1],u=0,c=7,h=4;for(0===l&&(c=138,h=3),a=0;a<=i;a++)if(n=l,l=t[2*(a+1)+1],!(++u<c&&n===l)){if(u<h)do{o(e,n,e.bl_tree)}while(0!=--u);else 0!==n?(n!==r&&(o(e,n,e.bl_tree),u--),o(e,Q,e.bl_tree),s(e,u-3,2)):u<=10?(o(e,H,e.bl_tree),s(e,u-3,3)):(o(e,Y,e.bl_tree),s(e,u-11,7));u=0,r=n,0===l?(c=138,h=3):n===l?(c=6,h=3):(c=7,h=4)}}function D(e){var t;for(y(e,e.dyn_ltree,e.l_desc.max_code),y(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=k-1;t>=3&&0===e.bl_tree[2*W[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function v(e,t,i,a){var n;for(s(e,t-257,5),s(e,i-1,5),s(e,a-4,4),n=0;n<a;n++)s(e,e.bl_tree[2*W[n]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,i-1)}function b(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return w;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return P;for(t=32;t<M;t++)if(0!==e.dyn_ltree[2*t])return P;return w}function A(e,t,i,a){s(e,(O<<1)+(a?1:0),3),m(e,t,i,!0)}var C=e("../utils/common"),E=4,w=0,P=1,N=2,O=0,x=1,R=2,L=29,M=256,F=M+1+L,U=30,k=19,B=2*F+1,q=15,G=16,V=7,z=256,Q=16,H=17,Y=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(F+2));a(K);var J=new Array(2*U);a(J);var $=new Array(512);a($);var ee=new Array(256);a(ee);var te=new Array(L);a(te);var ie=new Array(U);a(ie);var ae,ne,re,se=function(e,t,i,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=e&&e.length},oe=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t},le=!1;i._tr_init=function(e){le||(f(),le=!0),e.l_desc=new oe(e.dyn_ltree,ae),e.d_desc=new oe(e.dyn_dtree,ne),e.bl_desc=new oe(e.bl_tree,re),e.bi_buf=0,e.bi_valid=0,d(e)},i._tr_stored_block=A,i._tr_flush_block=function(e,t,i,a){var n,r,o=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=b(e)),_(e,e.l_desc),_(e,e.d_desc),o=D(e),n=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=n&&(n=r)):n=r=i+5,i+4<=n&&-1!==t?A(e,t,i,a):e.strategy===E||r===n?(s(e,(x<<1)+(a?1:0),3),T(e,K,J)):(s(e,(R<<1)+(a?1:0),3),v(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),T(e,e.dyn_ltree,e.dyn_dtree)),d(e),a&&p(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(ee[i]+M+1)]++,e.dyn_dtree[2*n(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){s(e,x<<1,3),o(e,z,K),u(e)}},{"../utils/common":16}],28:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],29:[function(e,t,i){"use strict";var a=a||{};a.CompressionUtils=a.CompressionUtils||{},a.CompressionUtils.JPEG_MAGIC_NUMBER=[255,216],a.CompressionUtils.JPEG2000_MAGIC_NUMBER=[255,79,255,81],a.CompressionUtils.isHeaderJPEG=function(e){return!!e&&(e.getUint8(0)===a.CompressionUtils.JPEG_MAGIC_NUMBER[0]&&e.getUint8(1)===a.CompressionUtils.JPEG_MAGIC_NUMBER[1])},a.CompressionUtils.isHeaderJPEG2000=function(e){var t;if(e){for(t=0;t<a.CompressionUtils.JPEG2000_MAGIC_NUMBER.length;t+=1)if(e.getUint8(t)!==a.CompressionUtils.JPEG2000_MAGIC_NUMBER[t])return!1;return!0}return!1},"undefined"!==typeof t&&t.exports&&(t.exports=a.CompressionUtils)},{}],30:[function(e,t,i){"use strict";var a=a||{};a.Dictionary=a.Dictionary||{},a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Dictionary.dictPrivate={"0207":{"101F":["FE","ElscintDataScale"]}},a.Dictionary.dict={"0002":{"0001":["OB","FileMetaInformationVersion"],"0002":["UI","MediaStoredSOPClassUID"],"0003":["UI","MediaStoredSOPInstanceUID"],"0010":["UI","TransferSyntaxUID"],"0012":["UI","ImplementationClassUID"],"0013":["SH","ImplementationVersionName"],"0016":["AE","SourceApplicationEntityTitle"],"0100":["UI","PrivateInformationCreatorUID"],"0102":["OB","PrivateInformation"]},"0004":{1130:["CS","FilesetID"],1141:["CS","FilesetDescriptorFileFileID"],1142:["CS","FilesetDescriptorFileFormat"],1200:["UL","RootDirectoryEntitysFirstDirectoryRecordOffset"],1202:["UL","RootDirectoryEntitysLastDirectoryRecordOffset"],1212:["US","File-setConsistenceFlag"],1220:["SQ","DirectoryRecordSequence"],1400:["UL","NextDirectoryRecordOffset"],1410:["US","RecordInuseFlag"],1420:["UL","ReferencedLowerlevelDirectoryEntityOffset"],1430:["CS","DirectoryRecordType"],1432:["UI","PrivateRecordUID"],1500:["CS","ReferencedFileID"],1510:["UI","ReferencedSOPClassUIDInFile"],1511:["UI","ReferencedSOPInstanceUIDInFile"],1600:["UL","NumberOfReferences"]},"0008":{"0001":["UL","LengthToEnd"],"0005":["CS","SpecificCharacterSet"],"0006":["SQ","LanguageCodeSequence"],"0008":["CS","ImageType"],"0010":["SH","RecognitionCode"],"0012":["DA","InstanceCreationDate"],"0013":["TM","InstanceCreationTime"],"0014":["UI","InstanceCreatorUID"],"0016":["UI","SOPClassUID"],"0018":["UI","SOPInstanceUID"],"001A":["UI","RelatedGeneralSOPClassUID"],"001B":["UI","OriginalSpecializedSOPClassUID"],"0020":["DA","StudyDate"],"0021":["DA","SeriesDate"],"0022":["DA","AcquisitionDate"],"0023":["DA","ContentDate"],"0024":["DA","OverlayDate"],"0025":["DA","CurveDate"],"002A":["DT","AcquisitionDateTime"],"0030":["TM","StudyTime"],"0031":["TM","SeriesTime"],"0032":["TM","AcquisitionTime"],"0033":["TM","ContentTime"],"0034":["TM","OverlayTime"],"0035":["TM","CurveTime"],"0040":["US","DataSetType"],"0041":["LO","DataSetSubtype"],"0042":["CS","NuclearMedicineSeriesType"],"0050":["SH","AccessionNumber"],"0051":["SQ","IssuerOfAccessionNumberSequence"],"0052":["CS","QueryRetrieveLevel"],"0054":["AE","RetrieveAETitle"],"0056":["CS","InstanceAvailability"],"0058":["UI","FailedSOPInstanceUIDList"],"0060":["CS","Modality"],"0061":["CS","ModalitiesInStudy"],"0062":["UI","SOPClassesInStudy"],"0064":["CS","ConversionType"],"0068":["CS","PresentationIntentType"],"0070":["LO","Manufacturer"],"0080":["LO","InstitutionName"],"0081":["ST","InstitutionAddress"],"0082":["SQ","InstitutionCodeSequence"],"0090":["PN","ReferringPhysicianName"],"0092":["ST","ReferringPhysicianAddress"],"0094":["SH","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","ReferringPhysicianIdentificationSequence"],"0100":["SH","CodeValue"],"0102":["SH","CodingSchemeDesignator"],"0103":["SH","CodingSchemeVersion"],"0104":["LO","CodeMeaning"],"0105":["CS","MappingResource"],"0106":["DT","ContextGroupVersion"],"0107":["DT","ContextGroupLocalVersion"],"010B":["CS","ContextGroupExtensionFlag"],"010C":["UI","CodingSchemeUID"],"010D":["UI","ContextGroupExtensionCreatorUID"],"010F":["CS","ContextIdentifier"],"0110":["SQ","CodingSchemeIdentificationSequence"],"0112":["LO","CodingSchemeRegistry"],"0114":["ST","CodingSchemeExternalID"],"0115":["ST","CodingSchemeName"],"0116":["ST","CodingSchemeResponsibleOrganization"],"0117":["UI","ContextUID"],"0201":["SH","TimezoneOffsetFromUTC"],1000:["AE","NetworkID"],1010:["SH","StationName"],1030:["LO","StudyDescription"],1032:["SQ","ProcedureCodeSequence"],"103E":["LO","SeriesDescription"],"103F":["SQ","SeriesDescriptionCodeSequence"],1040:["LO","InstitutionalDepartmentName"],1048:["PN","PhysiciansOfRecord"],1049:["SQ","PhysiciansOfRecordIdentificationSequence"],1050:["PN","PerformingPhysicianName"],1052:["SQ","PerformingPhysicianIdentificationSequence"],1060:["PN","NameOfPhysiciansReadingStudy"],1062:["SQ","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","OperatorsName"],1072:["SQ","OperatorIdentificationSequence"],1080:["LO","AdmittingDiagnosesDescription"],1084:["SQ","AdmittingDiagnosesCodeSequence"],1090:["LO","ManufacturerModelName"],1100:["SQ","ReferencedResultsSequence"],1110:["SQ","ReferencedStudySequence"],1111:["SQ","ReferencedPerformedProcedureStepSequence"],1115:["SQ","ReferencedSeriesSequence"],1120:["SQ","ReferencedPatientSequence"],1125:["SQ","ReferencedVisitSequence"],1130:["SQ","ReferencedOverlaySequence"],1134:["SQ","ReferencedStereometricInstanceSequence"],"113A":["SQ","ReferencedWaveformSequence"],1140:["SQ","ReferencedImageSequence"],1145:["SQ","ReferencedCurveSequence"],"114A":["SQ","ReferencedInstanceSequence"],"114B":["SQ","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","ReferencedSOPClassUID"],1155:["UI","ReferencedSOPInstanceUID"],"115A":["UI","SOPClassesSupported"],1160:["IS","ReferencedFrameNumber"],1161:["UL","SimpleFrameList"],1162:["UL","CalculatedFrameList"],1163:["FD","TimeRange"],1164:["SQ","FrameExtractionSequence"],1167:["UI","MultiFrameSourceSOPInstanceUID"],1195:["UI","TransactionUID"],1197:["US","FailureReason"],1198:["SQ","FailedSOPSequence"],1199:["SQ","ReferencedSOPSequence"],1200:["SQ","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","RelatedSeriesSequence"],2110:["CS","LossyImageCompressionRetired"],2111:["ST","DerivationDescription"],2112:["SQ","SourceImageSequence"],2120:["SH","StageName"],2122:["IS","StageNumber"],2124:["IS","NumberOfStages"],2127:["SH","ViewName"],2128:["IS","ViewNumber"],2129:["IS","NumberOfEventTimers"],"212A":["IS","NumberOfViewsInStage"],2130:["DS","EventElapsedTimes"],2132:["LO","EventTimerNames"],2133:["SQ","EventTimerSequence"],2134:["FD","EventTimeOffset"],2135:["SQ","EventCodeSequence"],2142:["IS","StartTrim"],2143:["IS","StopTrim"],2144:["IS","RecommendedDisplayFrameRate"],2200:["CS","TransducerPosition"],2204:["CS","TransducerOrientation"],2208:["CS","AnatomicStructure"],2218:["SQ","AnatomicRegionSequence"],2220:["SQ","AnatomicRegionModifierSequence"],2228:["SQ","PrimaryAnatomicStructureSequence"],2229:["SQ","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","TransducerPositionSequence"],2242:["SQ","TransducerPositionModifierSequence"],2244:["SQ","TransducerOrientationSequence"],2246:["SQ","TransducerOrientationModifierSequence"],2251:["SQ","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","AlternateRepresentationSequence"],3010:["UI","IrradiationEventUID"],4000:["LT","IdentifyingComments"],9007:["CS","FrameType"],9092:["SQ","ReferencedImageEvidenceSequence"],9121:["SQ","ReferencedRawDataSequence"],9123:["UI","CreatorVersionUID"],9124:["SQ","DerivationImageSequence"],9154:["SQ","SourceImageEvidenceSequence"],9205:["CS","PixelPresentation"],9206:["CS","VolumetricProperties"],9207:["CS","VolumeBasedCalculationTechnique"],9208:["CS","ComplexImageComponent"],9209:["CS","AcquisitionContrast"],9215:["SQ","DerivationCodeSequence"],9237:["SQ","ReferencedPresentationStateSequence"],9410:["SQ","ReferencedOtherPlaneSequence"],9458:["SQ","FrameDisplaySequence"],9459:["FL","RecommendedDisplayFrameRateInFloat"],9460:["CS","SkipFrameRangeFlag"]},"0010":{"0010":["PN","PatientName"],"0020":["LO","PatientID"],"0021":["LO","IssuerOfPatientID"],"0022":["CS","TypeOfPatientID"],"0024":["SQ","IssuerOfPatientIDQualifiersSequence"],"0030":["DA","PatientBirthDate"],"0032":["TM","PatientBirthTime"],"0040":["CS","PatientSex"],"0050":["SQ","PatientInsurancePlanCodeSequence"],"0101":["SQ","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","PatientPrimaryLanguageModifierCodeSequence"],1000:["LO","OtherPatientIDs"],1001:["PN","OtherPatientNames"],1002:["SQ","OtherPatientIDsSequence"],1005:["PN","PatientBirthName"],1010:["AS","PatientAge"],1020:["DS","PatientSize"],1021:["SQ","PatientSizeCodeSequence"],1030:["DS","PatientWeight"],1040:["LO","PatientAddress"],1050:["LO","InsurancePlanIdentification"],1060:["PN","PatientMotherBirthName"],1080:["LO","MilitaryRank"],1081:["LO","BranchOfService"],1090:["LO","MedicalRecordLocator"],2000:["LO","MedicalAlerts"],2110:["LO","Allergies"],2150:["LO","CountryOfResidence"],2152:["LO","RegionOfResidence"],2154:["SH","PatientTelephoneNumbers"],2160:["SH","EthnicGroup"],2180:["SH","Occupation"],"21A0":["CS","SmokingStatus"],"21B0":["LT","AdditionalPatientHistory"],"21C0":["US","PregnancyStatus"],"21D0":["DA","LastMenstrualDate"],"21F0":["LO","PatientReligiousPreference"],2201:["LO","PatientSpeciesDescription"],2202:["SQ","PatientSpeciesCodeSequence"],2203:["CS","PatientSexNeutered"],2210:["CS","AnatomicalOrientationType"],2292:["LO","PatientBreedDescription"],2293:["SQ","PatientBreedCodeSequence"],2294:["SQ","BreedRegistrationSequence"],2295:["LO","BreedRegistrationNumber"],2296:["SQ","BreedRegistryCodeSequence"],2297:["PN","ResponsiblePerson"],2298:["CS","ResponsiblePersonRole"],2299:["LO","ResponsibleOrganization"],4000:["LT","PatientComments"],9431:["FL","ExaminedBodyThickness"]},"0012":{"0010":["LO","ClinicalTrialSponsorName"],"0020":["LO","ClinicalTrialProtocolID"],"0021":["LO","ClinicalTrialProtocolName"],"0030":["LO","ClinicalTrialSiteID"],"0031":["LO","ClinicalTrialSiteName"],"0040":["LO","ClinicalTrialSubjectID"],"0042":["LO","ClinicalTrialSubjectReadingID"],"0050":["LO","ClinicalTrialTimePointID"],"0051":["ST","ClinicalTrialTimePointDescription"],"0060":["LO","ClinicalTrialCoordinatingCenterName"],"0062":["CS","PatientIdentityRemoved"],"0063":["LO","DeidentificationMethod"],"0064":["SQ","DeidentificationMethodCodeSequence"],"0071":["LO","ClinicalTrialSeriesID"],"0072":["LO","ClinicalTrialSeriesDescription"],"0081":["LO","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","ConsentForClinicalTrialUseSequence"],"0084":["CS","DistributionType"],"0085":["CS","ConsentForDistributionFlag"]},"0014":{"0023":["ST","CADFileFormat"],"0024":["ST","ComponentReferenceSystem"],"0025":["ST","ComponentManufacturingProcedure"],"0028":["ST","ComponentManufacturer"],"0030":["DS","MaterialThickness"],"0032":["DS","MaterialPipeDiameter"],"0034":["DS","MaterialIsolationDiameter"],"0042":["ST","MaterialGrade"],"0044":["ST","MaterialPropertiesFileID"],"0045":["ST","MaterialPropertiesFileFormat"],"0046":["LT","MaterialNotes"],"0050":["CS","ComponentShape"],"0052":["CS","CurvatureType"],"0054":["DS","OuterDiameter"],"0056":["DS","InnerDiameter"],1010:["ST","ActualEnvironmentalConditions"],1020:["DA","ExpiryDate"],1040:["ST","EnvironmentalConditions"],2002:["SQ","EvaluatorSequence"],2004:["IS","EvaluatorNumber"],2006:["PN","EvaluatorName"],2008:["IS","EvaluationAttempt"],2012:["SQ","IndicationSequence"],2014:["IS","IndicationNumber "],2016:["SH","IndicationLabel"],2018:["ST","IndicationDescription"],"201A":["CS","IndicationType"],"201C":["CS","IndicationDisposition"],"201E":["SQ","IndicationROISequence"],2030:["SQ","IndicationPhysicalPropertySequence"],2032:["SH","PropertyLabel"],2202:["IS","CoordinateSystemNumberOfAxes "],2204:["SQ","CoordinateSystemAxesSequence"],2206:["ST","CoordinateSystemAxisDescription"],2208:["CS","CoordinateSystemDataSetMapping"],"220A":["IS","CoordinateSystemAxisNumber"],"220C":["CS","CoordinateSystemAxisType"],"220E":["CS","CoordinateSystemAxisUnits"],2210:["OB","CoordinateSystemAxisValues"],2220:["SQ","CoordinateSystemTransformSequence"],2222:["ST","TransformDescription"],2224:["IS","TransformNumberOfAxes"],2226:["IS","TransformOrderOfAxes"],2228:["CS","TransformedAxisUnits"],"222A":["DS","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","CoordinateSystemTransformTranslationMatrix"],3011:["DS","InternalDetectorFrameTime"],3012:["DS","NumberOfFramesIntegrated"],3020:["SQ","DetectorTemperatureSequence"],3022:["DS","SensorName"],3024:["DS","HorizontalOffsetOfSensor"],3026:["DS","VerticalOffsetOfSensor"],3028:["DS","SensorTemperature"],3040:["SQ","DarkCurrentSequence"],3050:["OB","DarkCurrentCounts"],3060:["SQ","GainCorrectionReferenceSequence"],3070:["OB","AirCounts"],3071:["DS","KVUsedInGainCalibration"],3072:["DS","MAUsedInGainCalibration"],3073:["DS","NumberOfFramesUsedForIntegration"],3074:["LO","FilterMaterialUsedInGainCalibration"],3075:["DS","FilterThicknessUsedInGainCalibration"],3076:["DA","DateOfGainCalibration"],3077:["TM","TimeOfGainCalibration"],3080:["OB","BadPixelImage"],3099:["LT","CalibrationNotes"],4002:["SQ","PulserEquipmentSequence"],4004:["CS","PulserType"],4006:["LT","PulserNotes"],4008:["SQ","ReceiverEquipmentSequence"],"400A":["CS","AmplifierType"],"400C":["LT","ReceiverNotes"],"400E":["SQ","PreAmplifierEquipmentSequence"],"400F":["LT","PreAmplifierNotes"],4010:["SQ","TransmitTransducerSequence"],4011:["SQ","ReceiveTransducerSequence"],4012:["US","NumberOfElements"],4013:["CS","ElementShape"],4014:["DS","ElementDimensionA"],4015:["DS","ElementDimensionB"],4016:["DS","ElementPitch"],4017:["DS","MeasuredBeamDimensionA"],4018:["DS","MeasuredBeamDimensionB"],4019:["DS","LocationOfMeasuredBeamDiameter"],"401A":["DS","NominalFrequency"],"401B":["DS","MeasuredCenterFrequency"],"401C":["DS","MeasuredBandwidth"],4020:["SQ","PulserSettingsSequence"],4022:["DS","PulseWidth"],4024:["DS","ExcitationFrequency"],4026:["CS","ModulationType"],4028:["DS","Damping"],4030:["SQ","ReceiverSettingsSequence"],4031:["DS","AcquiredSoundpathLength"],4032:["CS","AcquisitionCompressionType"],4033:["IS","AcquisitionSampleSize"],4034:["DS","RectifierSmoothing"],4035:["SQ","DACSequence"],4036:["CS","DACType"],4038:["DS","DACGainPoints"],"403A":["DS","DACTimePoints"],"403C":["DS","DACAmplitude"],4040:["SQ","PreAmplifierSettingsSequence"],4050:["SQ","TransmitTransducerSettingsSequence"],4051:["SQ","ReceiveTransducerSettingsSequence"],4052:["DS","IncidentAngle"],4054:["ST","CouplingTechnique"],4056:["ST","CouplingMedium"],4057:["DS","CouplingVelocity"],4058:["DS","CrystalCenterLocationX"],4059:["DS","CrystalCenterLocationZ"],"405A":["DS","SoundPathLength"],"405C":["ST","DelayLawIdentifier"],4060:["SQ","GateSettingsSequence"],4062:["DS","GateThreshold"],4064:["DS","VelocityOfSound"],4070:["SQ","CalibrationSettingsSequence"],4072:["ST","CalibrationProcedure"],4074:["SH","ProcedureVersion"],4076:["DA","ProcedureCreationDate"],4078:["DA","ProcedureExpirationDate"],"407A":["DA","ProcedureLastModifiedDate"],"407C":["TM","CalibrationTime"],"407E":["DA","CalibrationDate"],5002:["IS","LINACEnergy"],5004:["IS","LINACOutput"]},"0018":{"0010":["LO","ContrastBolusAgent"],"0012":["SQ","ContrastBolusAgentSequence"],"0014":["SQ","ContrastBolusAdministrationRouteSequence"],"0015":["CS","BodyPartExamined"],"0020":["CS","ScanningSequence"],"0021":["CS","SequenceVariant"],"0022":["CS","ScanOptions"],"0023":["CS","MRAcquisitionType"],"0024":["SH","SequenceName"],"0025":["CS","AngioFlag"],"0026":["SQ","InterventionDrugInformationSequence"],"0027":["TM","InterventionDrugStopTime"],"0028":["DS","InterventionDrugDose"],"0029":["SQ","InterventionDrugCodeSequence"],"002A":["SQ","AdditionalDrugSequence"],"0030":["LO","Radionuclide"],"0031":["LO","Radiopharmaceutical"],"0032":["DS","EnergyWindowCenterline"],"0033":["DS","EnergyWindowTotalWidth"],"0034":["LO","InterventionDrugName"],"0035":["TM","InterventionDrugStartTime"],"0036":["SQ","InterventionSequence"],"0037":["CS","TherapyType"],"0038":["CS","InterventionStatus"],"0039":["CS","TherapyDescription"],"003A":["ST","InterventionDescription"],"0040":["IS","CineRate"],"0042":["CS","InitialCineRunState"],"0050":["DS","SliceThickness"],"0060":["DS","KVP"],"0070":["IS","CountsAccumulated"],"0071":["CS","AcquisitionTerminationCondition"],"0072":["DS","EffectiveDuration"],"0073":["CS","AcquisitionStartCondition"],"0074":["IS","AcquisitionStartConditionData"],"0075":["IS","AcquisitionTerminationConditionData"],"0080":["DS","RepetitionTime"],"0081":["DS","EchoTime"],"0082":["DS","InversionTime"],"0083":["DS","NumberOfAverages"],"0084":["DS","ImagingFrequency"],"0085":["SH","ImagedNucleus"],"0086":["IS","EchoNumbers"],"0087":["DS","MagneticFieldStrength"],"0088":["DS","SpacingBetweenSlices"],"0089":["IS","NumberOfPhaseEncodingSteps"],"0090":["DS","DataCollectionDiameter"],"0091":["IS","EchoTrainLength"],"0093":["DS","PercentSampling"],"0094":["DS","PercentPhaseFieldOfView"],"0095":["DS","PixelBandwidth"],1000:["LO","DeviceSerialNumber"],1002:["UI","DeviceUID"],1003:["LO","DeviceID"],1004:["LO","PlateID"],1005:["LO","GeneratorID"],1006:["LO","GridID"],1007:["LO","CassetteID"],1008:["LO","GantryID"],1010:["LO","SecondaryCaptureDeviceID"],1011:["LO","HardcopyCreationDeviceID"],1012:["DA","DateOfSecondaryCapture"],1014:["TM","TimeOfSecondaryCapture"],1016:["LO","SecondaryCaptureDeviceManufacturer"],1017:["LO","HardcopyDeviceManufacturer"],1018:["LO","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","HardcopyDeviceSoftwareVersion"],"101B":["LO","HardcopyDeviceManufacturerModelName"],1020:["LO","SoftwareVersions"],1022:["SH","VideoImageFormatAcquired"],1023:["LO","DigitalImageFormatAcquired"],1030:["LO","ProtocolName"],1040:["LO","ContrastBolusRoute"],1041:["DS","ContrastBolusVolume"],1042:["TM","ContrastBolusStartTime"],1043:["TM","ContrastBolusStopTime"],1044:["DS","ContrastBolusTotalDose"],1045:["IS","SyringeCounts"],1046:["DS","ContrastFlowRate"],1047:["DS","ContrastFlowDuration"],1048:["CS","ContrastBolusIngredient"],1049:["DS","ContrastBolusIngredientConcentration"],1050:["DS","SpatialResolution"],1060:["DS","TriggerTime"],1061:["LO","TriggerSourceOrType"],1062:["IS","NominalInterval"],1063:["DS","FrameTime"],1064:["LO","CardiacFramingType"],1065:["DS","FrameTimeVector"],1066:["DS","FrameDelay"],1067:["DS","ImageTriggerDelay"],1068:["DS","MultiplexGroupTimeOffset"],1069:["DS","TriggerTimeOffset"],"106A":["CS","SynchronizationTrigger"],"106C":["US","SynchronizationChannel"],"106E":["UL","TriggerSamplePosition"],1070:["LO","RadiopharmaceuticalRoute"],1071:["DS","RadiopharmaceuticalVolume"],1072:["TM","RadiopharmaceuticalStartTime"],1073:["TM","RadiopharmaceuticalStopTime"],1074:["DS","RadionuclideTotalDose"],1075:["DS","RadionuclideHalfLife"],1076:["DS","RadionuclidePositronFraction"],1077:["DS","RadiopharmaceuticalSpecificActivity"],1078:["DT","RadiopharmaceuticalStartDateTime"],1079:["DT","RadiopharmaceuticalStopDateTime"],1080:["CS","BeatRejectionFlag"],1081:["IS","LowRRValue"],1082:["IS","HighRRValue"],1083:["IS","IntervalsAcquired"],1084:["IS","IntervalsRejected"],1085:["LO","PVCRejection"],1086:["IS","SkipBeats"],1088:["IS","HeartRate"],1090:["IS","CardiacNumberOfImages"],1094:["IS","TriggerWindow"],1100:["DS","ReconstructionDiameter"],1110:["DS","DistanceSourceToDetector"],1111:["DS","DistanceSourceToPatient"],1114:["DS","EstimatedRadiographicMagnificationFactor"],1120:["DS","GantryDetectorTilt"],1121:["DS","GantryDetectorSlew"],1130:["DS","TableHeight"],1131:["DS","TableTraverse"],1134:["CS","TableMotion"],1135:["DS","TableVerticalIncrement"],1136:["DS","TableLateralIncrement"],1137:["DS","TableLongitudinalIncrement"],1138:["DS","TableAngle"],"113A":["CS","TableType"],1140:["CS","RotationDirection"],1141:["DS","AngularPosition"],1142:["DS","RadialPosition"],1143:["DS","ScanArc"],1144:["DS","AngularStep"],1145:["DS","CenterOfRotationOffset"],1146:["DS","RotationOffset"],1147:["CS","FieldOfViewShape"],1149:["IS","FieldOfViewDimensions"],1150:["IS","ExposureTime"],1151:["IS","XRayTubeCurrent"],1152:["IS","Exposure"],1153:["IS","ExposureInuAs"],1154:["DS","AveragePulseWidth"],1155:["CS","RadiationSetting"],1156:["CS","RectificationType"],"115A":["CS","RadiationMode"],"115E":["DS","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","FilterType"],1161:["LO","TypeOfFilters"],1162:["DS","IntensifierSize"],1164:["DS","ImagerPixelSpacing"],1166:["CS","Grid"],1170:["IS","GeneratorPower"],1180:["SH","CollimatorGridName"],1181:["CS","CollimatorType"],1182:["IS","FocalDistance"],1183:["DS","XFocusCenter"],1184:["DS","YFocusCenter"],1190:["DS","FocalSpots"],1191:["CS","AnodeTargetMaterial"],"11A0":["DS","BodyPartThickness"],"11A2":["DS","CompressionForce"],1200:["DA","DateOfLastCalibration"],1201:["TM","TimeOfLastCalibration"],1210:["SH","ConvolutionKernel"],1240:["IS","UpperLowerPixelValues"],1242:["IS","ActualFrameDuration"],1243:["IS","CountRate"],1244:["US","PreferredPlaybackSequencing"],1250:["SH","ReceiveCoilName"],1251:["SH","TransmitCoilName"],1260:["SH","PlateType"],1261:["LO","PhosphorType"],1300:["DS","ScanVelocity"],1301:["CS","WholeBodyTechnique"],1302:["IS","ScanLength"],1310:["US","AcquisitionMatrix"],1312:["CS","InPlanePhaseEncodingDirection"],1314:["DS","FlipAngle"],1315:["CS","VariableFlipAngleFlag"],1316:["DS","SAR"],1318:["DS","dBdt"],1400:["LO","AcquisitionDeviceProcessingDescription"],1401:["LO","AcquisitionDeviceProcessingCode"],1402:["CS","CassetteOrientation"],1403:["CS","CassetteSize"],1404:["US","ExposuresOnPlate"],1405:["IS","RelativeXRayExposure"],1411:["DS","ExposureIndex"],1412:["DS","TargetExposureIndex"],1413:["DS","DeviationIndex"],1450:["DS","ColumnAngulation"],1460:["DS","TomoLayerHeight"],1470:["DS","TomoAngle"],1480:["DS","TomoTime"],1490:["CS","TomoType"],1491:["CS","TomoClass"],1495:["IS","NumberOfTomosynthesisSourceImages"],1500:["CS","PositionerMotion"],1508:["CS","PositionerType"],1510:["DS","PositionerPrimaryAngle"],1511:["DS","PositionerSecondaryAngle"],1520:["DS","PositionerPrimaryAngleIncrement"],1521:["DS","PositionerSecondaryAngleIncrement"],1530:["DS","DetectorPrimaryAngle"],1531:["DS","DetectorSecondaryAngle"],1600:["CS","ShutterShape"],1602:["IS","ShutterLeftVerticalEdge"],1604:["IS","ShutterRightVerticalEdge"],1606:["IS","ShutterUpperHorizontalEdge"],1608:["IS","ShutterLowerHorizontalEdge"],1610:["IS","CenterOfCircularShutter"],1612:["IS","RadiusOfCircularShutter"],1620:["IS","VerticesOfThePolygonalShutter"],1622:["US","ShutterPresentationValue"],1623:["US","ShutterOverlayGroup"],1624:["US","ShutterPresentationColorCIELabValue"],1700:["CS","CollimatorShape"],1702:["IS","CollimatorLeftVerticalEdge"],1704:["IS","CollimatorRightVerticalEdge"],1706:["IS","CollimatorUpperHorizontalEdge"],1708:["IS","CollimatorLowerHorizontalEdge"],1710:["IS","CenterOfCircularCollimator"],1712:["IS","RadiusOfCircularCollimator"],1720:["IS","VerticesOfThePolygonalCollimator"],1800:["CS","AcquisitionTimeSynchronized"],1801:["SH","TimeSource"],1802:["CS","TimeDistributionProtocol"],1803:["LO","NTPSourceAddress"],2001:["IS","PageNumberVector"],2002:["SH","FrameLabelVector"],2003:["DS","FramePrimaryAngleVector"],2004:["DS","FrameSecondaryAngleVector"],2005:["DS","SliceLocationVector"],2006:["SH","DisplayWindowLabelVector"],2010:["DS","NominalScannedPixelSpacing"],2020:["CS","DigitizingDeviceTransportDirection"],2030:["DS","RotationOfScannedFilm"],3100:["CS","IVUSAcquisition"],3101:["DS","IVUSPullbackRate"],3102:["DS","IVUSGatedRate"],3103:["IS","IVUSPullbackStartFrameNumber"],3104:["IS","IVUSPullbackStopFrameNumber"],3105:["IS","LesionNumber"],4000:["LT","AcquisitionComments"],5000:["SH","OutputPower"],5010:["LO","TransducerData"],5012:["DS","FocusDepth"],5020:["LO","ProcessingFunction"],5021:["LO","PostprocessingFunction"],5022:["DS","MechanicalIndex"],5024:["DS","BoneThermalIndex"],5026:["DS","CranialThermalIndex"],5027:["DS","SoftTissueThermalIndex"],5028:["DS","SoftTissueFocusThermalIndex"],5029:["DS","SoftTissueSurfaceThermalIndex"],5030:["DS","DynamicRange"],5040:["DS","TotalGain"],5050:["IS","DepthOfScanField"],5100:["CS","PatientPosition"],5101:["CS","ViewPosition"],5104:["SQ","ProjectionEponymousNameCodeSequence"],5210:["DS","ImageTransformationMatrix"],5212:["DS","ImageTranslationVector"],6000:["DS","Sensitivity"],6011:["SQ","SequenceOfUltrasoundRegions"],6012:["US","RegionSpatialFormat"],6014:["US","RegionDataType"],6016:["UL","RegionFlags"],6018:["UL","RegionLocationMinX0"],"601A":["UL","RegionLocationMinY0"],"601C":["UL","RegionLocationMaxX1"],"601E":["UL","RegionLocationMaxY1"],6020:["SL","ReferencePixelX0"],6022:["SL","ReferencePixelY0"],6024:["US","PhysicalUnitsXDirection"],6026:["US","PhysicalUnitsYDirection"],6028:["FD","ReferencePixelPhysicalValueX"],"602A":["FD","ReferencePixelPhysicalValueY"],"602C":["FD","PhysicalDeltaX"],"602E":["FD","PhysicalDeltaY"],6030:["UL","TransducerFrequency"],6031:["CS","TransducerType"],6032:["UL","PulseRepetitionFrequency"],6034:["FD","DopplerCorrectionAngle"],6036:["FD","SteeringAngle"],6038:["UL","DopplerSampleVolumeXPositionRetired"],6039:["SL","DopplerSampleVolumeXPosition"],"603A":["UL","DopplerSampleVolumeYPositionRetired"],"603B":["SL","DopplerSampleVolumeYPosition"],"603C":["UL","TMLinePositionX0Retired"],"603D":["SL","TMLinePositionX0"],"603E":["UL","TMLinePositionY0Retired"],"603F":["SL","TMLinePositionY0"],6040:["UL","TMLinePositionX1Retired"],6041:["SL","TMLinePositionX1"],6042:["UL","TMLinePositionY1Retired"],6043:["SL","TMLinePositionY1"],6044:["US","PixelComponentOrganization"],6046:["UL","PixelComponentMask"],6048:["UL","PixelComponentRangeStart"],"604A":["UL","PixelComponentRangeStop"],"604C":["US","PixelComponentPhysicalUnits"],"604E":["US","PixelComponentDataType"],6050:["UL","NumberOfTableBreakPoints"],6052:["UL","TableOfXBreakPoints"],6054:["FD","TableOfYBreakPoints"],6056:["UL","NumberOfTableEntries"],6058:["UL","TableOfPixelValues"],"605A":["FL","TableOfParameterValues"],6060:["FL","RWaveTimeVector"],7000:["CS","DetectorConditionsNominalFlag"],7001:["DS","DetectorTemperature"],7004:["CS","DetectorType"],7005:["CS","DetectorConfiguration"],7006:["LT","DetectorDescription"],7008:["LT","DetectorMode"],"700A":["SH","DetectorID"],"700C":["DA","DateOfLastDetectorCalibration"],"700E":["TM","TimeOfLastDetectorCalibration"],7010:["IS","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","ExposuresOnDetectorSinceManufactured"],7012:["DS","DetectorTimeSinceLastExposure"],7014:["DS","DetectorActiveTime"],7016:["DS","DetectorActivationOffsetFromExposure"],"701A":["DS","DetectorBinning"],7020:["DS","DetectorElementPhysicalSize"],7022:["DS","DetectorElementSpacing"],7024:["CS","DetectorActiveShape"],7026:["DS","DetectorActiveDimensions"],7028:["DS","DetectorActiveOrigin"],"702A":["LO","DetectorManufacturerName"],"702B":["LO","DetectorManufacturerModelName"],7030:["DS","FieldOfViewOrigin"],7032:["DS","FieldOfViewRotation"],7034:["CS","FieldOfViewHorizontalFlip"],7036:["FL","PixelDataAreaOriginRelativeToFOV"],7038:["FL","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","GridAbsorbingMaterial"],7041:["LT","GridSpacingMaterial"],7042:["DS","GridThickness"],7044:["DS","GridPitch"],7046:["IS","GridAspectRatio"],7048:["DS","GridPeriod"],"704C":["DS","GridFocalDistance"],7050:["CS","FilterMaterial"],7052:["DS","FilterThicknessMinimum"],7054:["DS","FilterThicknessMaximum"],7056:["FL","FilterBeamPathLengthMinimum"],7058:["FL","FilterBeamPathLengthMaximum"],7060:["CS","ExposureControlMode"],7062:["LT","ExposureControlModeDescription"],7064:["CS","ExposureStatus"],7065:["DS","PhototimerSetting"],8150:["DS","ExposureTimeInuS"],8151:["DS","XRayTubeCurrentInuA"],9004:["CS","ContentQualification"],9005:["SH","PulseSequenceName"],9006:["SQ","MRImagingModifierSequence"],9008:["CS","EchoPulseSequence"],9009:["CS","InversionRecovery"],9010:["CS","FlowCompensation"],9011:["CS","MultipleSpinEcho"],9012:["CS","MultiPlanarExcitation"],9014:["CS","PhaseContrast"],9015:["CS","TimeOfFlightContrast"],9016:["CS","Spoiling"],9017:["CS","SteadyStatePulseSequence"],9018:["CS","EchoPlanarPulseSequence"],9019:["FD","TagAngleFirstAxis"],9020:["CS","MagnetizationTransfer"],9021:["CS","T2Preparation"],9022:["CS","BloodSignalNulling"],9024:["CS","SaturationRecovery"],9025:["CS","SpectrallySelectedSuppression"],9026:["CS","SpectrallySelectedExcitation"],9027:["CS","SpatialPresaturation"],9028:["CS","Tagging"],9029:["CS","OversamplingPhase"],9030:["FD","TagSpacingFirstDimension"],9032:["CS","GeometryOfKSpaceTraversal"],9033:["CS","SegmentedKSpaceTraversal"],9034:["CS","RectilinearPhaseEncodeReordering"],9035:["FD","TagThickness"],9036:["CS","PartialFourierDirection"],9037:["CS","CardiacSynchronizationTechnique"],9041:["LO","ReceiveCoilManufacturerName"],9042:["SQ","MRReceiveCoilSequence"],9043:["CS","ReceiveCoilType"],9044:["CS","QuadratureReceiveCoil"],9045:["SQ","MultiCoilDefinitionSequence"],9046:["LO","MultiCoilConfiguration"],9047:["SH","MultiCoilElementName"],9048:["CS","MultiCoilElementUsed"],9049:["SQ","MRTransmitCoilSequence"],9050:["LO","TransmitCoilManufacturerName"],9051:["CS","TransmitCoilType"],9052:["FD","SpectralWidth"],9053:["FD","ChemicalShiftReference"],9054:["CS","VolumeLocalizationTechnique"],9058:["US","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","Decoupling"],9060:["CS","DecoupledNucleus"],9061:["FD","DecouplingFrequency"],9062:["CS","DecouplingMethod"],9063:["FD","DecouplingChemicalShiftReference"],9064:["CS","KSpaceFiltering"],9065:["CS","TimeDomainFiltering"],9066:["US","NumberOfZeroFills"],9067:["CS","BaselineCorrection"],9069:["FD","ParallelReductionFactorInPlane"],9070:["FD","CardiacRRIntervalSpecified"],9073:["FD","AcquisitionDuration"],9074:["DT","FrameAcquisitionDateTime"],9075:["CS","DiffusionDirectionality"],9076:["SQ","DiffusionGradientDirectionSequence"],9077:["CS","ParallelAcquisition"],9078:["CS","ParallelAcquisitionTechnique"],9079:["FD","InversionTimes"],9080:["ST","MetaboliteMapDescription"],9081:["CS","PartialFourier"],9082:["FD","EffectiveEchoTime"],9083:["SQ","MetaboliteMapCodeSequence"],9084:["SQ","ChemicalShiftSequence"],9085:["CS","CardiacSignalSource"],9087:["FD","DiffusionBValue"],9089:["FD","DiffusionGradientOrientation"],9090:["FD","VelocityEncodingDirection"],9091:["FD","VelocityEncodingMinimumValue"],9092:["SQ","VelocityEncodingAcquisitionSequence"],9093:["US","NumberOfKSpaceTrajectories"],9094:["CS","CoverageOfKSpace"],9095:["UL","SpectroscopyAcquisitionPhaseRows"],9096:["FD","ParallelReductionFactorInPlaneRetired"],9098:["FD","TransmitterFrequency"],9100:["CS","ResonantNucleus"],9101:["CS","FrequencyCorrection"],9103:["SQ","MRSpectroscopyFOVGeometrySequence"],9104:["FD","SlabThickness"],9105:["FD","SlabOrientation"],9106:["FD","MidSlabPosition"],9107:["SQ","MRSpatialSaturationSequence"],9112:["SQ","MRTimingAndRelatedParametersSequence"],9114:["SQ","MREchoSequence"],9115:["SQ","MRModifierSequence"],9117:["SQ","MRDiffusionSequence"],9118:["SQ","CardiacSynchronizationSequence"],9119:["SQ","MRAveragesSequence"],9125:["SQ","MRFOVGeometrySequence"],9126:["SQ","VolumeLocalizationSequence"],9127:["UL","SpectroscopyAcquisitionDataColumns"],9147:["CS","DiffusionAnisotropyType"],9151:["DT","FrameReferenceDateTime"],9152:["SQ","MRMetaboliteMapSequence"],9155:["FD","ParallelReductionFactorOutOfPlane"],9159:["UL","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","BulkMotionStatus"],9168:["FD","ParallelReductionFactorSecondInPlane"],9169:["CS","CardiacBeatRejectionTechnique"],9170:["CS","RespiratoryMotionCompensationTechnique"],9171:["CS","RespiratorySignalSource"],9172:["CS","BulkMotionCompensationTechnique"],9173:["CS","BulkMotionSignalSource"],9174:["CS","ApplicableSafetyStandardAgency"],9175:["LO","ApplicableSafetyStandardDescription"],9176:["SQ","OperatingModeSequence"],9177:["CS","OperatingModeType"],9178:["CS","OperatingMode"],9179:["CS","SpecificAbsorptionRateDefinition"],9180:["CS","GradientOutputType"],9181:["FD","SpecificAbsorptionRateValue"],9182:["FD","GradientOutput"],9183:["CS","FlowCompensationDirection"],9184:["FD","TaggingDelay"],9185:["ST","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","RespiratorySignalSourceID"],9195:["FD","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","MRVelocityEncodingSequence"],9198:["CS","FirstOrderPhaseCorrection"],9199:["CS","WaterReferencedPhaseCorrection"],9200:["CS","MRSpectroscopyAcquisitionType"],9214:["CS","RespiratoryCyclePosition"],9217:["FD","VelocityEncodingMaximumValue"],9218:["FD","TagSpacingSecondDimension"],9219:["SS","TagAngleSecondAxis"],9220:["FD","FrameAcquisitionDuration"],9226:["SQ","MRImageFrameTypeSequence"],9227:["SQ","MRSpectroscopyFrameTypeSequence"],9231:["US","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","CardiacCyclePosition"],9239:["SQ","SpecificAbsorptionRateSequence"],9240:["US","RFEchoTrainLength"],9241:["US","GradientEchoTrainLength"],9250:["CS","ArterialSpinLabelingContrast"],9251:["SQ","MRArterialSpinLabelingSequence"],9252:["LO","ASLTechniqueDescription"],9253:["US","ASLSlabNumber"],9254:["FD ","ASLSlabThickness"],9255:["FD ","ASLSlabOrientation"],9256:["FD ","ASLMidSlabPosition"],9257:["CS","ASLContext"],9258:["UL","ASLPulseTrainDuration"],9259:["CS","ASLCrusherFlag"],"925A":["FD","ASLCrusherFlow"],"925B":["LO","ASLCrusherDescription"],"925C":["CS","ASLBolusCutoffFlag"],"925D":["SQ","ASLBolusCutoffTimingSequence"],"925E":["LO","ASLBolusCutoffTechnique"],"925F":["UL","ASLBolusCutoffDelayTime"],9260:["SQ","ASLSlabSequence"],9295:["FD","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","ChemicalShiftMaximumIntegrationLimitInppm"],9301:["SQ","CTAcquisitionTypeSequence"],9302:["CS","AcquisitionType"],9303:["FD","TubeAngle"],9304:["SQ","CTAcquisitionDetailsSequence"],9305:["FD","RevolutionTime"],9306:["FD","SingleCollimationWidth"],9307:["FD","TotalCollimationWidth"],9308:["SQ","CTTableDynamicsSequence"],9309:["FD","TableSpeed"],9310:["FD","TableFeedPerRotation"],9311:["FD","SpiralPitchFactor"],9312:["SQ","CTGeometrySequence"],9313:["FD","DataCollectionCenterPatient"],9314:["SQ","CTReconstructionSequence"],9315:["CS","ReconstructionAlgorithm"],9316:["CS","ConvolutionKernelGroup"],9317:["FD","ReconstructionFieldOfView"],9318:["FD","ReconstructionTargetCenterPatient"],9319:["FD","ReconstructionAngle"],9320:["SH","ImageFilter"],9321:["SQ","CTExposureSequence"],9322:["FD","ReconstructionPixelSpacing"],9323:["CS","ExposureModulationType"],9324:["FD","EstimatedDoseSaving"],9325:["SQ","CTXRayDetailsSequence"],9326:["SQ","CTPositionSequence"],9327:["FD","TablePosition"],9328:["FD","ExposureTimeInms"],9329:["SQ","CTImageFrameTypeSequence"],9330:["FD","XRayTubeCurrentInmA"],9332:["FD","ExposureInmAs"],9333:["CS","ConstantVolumeFlag"],9334:["CS","FluoroscopyFlag"],9335:["FD","DistanceSourceToDataCollectionCenter"],9337:["US","ContrastBolusAgentNumber"],9338:["SQ","ContrastBolusIngredientCodeSequence"],9340:["SQ","ContrastAdministrationProfileSequence"],9341:["SQ","ContrastBolusUsageSequence"],9342:["CS","ContrastBolusAgentAdministered"],9343:["CS","ContrastBolusAgentDetected"],9344:["CS","ContrastBolusAgentPhase"],9345:["FD","CTDIvol"],9346:["SQ","CTDIPhantomTypeCodeSequence"],9351:["FL","CalciumScoringMassFactorPatient"],9352:["FL","CalciumScoringMassFactorDevice"],9353:["FL","EnergyWeightingFactor"],9360:["SQ","CTAdditionalXRaySourceSequence"],9401:["SQ","ProjectionPixelCalibrationSequence"],9402:["FL","DistanceSourceToIsocenter"],9403:["FL","DistanceObjectToTableTop"],9404:["FL","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","PositionerPositionSequence"],9406:["SQ","TablePositionSequence"],9407:["SQ","CollimatorShapeSequence"],9410:["CS","PlanesInAcquisition"],9412:["SQ","XAXRFFrameCharacteristicsSequence"],9417:["SQ","FrameAcquisitionSequence"],9420:["CS","XRayReceptorType"],9423:["LO","AcquisitionProtocolName"],9424:["LT","AcquisitionProtocolDescription"],9425:["CS","ContrastBolusIngredientOpaque"],9426:["FL","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","IntensifierActiveShape"],9428:["FL","IntensifierActiveDimensions"],9429:["FL","PhysicalDetectorSize"],9430:["FL","PositionOfIsocenterProjection"],9432:["SQ","FieldOfViewSequence"],9433:["LO","FieldOfViewDescription"],9434:["SQ","ExposureControlSensingRegionsSequence"],9435:["CS","ExposureControlSensingRegionShape"],9436:["SS","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","CenterOfCircularExposureControlSensingRegion"],9441:["US","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","VerticesOfThePolygonalExposureControlSensingRegion"],9447:["FL","ColumnAngulationPatient"],9449:["FL","BeamAngle"],9451:["SQ","FrameDetectorParametersSequence"],9452:["FL","CalculatedAnatomyThickness"],9455:["SQ","CalibrationSequence"],9456:["SQ","ObjectThicknessSequence"],9457:["CS","PlaneIdentification"],9461:["FL","FieldOfViewDimensionsInFloat"],9462:["SQ","IsocenterReferenceSystemSequence"],9463:["FL","PositionerIsocenterPrimaryAngle"],9464:["FL","PositionerIsocenterSecondaryAngle"],9465:["FL","PositionerIsocenterDetectorRotationAngle"],9466:["FL","TableXPositionToIsocenter"],9467:["FL","TableYPositionToIsocenter"],9468:["FL","TableZPositionToIsocenter"],9469:["FL","TableHorizontalRotationAngle"],9470:["FL","TableHeadTiltAngle"],9471:["FL","TableCradleTiltAngle"],9472:["SQ","FrameDisplayShutterSequence"],9473:["FL","AcquiredImageAreaDoseProduct"],9474:["CS","CArmPositionerTabletopRelationship"],9476:["SQ","XRayGeometrySequence"],9477:["SQ","IrradiationEventIdentificationSequence"],9504:["SQ","XRay3DFrameTypeSequence"],9506:["SQ","ContributingSourcesSequence"],9507:["SQ","XRay3DAcquisitionSequence"],9508:["FL","PrimaryPositionerScanArc"],9509:["FL","SecondaryPositionerScanArc"],9510:["FL ","PrimaryPositionerScanStartAngle"],9511:["FL","SecondaryPositionerScanStartAngle"],9514:["FL","PrimaryPositionerIncrement"],9515:["FL","SecondaryPositionerIncrement"],9516:["DT","StartAcquisitionDateTime"],9517:["DT","EndAcquisitionDateTime"],9524:["LO","ApplicationName"],9525:["LO","ApplicationVersion"],9526:["LO","ApplicationManufacturer"],9527:["CS","AlgorithmType"],9528:["LO","AlgorithmDescription"],9530:["SQ","XRay3DReconstructionSequence"],9531:["LO","ReconstructionDescription"],9538:["SQ","PerProjectionAcquisitionSequence"],9601:["SQ","DiffusionBMatrixSequence"],9602:["FD","DiffusionBValueXX"],9603:["FD","DiffusionBValueXY"],9604:["FD","DiffusionBValueXZ"],9605:["FD","DiffusionBValueYY"],9606:["FD","DiffusionBValueYZ"],9607:["FD","DiffusionBValueZZ"],9701:["DT","DecayCorrectionDateTime"],9715:["FD","StartDensityThreshold"],9716:["FD","StartRelativeDensityDifferenceThreshold"],9717:["FD","StartCardiacTriggerCountThreshold"],9718:["FD","StartRespiratoryTriggerCountThreshold"],9719:["FD","TerminationCountsThreshold"],9720:["FD","TerminationDensityThreshold"],9721:["FD","TerminationRelativeDensityThreshold"],9722:["FD","TerminationTimeThreshold"],9723:["FD","TerminationCardiacTriggerCountThreshold"],9724:["FD","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","DetectorGeometry"],9726:["FD","TransverseDetectorSeparation"],9727:["FD","AxialDetectorDimension"],9729:["US","RadiopharmaceuticalAgentNumber"],9732:["SQ","PETFrameAcquisitionSequence"],9733:["SQ","PETDetectorMotionDetailsSequence"],9734:["SQ","PETTableDynamicsSequence"],9735:["SQ","PETPositionSequence"],9736:["SQ","PETFrameCorrectionFactorsSequence"],9737:["SQ","RadiopharmaceuticalUsageSequence"],9738:["CS","AttenuationCorrectionSource"],9739:["US","NumberOfIterations"],9740:["US","NumberOfSubsets"],9749:["SQ","PETReconstructionSequence"],9751:["SQ","PETFrameTypeSequence"],9755:["CS","TimeOfFlightInformationUsed"],9756:["CS","ReconstructionType"],9758:["CS","DecayCorrected"],9759:["CS","AttenuationCorrected"],9760:["CS","ScatterCorrected"],9761:["CS","DeadTimeCorrected"],9762:["CS","GantryMotionCorrected"],9763:["CS","PatientMotionCorrected"],9764:["CS","CountLossNormalizationCorrected"],9765:["CS","RandomsCorrected"],9766:["CS","NonUniformRadialSamplingCorrected"],9767:["CS","SensitivityCalibrated"],9768:["CS","DetectorNormalizationCorrection"],9769:["CS","IterativeReconstructionMethod"],9770:["CS","AttenuationCorrectionTemporalRelationship"],9771:["SQ","PatientPhysiologicalStateSequence"],9772:["SQ","PatientPhysiologicalStateCodeSequence"],9801:["FD","DepthsOfFocus"],9803:["SQ","ExcludedIntervalsSequence"],9804:["DT","ExclusionStartDatetime"],9805:["FD","ExclusionDuration"],9806:["SQ","USImageDescriptionSequence"],9807:["SQ","ImageDataTypeSequence"],9808:["CS","DataType"],9809:["SQ","TransducerScanPatternCodeSequence"],"980B":["CS","AliasedDataType"],"980C":["CS","PositionMeasuringDeviceUsed"],"980D":["SQ","TransducerGeometryCodeSequence"],"980E":["SQ","TransducerBeamSteeringCodeSequence"],"980F":["SQ","TransducerApplicationCodeSequence"],A001:["SQ","ContributingEquipmentSequence"],A002:["DT","ContributionDateTime"],A003:["ST","ContributionDescription"]},"0020":{"000D":["UI","StudyInstanceUID"],"000E":["UI","SeriesInstanceUID"],"0010":["SH","StudyID"],"0011":["IS","SeriesNumber"],"0012":["IS","AcquisitionNumber"],"0013":["IS","InstanceNumber"],"0014":["IS","IsotopeNumber"],"0015":["IS","PhaseNumber"],"0016":["IS","IntervalNumber"],"0017":["IS","TimeSlotNumber"],"0018":["IS","AngleNumber"],"0019":["IS","ItemNumber"],"0020":["CS","PatientOrientation"],"0022":["IS","OverlayNumber"],"0024":["IS","CurveNumber"],"0026":["IS","LUTNumber"],"0030":["DS","ImagePosition"],"0032":["DS","ImagePositionPatient"],"0035":["DS","ImageOrientation"],"0037":["DS","ImageOrientationPatient"],"0050":["DS","Location"],"0052":["UI","FrameOfReferenceUID"],"0060":["CS","Laterality"],"0062":["CS","ImageLaterality"],"0070":["LO","ImageGeometryType"],"0080":["CS","MaskingImage"],"00AA":["IS","ReportNumber"],"0100":["IS","TemporalPositionIdentifier"],"0105":["IS","NumberOfTemporalPositions"],"0110":["DS","TemporalResolution"],"0200":["UI","SynchronizationFrameOfReferenceUID"],"0242":["UI","SOPInstanceUIDOfConcatenationSource"],1000:["IS","SeriesInStudy"],1001:["IS","AcquisitionsInSeries"],1002:["IS","ImagesInAcquisition"],1003:["IS","ImagesInSeries"],1004:["IS","AcquisitionsInStudy"],1005:["IS","ImagesInStudy"],1020:["LO","Reference"],1040:["LO","PositionReferenceIndicator"],1041:["DS","SliceLocation"],1070:["IS","OtherStudyNumbers"],1200:["IS","NumberOfPatientRelatedStudies"],1202:["IS","NumberOfPatientRelatedSeries"],1204:["IS","NumberOfPatientRelatedInstances"],1206:["IS","NumberOfStudyRelatedSeries"],1208:["IS","NumberOfStudyRelatedInstances"],1209:["IS","NumberOfSeriesRelatedInstances"],3401:["CS","ModifyingDeviceID"],3402:["CS","ModifiedImageID"],3403:["DA","ModifiedImageDate"],3404:["LO","ModifyingDeviceManufacturer"],3405:["TM","ModifiedImageTime"],3406:["LO","ModifiedImageDescription"],4000:["LT","ImageComments"],5000:["AT","OriginalImageIdentification"],5002:["LO","OriginalImageIdentificationNomenclature"],9056:["SH","StackID"],9057:["UL","InStackPositionNumber"],9071:["SQ","FrameAnatomySequence"],9072:["CS","FrameLaterality"],9111:["SQ","FrameContentSequence"],9113:["SQ","PlanePositionSequence"],9116:["SQ","PlaneOrientationSequence"],9128:["UL","TemporalPositionIndex"],9153:["FD","NominalCardiacTriggerDelayTime"],9154:["FL","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","FrameAcquisitionNumber"],9157:["UL","DimensionIndexValues"],9158:["LT","FrameComments"],9161:["UI","ConcatenationUID"],9162:["US","InConcatenationNumber"],9163:["US","InConcatenationTotalNumber"],9164:["UI","DimensionOrganizationUID"],9165:["AT","DimensionIndexPointer"],9167:["AT","FunctionalGroupPointer"],9213:["LO","DimensionIndexPrivateCreator"],9221:["SQ","DimensionOrganizationSequence"],9222:["SQ","DimensionIndexSequence"],9228:["UL","ConcatenationFrameOffsetNumber"],9238:["LO","FunctionalGroupPrivateCreator"],9241:["FL","NominalPercentageOfCardiacPhase"],9245:["FL","NominalPercentageOfRespiratoryPhase"],9246:["FL","StartingRespiratoryAmplitude"],9247:["CS","StartingRespiratoryPhase"],9248:["FL","EndingRespiratoryAmplitude"],9249:["CS","EndingRespiratoryPhase"],9250:["CS","RespiratoryTriggerType"],9251:["FD","RRIntervalTimeNominal"],9252:["FD","ActualCardiacTriggerDelayTime"],9253:["SQ","RespiratorySynchronizationSequence"],9254:["FD","RespiratoryIntervalTime"],9255:["FD","NominalRespiratoryTriggerDelayTime"],9256:["FD","RespiratoryTriggerDelayThreshold"],9257:["FD","ActualRespiratoryTriggerDelayTime"],9301:["FD","ImagePositionVolume"],9302:["FD","ImageOrientationVolume"],9307:["CS","UltrasoundAcquisitionGeometry"],9308:["FD","ApexPosition"],9309:["FD","VolumeToTransducerMappingMatrix"],"930A":["FD","VolumeToTableMappingMatrix"],"930C":["CS","PatientFrameOfReferenceSource"],"930D":["FD","TemporalPositionTimeOffset"],"930E":["SQ","PlanePositionVolumeSequence"],"930F":["SQ","PlaneOrientationVolumeSequence"],9310:["SQ","TemporalPositionSequence"],9311:["CS","DimensionOrganizationType"],9312:["UI","VolumeFrameOfReferenceUID"],9313:["UI","TableFrameOfReferenceUID"],9421:["LO","DimensionDescriptionLabel"],9450:["SQ","PatientOrientationInFrameSequence"],9453:["LO","FrameLabel"],9518:["US","AcquisitionIndex"],9529:["SQ","ContributingSOPInstancesReferenceSequence"],9536:["US","ReconstructionIndex"]},"0022":{"0001":["US","LightPathFilterPassThroughWavelength"],"0002":["US","LightPathFilterPassBand"],"0003":["US","ImagePathFilterPassThroughWavelength"],"0004":["US","ImagePathFilterPassBand"],"0005":["CS","PatientEyeMovementCommanded"],"0006":["SQ","PatientEyeMovementCommandCodeSequence"],"0007":["FL","SphericalLensPower"],"0008":["FL","CylinderLensPower"],"0009":["FL","CylinderAxis"],"000A":["FL","EmmetropicMagnification"],"000B":["FL","IntraOcularPressure"],"000C":["FL","HorizontalFieldOfView"],"000D":["CS","PupilDilated"],"000E":["FL","DegreeOfDilation"],"0010":["FL","StereoBaselineAngle"],"0011":["FL","StereoBaselineDisplacement"],"0012":["FL","StereoHorizontalPixelOffset"],"0013":["FL","StereoVerticalPixelOffset"],"0014":["FL","StereoRotation"],"0015":["SQ","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","IlluminationTypeCodeSequence"],"0017":["SQ","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","LensesCodeSequence"],"001A":["SQ","ChannelDescriptionCodeSequence"],"001B":["SQ","RefractiveStateSequence"],"001C":["SQ","MydriaticAgentCodeSequence"],"001D":["SQ","RelativeImagePositionCodeSequence"],"001E":["FL","CameraAngleOfView"],"0020":["SQ","StereoPairsSequence"],"0021":["SQ","LeftImageSequence"],"0022":["SQ","RightImageSequence"],"0030":["FL","AxialLengthOfTheEye"],"0031":["SQ","OphthalmicFrameLocationSequence"],"0032":["FL","ReferenceCoordinates"],"0035":["FL","DepthSpatialResolution"],"0036":["FL","MaximumDepthDistortion"],"0037":["FL","AlongScanSpatialResolution"],"0038":["FL","MaximumAlongScanDistortion"],"0039":["CS","OphthalmicImageOrientation"],"0041":["FL","DepthOfTransverseImage"],"0042":["SQ","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","AcrossScanSpatialResolution"],"0049":["FL","MaximumAcrossScanDistortion"],"004E":["DS","MydriaticAgentConcentration"],"0055":["FL","IlluminationWaveLength"],"0056":["FL","IlluminationPower"],"0057":["FL","IlluminationBandwidth"],"0058":["SQ","MydriaticAgentSequence"],1007:["SQ","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","OphthalmicAxialMeasurementsLeftEyeSequence"],1010:["CS","OphthalmicAxialLengthMeasurementsType"],1019:["FL","OphthalmicAxialLength"],1024:["SQ","LensStatusCodeSequence"],1025:["SQ","VitreousStatusCodeSequence"],1028:["SQ","IOLFormulaCodeSequence"],1029:["LO","IOLFormulaDetail"],1033:["FL","KeratometerIndex"],1035:["SQ","SourceOfOphthalmicAxialLengthCodeSequence"],1037:["FL","TargetRefraction"],1039:["CS","RefractiveProcedureOccurred"],1040:["SQ","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","OphthalmicUltrasoundAxialMeasurementsTypeCodeSequence"],1050:["SQ","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","IOLPower"],1054:["FL","PredictedRefractiveError"],1059:["FL","OphthalmicAxialLengthVelocity"],1065:["LO","LensStatusDescription"],1066:["LO","VitreousStatusDescription"],1090:["SQ","IOLPowerSequence"],1092:["SQ","LensConstantSequence"],1093:["LO","IOLManufacturer"],1094:["LO","LensConstantDescription"],1096:["SQ","KeratometryMeasurementTypeCodeSequence"],1100:["SQ","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","IOLPowerForExactEmmetropia"],1122:["FL","IOLPowerForExactTargetRefraction"],1125:["SQ","AnteriorChamberDepthDefinitionCodeSequence"],1130:["FL","LensThickness"],1131:["FL","AnteriorChamberDepth"],1132:["SQ","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","SourceOfAnteriorChamberDepthDataCodeSequence"],1135:["SQ","SourceOfRefractiveErrorDataCodeSequence"],1140:["CS","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","SignalToNoiseRatio"],1159:["LO","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","OphthalmicAxialLengthQualityMetricSequence"],1273:["LO","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"]},"0024":{"0010":["FL","VisualFieldHorizontalExtent"],"0011":["FL","VisualFieldVerticalExtent"],"0012":["CS","VisualFieldShape"],"0016":["SQ","ScreeningTestModeCodeSequence"],"0018":["FL","MaximumStimulusLuminance"],"0020":["FL","BackgroundLuminance"],"0021":["SQ","StimulusColorCodeSequence"],"0024":["SQ","BackgroundIlluminationColorCodeSequence"],"0025":["FL","StimulusArea"],"0028":["FL","StimulusPresentationTime"],"0032":["SQ","FixationSequence"],"0033":["SQ","FixationMonitoringCodeSequence"],"0034":["SQ","VisualFieldCatchTrialSequence"],"0035":["US","FixationCheckedQuantity"],"0036":["US","PatientNotProperlyFixatedQuantity"],"0037":["CS","PresentedVisualStimuliDataFlag"],"0038":["US","NumberOfVisualStimuli"],"0039":["CS","ExcessiveFixationLossesDataFlag"],"0040":["CS","ExcessiveFixationLosses"],"0042":["US","StimuliRetestingQuantity"],"0044":["LT","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","FalseNegativesEstimateFlag"],"0046":["FL","FalseNegativesEstimate"],"0048":["US","NegativeCatchTrialsQuantity"],"0050":["US","FalseNegativesQuantity"],"0051":["CS","ExcessiveFalseNegativesDataFlag"],"0052":["CS","ExcessiveFalseNegatives"],"0053":["CS","FalsePositivesEstimateFlag"],"0054":["FL","FalsePositivesEstimate"],"0055":["CS","CatchTrialsDataFlag"],"0056":["US","PositiveCatchTrialsQuantity"],"0057":["CS","TestPointNormalsDataFlag"],"0058":["SQ","TestPointNormalsSequence"],"0059":["CS","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","FalsePositivesQuantity"],"0061":["CS","ExcessiveFalsePositivesDataFlag"],"0062":["CS","ExcessiveFalsePositives"],"0063":["CS","VisualFieldTestNormalsFlag"],"0064":["SQ","ResultsNormalsSequence"],"0065":["SQ","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","GlobalDeviationFromNormal"],"0067":["SQ","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","LocalizedDeviationfromNormal"],"0069":["LO","PatientReliabilityIndicator"],"0070":["FL","VisualFieldMeanSensitivity"],"0071":["FL","GlobalDeviationProbability"],"0072":["CS","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","LocalizedDeviationProbability"],"0074":["CS","ShortTermFluctuationCalculated"],"0075":["FL","ShortTermFluctuation"],"0076":["CS","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","ShortTermFluctuationProbability"],"0078":["CS","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","GlobalDeviationProbabilitySequence"],"0085":["SQ","LocalizedDeviationProbabilitySequence"],"0086":["CS","FovealSensitivityMeasured"],"0087":["FL","FovealSensitivity"],"0088":["FL","VisualFieldTestDuration"],"0089":["SQ","VisualFieldTestPointSequence"],"0090":["FL","VisualFieldTestPointXCoordinate"],"0091":["FL","VisualFieldTestPointYCoordinate"],"0092":["FL","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","StimulusResults"],"0094":["FL","SensitivityValue"],"0095":["CS","RetestStimulusSeen"],"0096":["FL","RetestSensitivityValue"],"0097":["SQ","VisualFieldTestPointNormalsSequence"],"0098":["FL","QuantifiedDefect"],"0100":["FL","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","GeneralizedDefectCorrectedSensitivityDeviationFlag "],"0103":["FL","GeneralizedDefectCorrectedSensitivityDeviationValue "],"0104":["FL","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL ","MinimumSensitivityValue"],"0106":["CS","BlindSpotLocalized"],"0107":["FL","BlindSpotXCoordinate"],"0108":["FL","BlindSpotYCoordinate "],"0110":["SQ","VisualAcuityMeasurementSequence"],"0112":["SQ","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","MeasurementLaterality"],"0114":["SQ","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","FovealPointNormativeDataFlag"],"0118":["FL","FovealPointProbabilityValue"],"0120":["CS","ScreeningBaselineMeasured"],"0122":["SQ","ScreeningBaselineMeasuredSequence"],"0124":["CS","ScreeningBaselineType"],"0126":["FL","ScreeningBaselineValue"],"0202":["LO","AlgorithmSource"],"0306":["LO","DataSetName"],"0307":["LO","DataSetVersion"],"0308":["LO","DataSetSource"],"0309":["LO","DataSetDescription"],"0317":["SQ","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","DataObservationSequence"],"0338":["CS","IndexNormalsFlag"],"0341":["FL","IndexProbability"],"0344":["SQ","IndexProbabilitySequence"]},"0028":{"0002":["US","SamplesPerPixel"],"0003":["US","SamplesPerPixelUsed"],"0004":["CS","PhotometricInterpretation"],"0005":["US","ImageDimensions"],"0006":["US","PlanarConfiguration"],"0008":["IS","NumberOfFrames"],"0009":["AT","FrameIncrementPointer"],"000A":["AT","FrameDimensionPointer"],"0010":["US","Rows"],"0011":["US","Columns"],"0012":["US","Planes"],"0014":["US","UltrasoundColorDataPresent"],"0030":["DS","PixelSpacing"],"0031":["DS","ZoomFactor"],"0032":["DS","ZoomCenter"],"0034":["IS","PixelAspectRatio"],"0040":["CS","ImageFormat"],"0050":["LO","ManipulatedImage"],"0051":["CS","CorrectedImage"],"005F":["LO","CompressionRecognitionCode"],"0060":["CS","CompressionCode"],"0061":["SH","CompressionOriginator"],"0062":["LO","CompressionLabel"],"0063":["SH","CompressionDescription"],"0065":["CS","CompressionSequence"],"0066":["AT","CompressionStepPointers"],"0068":["US","RepeatInterval"],"0069":["US","BitsGrouped"],"0070":["US","PerimeterTable"],"0071":["SS","PerimeterValue"],"0080":["US","PredictorRows"],"0081":["US","PredictorColumns"],"0082":["US","PredictorConstants"],"0090":["CS","BlockedPixels"],"0091":["US","BlockRows"],"0092":["US","BlockColumns"],"0093":["US","RowOverlap"],"0094":["US","ColumnOverlap"],"0100":["US","BitsAllocated"],"0101":["US","BitsStored"],"0102":["US","HighBit"],"0103":["US","PixelRepresentation"],"0104":["SS","SmallestValidPixelValue"],"0105":["SS","LargestValidPixelValue"],"0106":["SS","SmallestImagePixelValue"],"0107":["SS","LargestImagePixelValue"],"0108":["SS","SmallestPixelValueInSeries"],"0109":["SS","LargestPixelValueInSeries"],"0110":["SS","SmallestImagePixelValueInPlane"],"0111":["SS","LargestImagePixelValueInPlane"],"0120":["SS","PixelPaddingValue"],"0121":["SS","PixelPaddingRangeLimit"],"0200":["US","ImageLocation"],"0300":["CS","QualityControlImage"],"0301":["CS","BurnedInAnnotation"],"0302":["CS","RecognizableVisualFeatures"],"0303":["CS","LongitudinalTemporalInformationModified"],"0400":["LO","TransformLabel"],"0401":["LO","TransformVersionNumber"],"0402":["US","NumberOfTransformSteps"],"0403":["LO","SequenceOfCompressedData"],"0404":["AT","DetailsOfCoefficients"],"0700":["LO","DCTLabel"],"0701":["CS","DataBlockDescription"],"0702":["AT","DataBlock"],"0710":["US","NormalizationFactorFormat"],"0720":["US","ZonalMapNumberFormat"],"0721":["AT","ZonalMapLocation"],"0722":["US","ZonalMapFormat"],"0730":["US","AdaptiveMapFormat"],"0740":["US","CodeNumberFormat"],"0A02":["CS","PixelSpacingCalibrationType"],"0A04":["LO","PixelSpacingCalibrationDescription"],1040:["CS","PixelIntensityRelationship"],1041:["SS","PixelIntensityRelationshipSign"],1050:["DS","WindowCenter"],1051:["DS","WindowWidth"],1052:["DS","RescaleIntercept"],1053:["DS","RescaleSlope"],1054:["LO","RescaleType"],1055:["LO","WindowCenterWidthExplanation"],1056:["CS","VOILUTFunction"],1080:["CS","GrayScale"],1090:["CS","RecommendedViewingMode"],1100:["SS","GrayLookupTableDescriptor"],1101:["SS","RedPaletteColorLookupTableDescriptor"],1102:["SS","GreenPaletteColorLookupTableDescriptor"],1103:["SS","BluePaletteColorLookupTableDescriptor"],1104:["US","AlphaPaletteColorLookupTableDescriptor"],1111:["SS","LargeRedPaletteColorLookupTableDescriptor"],1112:["SS","LargeGreenPaletteColorLookupTableDescriptor"],1113:["SS","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","PaletteColorLookupTableUID"],1200:["OW","GrayLookupTableData"],1201:["OW","RedPaletteColorLookupTableData"],1202:["OW","GreenPaletteColorLookupTableData"],1203:["OW","BluePaletteColorLookupTableData"],1204:["OW","AlphaPaletteColorLookupTableData"],1211:["OW","LargeRedPaletteColorLookupTableData"],1212:["OW","LargeGreenPaletteColorLookupTableData"],1213:["OW","LargeBluePaletteColorLookupTableData"],1214:["UI","LargePaletteColorLookupTableUID"],1221:["OW","SegmentedRedPaletteColorLookupTableData"],1222:["OW","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","SegmentedBluePaletteColorLookupTableData"],1300:["CS","BreastImplantPresent"],1350:["CS","PartialView"],1351:["ST","PartialViewDescription"],1352:["SQ","PartialViewCodeSequence"],"135A":["CS","SpatialLocationsPreserved"],1401:["SQ","DataFrameAssignmentSequence"],1402:["CS","DataPathAssignment"],1403:["US","BitsMappedToColorLookupTable"],1404:["SQ","BlendingLUT1Sequence"],1405:["CS","BlendingLUT1TransferFunction"],1406:["FD","BlendingWeightConstant"],1407:["US","BlendingLookupTableDescriptor"],1408:["OW","BlendingLookupTableData"],"140B":["SQ","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","BlendingLUT2Sequence"],"140D":["CS","BlendingLUT2TransferFunction"],"140E":["CS","DataPathID"],"140F":["CS","RGBLUTTransferFunction"],1410:["CS","AlphaLUTTransferFunction"],2000:["OB","ICCProfile"],2110:["CS","LossyImageCompression"],2112:["DS","LossyImageCompressionRatio"],2114:["CS","LossyImageCompressionMethod"],3000:["SQ","ModalityLUTSequence"],3002:["SS","LUTDescriptor"],3003:["LO","LUTExplanation"],3004:["LO","ModalityLUTType"],3006:["OW","LUTData"],3010:["SQ","VOILUTSequence"],3110:["SQ","SoftcopyVOILUTSequence"],4000:["LT","ImagePresentationComments"],5000:["SQ","BiPlaneAcquisitionSequence"],6010:["US","RepresentativeFrameNumber"],6020:["US","FrameNumbersOfInterest"],6022:["LO","FrameOfInterestDescription"],6023:["CS","FrameOfInterestType"],6030:["US","MaskPointers"],6040:["US","RWavePointer"],6100:["SQ","MaskSubtractionSequence"],6101:["CS","MaskOperation"],6102:["US","ApplicableFrameRange"],6110:["US","MaskFrameNumbers"],6112:["US","ContrastFrameAveraging"],6114:["FL","MaskSubPixelShift"],6120:["SS","TIDOffset"],6190:["ST","MaskOperationExplanation"],"7FE0":["UT","PixelDataProviderURL"],9001:["UL","DataPointRows"],9002:["UL","DataPointColumns"],9003:["CS","SignalDomainColumns"],9099:["US","LargestMonochromePixelValue"],9108:["CS","DataRepresentation"],9110:["SQ","PixelMeasuresSequence"],9132:["SQ","FrameVOILUTSequence"],9145:["SQ","PixelValueTransformationSequence"],9235:["CS","SignalDomainRows"],9411:["FL","DisplayFilterPercentage"],9415:["SQ","FramePixelShiftSequence"],9416:["US","SubtractionItemID"],9422:["SQ","PixelIntensityRelationshipLUTSequence"],9443:["SQ","FramePixelDataPropertiesSequence"],9444:["CS","GeometricalProperties"],9445:["FL","GeometricMaximumDistortion"],9446:["CS","ImageProcessingApplied"],9454:["CS","MaskSelectionMode"],9474:["CS","LUTFunction"],9478:["FL","MaskVisibilityPercentage"],9501:["SQ","PixelShiftSequence"],9502:["SQ","RegionPixelShiftSequence"],9503:["SS","VerticesOfTheRegion"],9505:["SQ","MultiFramePresentationSequence"],9506:["US","PixelShiftFrameRange"],9507:["US","LUTFrameRange"],9520:["DS","ImageToEquipmentMappingMatrix"],9537:["CS","EquipmentCoordinateSystemIdentification"]},"0032":{"000A":["CS","StudyStatusID"],"000C":["CS","StudyPriorityID"],"0012":["LO","StudyIDIssuer"],"0032":["DA","StudyVerifiedDate"],"0033":["TM","StudyVerifiedTime"],"0034":["DA","StudyReadDate"],"0035":["TM","StudyReadTime"],1000:["DA","ScheduledStudyStartDate"],1001:["TM","ScheduledStudyStartTime"],1010:["DA","ScheduledStudyStopDate"],1011:["TM","ScheduledStudyStopTime"],1020:["LO","ScheduledStudyLocation"],1021:["AE","ScheduledStudyLocationAETitle"],1030:["LO","ReasonForStudy"],1031:["SQ","RequestingPhysicianIdentificationSequence"],1032:["PN","RequestingPhysician"],1033:["LO","RequestingService"],1034:["SQ","RequestingServiceCodeSequence"],1040:["DA","StudyArrivalDate"],1041:["TM","StudyArrivalTime"],1050:["DA","StudyCompletionDate"],1051:["TM","StudyCompletionTime"],1055:["CS","StudyComponentStatusID"],1060:["LO","RequestedProcedureDescription"],1064:["SQ","RequestedProcedureCodeSequence"],1070:["LO","RequestedContrastAgent"],4000:["LT","StudyComments"]},"0038":{"0004":["SQ","ReferencedPatientAliasSequence"],"0008":["CS","VisitStatusID"],"0010":["LO","AdmissionID"],"0011":["LO","IssuerOfAdmissionID"],"0014":["SQ","IssuerOfAdmissionIDSequence"],"0016":["LO","RouteOfAdmissions"],"001A":["DA","ScheduledAdmissionDate"],"001B":["TM","ScheduledAdmissionTime"],"001C":["DA","ScheduledDischargeDate"],"001D":["TM","ScheduledDischargeTime"],"001E":["LO","ScheduledPatientInstitutionResidence"],"0020":["DA","AdmittingDate"],"0021":["TM","AdmittingTime"],"0030":["DA","DischargeDate"],"0032":["TM","DischargeTime"],"0040":["LO","DischargeDiagnosisDescription"],"0044":["SQ","DischargeDiagnosisCodeSequence"],"0050":["LO","SpecialNeeds"],"0060":["LO","ServiceEpisodeID"],"0061":["LO","IssuerOfServiceEpisodeID"],"0062":["LO","ServiceEpisodeDescription"],"0064":["SQ","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","PertinentDocumentsSequence"],"0300":["LO","CurrentPatientLocation"],"0400":["LO","PatientInstitutionResidence"],"0500":["LO","PatientState"],"0502":["SQ","PatientClinicalTrialParticipationSequence"],4000:["LT","VisitComments"]},"003A":{"0004":["CS","WaveformOriginality"],"0005":["US","NumberOfWaveformChannels"],"0010":["UL","NumberOfWaveformSamples"],"001A":["DS","SamplingFrequency"],"0020":["SH","MultiplexGroupLabel"],"0200":["SQ","ChannelDefinitionSequence"],"0202":["IS","WaveformChannelNumber"],"0203":["SH","ChannelLabel"],"0205":["CS","ChannelStatus"],"0208":["SQ","ChannelSourceSequence"],"0209":["SQ","ChannelSourceModifiersSequence"],"020A":["SQ","SourceWaveformSequence"],"020C":["LO","ChannelDerivationDescription"],"0210":["DS","ChannelSensitivity"],"0211":["SQ","ChannelSensitivityUnitsSequence"],"0212":["DS","ChannelSensitivityCorrectionFactor"],"0213":["DS","ChannelBaseline"],"0214":["DS","ChannelTimeSkew"],"0215":["DS","ChannelSampleSkew"],"0218":["DS","ChannelOffset"],"021A":["US","WaveformBitsStored"],"0220":["DS","FilterLowFrequency"],"0221":["DS","FilterHighFrequency"],"0222":["DS","NotchFilterFrequency"],"0223":["DS","NotchFilterBandwidth"],"0230":["FL","WaveformDataDisplayScale"],"0231":["US","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","WaveformPresentationGroupSequence"],"0241":["US","PresentationGroupNumber"],"0242":["SQ","ChannelDisplaySequence"],"0244":["US","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","ChannelPosition"],"0246":["CS","DisplayShadingFlag"],"0247":["FL","FractionalChannelDisplayScale"],"0248":["FL","AbsoluteChannelDisplayScale"],"0300":["SQ","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","ChannelIdentificationCode"],"0302":["CS","ChannelMode"]},"0040":{"0001":["AE","ScheduledStationAETitle"],"0002":["DA","ScheduledProcedureStepStartDate"],"0003":["TM","ScheduledProcedureStepStartTime"],"0004":["DA","ScheduledProcedureStepEndDate"],"0005":["TM","ScheduledProcedureStepEndTime"],"0006":["PN","ScheduledPerformingPhysicianName"],"0007":["LO","ScheduledProcedureStepDescription"],"0008":["SQ","ScheduledProtocolCodeSequence"],"0009":["SH","ScheduledProcedureStepID"],"000A":["SQ","StageCodeSequence"],"000B":["SQ","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","ScheduledStationName"],"0011":["SH","ScheduledProcedureStepLocation"],"0012":["LO","PreMedication"],"0020":["CS","ScheduledProcedureStepStatus"],"0026":["SQ","OrderPlacerIdentifierSequence"],"0027":["SQ","OrderFillerIdentifierSequence"],"0031":["UT","LocalNamespaceEntityID"],"0032":["UT","UniversalEntityID"],"0033":["CS","UniversalEntityIDType"],"0035":["CS","IdentifierTypeCode"],"0036":["SQ","AssigningFacilitySequence"],"0039":["SQ","AssigningJurisdictionCodeSequence"],"003A":["SQ","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","ScheduledProcedureStepSequence"],"0220":["SQ","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","PerformedStationAETitle"],"0242":["SH","PerformedStationName"],"0243":["SH","PerformedLocation"],"0244":["DA","PerformedProcedureStepStartDate"],"0245":["TM","PerformedProcedureStepStartTime"],"0250":["DA","PerformedProcedureStepEndDate"],"0251":["TM","PerformedProcedureStepEndTime"],"0252":["CS","PerformedProcedureStepStatus"],"0253":["SH","PerformedProcedureStepID"],"0254":["LO","PerformedProcedureStepDescription"],"0255":["LO","PerformedProcedureTypeDescription"],"0260":["SQ","PerformedProtocolCodeSequence"],"0261":["CS","PerformedProtocolType"],"0270":["SQ","ScheduledStepAttributesSequence"],"0275":["SQ","RequestAttributesSequence"],"0280":["ST","CommentsOnThePerformedProcedureStep"],"0281":["SQ","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","QuantitySequence"],"0294":["DS","Quantity"],"0295":["SQ","MeasuringUnitsSequence"],"0296":["SQ","BillingItemSequence"],"0300":["US","TotalTimeOfFluoroscopy"],"0301":["US","TotalNumberOfExposures"],"0302":["US","EntranceDose"],"0303":["US","ExposedArea"],"0306":["DS","DistanceSourceToEntrance"],"0307":["DS","DistanceSourceToSupport"],"030E":["SQ","ExposureDoseSequence"],"0310":["ST","CommentsOnRadiationDose"],"0312":["DS","XRayOutput"],"0314":["DS","HalfValueLayer"],"0316":["DS","OrganDose"],"0318":["CS","OrganExposed"],"0320":["SQ","BillingProcedureStepSequence"],"0321":["SQ","FilmConsumptionSequence"],"0324":["SQ","BillingSuppliesAndDevicesSequence"],"0330":["SQ","ReferencedProcedureStepSequence"],"0340":["SQ","PerformedSeriesSequence"],"0400":["LT","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","ProtocolContextSequence"],"0441":["SQ","ContentItemModifierSequence"],"0500":["SQ","ScheduledSpecimenSequence"],"050A":["LO","SpecimenAccessionNumber"],"0512":["LO","ContainerIdentifier"],"0513":["SQ","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","AlternateContainerIdentifierSequence"],"0518":["SQ","ContainerTypeCodeSequence"],"051A":["LO","ContainerDescription"],"0520":["SQ","ContainerComponentSequence"],"0550":["SQ","SpecimenSequence"],"0551":["LO","SpecimenIdentifier"],"0552":["SQ","SpecimenDescriptionSequenceTrial"],"0553":["ST","SpecimenDescriptionTrial"],"0554":["UI","SpecimenUID"],"0555":["SQ","AcquisitionContextSequence"],"0556":["ST","AcquisitionContextDescription"],"059A":["SQ","SpecimenTypeCodeSequence"],"0560":["SQ","SpecimenDescriptionSequence"],"0562":["SQ","IssuerOfTheSpecimenIdentifierSequence"],"0600":["LO","SpecimenShortDescription"],"0602":["UT","SpecimenDetailedDescription"],"0610":["SQ","SpecimenPreparationSequence"],"0612":["SQ","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","SpecimenLocalizationContentItemSequence"],"06FA":["LO","SlideIdentifier"],"071A":["SQ","ImageCenterPointCoordinatesSequence"],"072A":["DS","XOffsetInSlideCoordinateSystem"],"073A":["DS","YOffsetInSlideCoordinateSystem"],"074A":["DS","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","PixelSpacingSequence"],"08DA":["SQ","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","MeasurementUnitsCodeSequence"],"09F8":["SQ","VitalStainCodeSequenceTrial"],1001:["SH","RequestedProcedureID"],1002:["LO","ReasonForTheRequestedProcedure"],1003:["SH","RequestedProcedurePriority"],1004:["LO","PatientTransportArrangements"],1005:["LO","RequestedProcedureLocation"],1006:["SH","PlacerOrderNumberProcedure"],1007:["SH","FillerOrderNumberProcedure"],1008:["LO","ConfidentialityCode"],1009:["SH","ReportingPriority"],"100A":["SQ","ReasonForRequestedProcedureCodeSequence"],1010:["PN","NamesOfIntendedRecipientsOfResults"],1011:["SQ","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","ReasonForPerformedProcedureCodeSequence"],1060:["LO","RequestedProcedureDescriptionTrial"],1101:["SQ","PersonIdentificationCodeSequence"],1102:["ST","PersonAddress"],1103:["LO","PersonTelephoneNumbers"],1400:["LT","RequestedProcedureComments"],2001:["LO","ReasonForTheImagingServiceRequest"],2004:["DA","IssueDateOfImagingServiceRequest"],2005:["TM","IssueTimeOfImagingServiceRequest"],2006:["SH","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","OrderEnteredBy"],2009:["SH","OrderEntererLocation"],2010:["SH","OrderCallbackPhoneNumber"],2016:["LO","PlacerOrderNumberImagingServiceRequest"],2017:["LO","FillerOrderNumberImagingServiceRequest"],2400:["LT","ImagingServiceRequestComments"],3001:["LO","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","ScheduledProcedureStepStartDateTime"],4006:["CS","MultipleCopiesFlag"],4007:["SQ","PerformedProcessingApplicationsCodeSequence"],4009:["SQ","HumanPerformerCodeSequence"],4010:["DT","ScheduledProcedureStepModificationDateTime"],4011:["DT","ExpectedCompletionDateTime"],4015:["SQ","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","ScheduledWorkitemCodeSequence"],4019:["SQ","PerformedWorkitemCodeSequence"],4020:["CS","InputAvailabilityFlag"],4021:["SQ","InputInformationSequence"],4022:["SQ","RelevantInformationSequence"],4023:["UI","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","ScheduledStationNameCodeSequence"],4026:["SQ","ScheduledStationClassCodeSequence"],4027:["SQ","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","PerformedStationNameCodeSequence"],4029:["SQ","PerformedStationClassCodeSequence"],4030:["SQ","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","NonDICOMOutputCodeSequence"],4033:["SQ","OutputInformationSequence"],4034:["SQ","ScheduledHumanPerformersSequence"],4035:["SQ","ActualHumanPerformersSequence"],4036:["LO","HumanPerformerOrganization"],4037:["PN","HumanPerformerName"],4040:["CS","RawDataHandling"],4041:["CS","InputReadinessState"],4050:["DT","PerformedProcedureStepStartDateTime"],4051:["DT","PerformedProcedureStepEndDateTime"],4052:["DT","ProcedureStepCancellationDateTime"],8302:["DS","EntranceDoseInmGy"],9094:["SQ","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","RealWorldValueMappingSequence"],9098:["SQ","PixelValueMappingCodeSequence"],9210:["SH","LUTLabel"],9211:["SS","RealWorldValueLastValueMapped"],9212:["FD","RealWorldValueLUTData"],9216:["SS","RealWorldValueFirstValueMapped"],9224:["FD","RealWorldValueIntercept"],9225:["FD","RealWorldValueSlope"],A007:["CS","FindingsFlagTrial"],A010:["CS","RelationshipType"],A020:["SQ","FindingsSequenceTrial"],A021:["UI","FindingsGroupUIDTrial"],A022:["UI","ReferencedFindingsGroupUIDTrial"],A023:["DA","FindingsGroupRecordingDateTrial"],A024:["TM","FindingsGroupRecordingTimeTrial"],A026:["SQ","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","VerifyingOrganization"],A028:["SQ","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","VerificationDateTime"],A032:["DT","ObservationDateTime"],A040:["CS","ValueType"],A043:["SQ","ConceptNameCodeSequence"],A047:["LO","MeasurementPrecisionDescriptionTrial"],A050:["CS","ContinuityOfContent"],A057:["CS","UrgencyOrPriorityAlertsTrial"],A060:["LO","SequencingIndicatorTrial"],A066:["SQ","DocumentIdentifierCodeSequenceTrial"],A067:["PN","DocumentAuthorTrial"],A068:["SQ","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","IdentifierCodeSequenceTrial"],A073:["SQ","VerifyingObserverSequence"],A074:["OB","ObjectBinaryIdentifierTrial"],A075:["PN","VerifyingObserverName"],A076:["SQ","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","AuthorObserverSequence"],A07A:["SQ","ParticipantSequence"],A07C:["SQ","CustodialOrganizationSequence"],A080:["CS","ParticipationType"],A082:["DT","ParticipationDateTime"],A084:["CS","ObserverType"],A085:["SQ","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","VerifyingObserverIdentificationCodeSequence"],A089:["OB","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","EquivalentCDADocumentSequence"],A0B0:["US","ReferencedWaveformChannels"],A110:["DA","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","DateTime"],A121:["DA","Date"],A122:["TM","Time"],A123:["PN","PersonName"],A124:["UI","UID"],A125:["CS","ReportStatusIDTrial"],A130:["CS","TemporalRangeType"],A132:["UL","ReferencedSamplePositions"],A136:["US","ReferencedFrameNumbers"],A138:["DS","ReferencedTimeOffsets"],A13A:["DT","ReferencedDateTime"],A160:["UT","TextValue"],A167:["SQ","ObservationCategoryCodeSequenceTrial"],A168:["SQ","ConceptCodeSequence"],A16A:["ST","BibliographicCitationTrial"],A170:["SQ","PurposeOfReferenceCodeSequence"],A171:["UI","ObservationUIDTrial"],A172:["UI","ReferencedObservationUIDTrial"],A173:["CS","ReferencedObservationClassTrial"],A174:["CS","ReferencedObjectObservationClassTrial"],A180:["US","AnnotationGroupNumber"],A192:["DA","ObservationDateTrial"],A193:["TM","ObservationTimeTrial"],A194:["CS","MeasurementAutomationTrial"],A195:["SQ","ModifierCodeSequence"],A224:["ST","IdentificationDescriptionTrial"],A290:["CS","CoordinatesSetGeometricTypeTrial"],A296:["SQ","AlgorithmCodeSequenceTrial"],A297:["ST","AlgorithmDescriptionTrial"],A29A:["SL","PixelCoordinatesSetTrial"],A300:["SQ","MeasuredValueSequence"],A301:["SQ","NumericValueQualifierCodeSequence"],A307:["PN","CurrentObserverTrial"],A30A:["DS","NumericValue"],A313:["SQ","ReferencedAccessionSequenceTrial"],A33A:["ST","ReportStatusCommentTrial"],A340:["SQ","ProcedureContextSequenceTrial"],A352:["PN","VerbalSourceTrial"],A353:["ST","AddressTrial"],A354:["LO","TelephoneNumberTrial"],A358:["SQ","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","PredecessorDocumentsSequence"],A370:["SQ","ReferencedRequestSequence"],A372:["SQ","PerformedProcedureCodeSequence"],A375:["SQ","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","ReportDetailSequenceTrial"],A385:["SQ","PertinentOtherEvidenceSequence"],A390:["SQ","HL7StructuredDocumentReferenceSequence"],A402:["UI","ObservationSubjectUIDTrial"],A403:["CS","ObservationSubjectClassTrial"],A404:["SQ","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","CompletionFlag"],A492:["LO","CompletionFlagDescription"],A493:["CS","VerificationFlag"],A494:["CS","ArchiveRequested"],A496:["CS","PreliminaryFlag"],A504:["SQ","ContentTemplateSequence"],A525:["SQ","IdenticalDocumentsSequence"],A600:["CS","ObservationSubjectContextFlagTrial"],A601:["CS","ObserverContextFlagTrial"],A603:["CS","ProcedureContextFlagTrial"],A730:["SQ","ContentSequence"],A731:["SQ","RelationshipSequenceTrial"],A732:["SQ","RelationshipTypeCodeSequenceTrial"],A744:["SQ","LanguageCodeSequenceTrial"],A992:["ST","UniformResourceLocatorTrial"],B020:["SQ","WaveformAnnotationSequence"],DB00:["CS","TemplateIdentifier"],DB06:["DT","TemplateVersion"],DB07:["DT","TemplateLocalVersion"],DB0B:["CS","TemplateExtensionFlag"],DB0C:["UI","TemplateExtensionOrganizationUID"],DB0D:["UI","TemplateExtensionCreatorUID"],DB73:["UL","ReferencedContentItemIdentifier"],E001:["ST","HL7InstanceIdentifier"],E004:["DT","HL7DocumentEffectiveTime"],E006:["SQ","HL7DocumentTypeCodeSequence"],E008:["SQ","DocumentClassCodeSequence"],E010:["UT","RetrieveURI"],E011:["UI","RetrieveLocationUID"],E020:["CS","TypeOfInstances"],E021:["SQ","DICOMRetrievalSequence"],E022:["SQ","DICOMMediaRetrievalSequence"],E023:["SQ","WADORetrievalSequence"],E024:["SQ","XDSRetrievalSequence"],E030:["UI","RepositoryUniqueID"],E031:["UI","HomeCommunityID"]},"0042":{"0010":["ST","DocumentTitle"],"0011":["OB","EncapsulatedDocument"],"0012":["LO","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","SourceInstanceSequence"],"0014":["LO","ListOfMIMETypes"]},"0044":{"0001":["ST","ProductPackageIdentifier"],"0002":["CS","SubstanceAdministrationApproval"],"0003":["LT","ApprovalStatusFurtherDescription"],"0004":["DT","ApprovalStatusDateTime"],"0007":["SQ","ProductTypeCodeSequence"],"0008":["LO","ProductName"],"0009":["LT","ProductDescription"],"000A":["LO","ProductLotIdentifier"],"000B":["DT","ProductExpirationDateTime"],"0010":["DT","SubstanceAdministrationDateTime"],"0011":["LO","SubstanceAdministrationNotes"],"0012":["LO","SubstanceAdministrationDeviceID"],"0013":["SQ","ProductParameterSequence"],"0019":["SQ","SubstanceAdministrationParameterSequence"]},"0046":{"0012":["LO","LensDescription"],"0014":["SQ","RightLensSequence"],"0015":["SQ","LeftLensSequence"],"0016":["SQ","UnspecifiedLateralityLensSequence"],"0018":["SQ","CylinderSequence"],"0028":["SQ","PrismSequence"],"0030":["FD","HorizontalPrismPower"],"0032":["CS","HorizontalPrismBase"],"0034":["FD","VerticalPrismPower"],"0036":["CS","VerticalPrismBase"],"0038":["CS","LensSegmentType"],"0040":["FD","OpticalTransmittance"],"0042":["FD","ChannelWidth"],"0044":["FD","PupilSize"],"0046":["FD","CornealSize"],"0050":["SQ","AutorefractionRightEyeSequence"],"0052":["SQ","AutorefractionLeftEyeSequence"],"0060":["FD","DistancePupillaryDistance"],"0062":["FD","NearPupillaryDistance"],"0063":["FD","IntermediatePupillaryDistance"],"0064":["FD","OtherPupillaryDistance"],"0070":["SQ","KeratometryRightEyeSequence"],"0071":["SQ","KeratometryLeftEyeSequence"],"0074":["SQ","SteepKeratometricAxisSequence"],"0075":["FD","RadiusOfCurvature"],"0076":["FD","KeratometricPower"],"0077":["FD","KeratometricAxis"],"0080":["SQ","FlatKeratometricAxisSequence"],"0092":["CS","BackgroundColor"],"0094":["CS","Optotype"],"0095":["CS","OptotypePresentation"],"0097":["SQ","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","AddNearSequence"],"0101":["SQ","AddIntermediateSequence"],"0102":["SQ","AddOtherSequence"],"0104":["FD","AddPower"],"0106":["FD","ViewingDistance"],"0121":["SQ","VisualAcuityTypeCodeSequence"],"0122":["SQ","VisualAcuityRightEyeSequence"],"0123":["SQ","VisualAcuityLeftEyeSequence"],"0124":["SQ","VisualAcuityBothEyesOpenSequence"],"0125":["CS","ViewingDistanceType"],"0135":["SS","VisualAcuityModifiers"],"0137":["FD","DecimalVisualAcuity"],"0139":["LO","OptotypeDetailedDefinition"],"0145":["SQ","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","SpherePower"],"0147":["FD","CylinderPower"]},"0048":{"0001":["FL","ImagedVolumeWidth"],"0002":["FL","ImagedVolumeHeight"],"0003":["FL","ImagedVolumeDepth"],"0006":["UL","TotalPixelMatrixColumns"],"0007":["UL","TotalPixelMatrixRows"],"0008":["SQ","TotalPixelMatrixOriginSequence"],"0010":["CS","SpecimenLabelInImage"],"0011":["CS","FocusMethod"],"0012":["CS","ExtendedDepthOfField"],"0013":["US","NumberOfFocalPlanes"],"0014":["FL","DistanceBetweenFocalPlanes"],"0015":["US","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","IlluminatorTypeCodeSequence"],"0102":["DS","ImageOrientationSlide"],"0105":["SQ","OpticalPathSequence"],"0106":["SH","OpticalPathIdentifier"],"0107":["ST","OpticalPathDescription"],"0108":["SQ","IlluminationColorCodeSequence"],"0110":["SQ","SpecimenReferenceSequence"],"0111":["DS","CondenserLensPower"],"0112":["DS","ObjectiveLensPower"],"0113":["DS","ObjectiveLensNumericalAperture"],"0120":["SQ","PaletteColorLookupTableSequence"],"0200":["SQ","ReferencedImageNavigationSequence"],"0201":["US","TopLeftHandCornerOfLocalizerArea"],"0202":["US","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","OpticalPathIdentificationSequence"],"021A":["SQ","PlanePositionSlideSequence"],"021E":["SL","RowPositionInTotalImagePixelMatrix"],"021F":["SL","ColumnPositionInTotalImagePixelMatrix"],"0301":["CS","PixelOriginInterpretation"]},"0050":{"0004":["CS","CalibrationImage"],"0010":["SQ","DeviceSequence"],"0012":["SQ","ContainerComponentTypeCodeSequence"],"0013":["FD","ContainerComponentThickness"],"0014":["DS","DeviceLength"],"0015":["FD","ContainerComponentWidth"],"0016":["DS","DeviceDiameter"],"0017":["CS","DeviceDiameterUnits"],"0018":["DS","DeviceVolume"],"0019":["DS","InterMarkerDistance"],"001A":["CS","ContainerComponentMaterial"],"001B":["LO","ContainerComponentID"],"001C":["FD","ContainerComponentLength"],"001D":["FD","ContainerComponentDiameter"],"001E":["LO","ContainerComponentDescription"],"0020":["LO","DeviceDescription"]},"0052":{"0001":["FL","ContrastBolusIngredientPercentByVolume"],"0002":["FD","OCTFocalDistance"],"0003":["FD","BeamSpotSize"],"0004":["FD","EffectiveRefractiveIndex"],"0006":["CS","OCTAcquisitionDomain"],"0007":["FD","OCTOpticalCenterWavelength"],"0008":["FD","AxialResolution"],"0009":["FD","RangingDepth"],"0011":["FD","ALineRate"],"0012":["US","ALinesPerFrame"],"0013":["FD","CatheterRotationalRate"],"0014":["FD","ALinePixelSpacing"],"0016":["SQ","ModeOfPercutaneousAccessSequence"],"0025":["SQ","IntravascularOCTFrameTypeSequence"],"0026":["CS","OCTZOffsetApplied"],"0027":["SQ","IntravascularFrameContentSequence"],"0028":["FD","IntravascularLongitudinalDistance"],"0029":["SQ","IntravascularOCTFrameContentSequence"],"0030":["SS","OCTZOffsetCorrection"],"0031":["CS","CatheterDirectionOfRotation"],"0033":["FD","SeamLineLocation"],"0034":["FD","FirstALineLocation"],"0036":["US","SeamLineIndex"],"0038":["US","NumberOfPaddedAlines"],"0039":["CS","InterpolationType"],"003A":["CS","RefractiveIndexApplied"]},"0054":{"0010":["US","EnergyWindowVector"],"0011":["US","NumberOfEnergyWindows"],"0012":["SQ","EnergyWindowInformationSequence"],"0013":["SQ","EnergyWindowRangeSequence"],"0014":["DS","EnergyWindowLowerLimit"],"0015":["DS","EnergyWindowUpperLimit"],"0016":["SQ","RadiopharmaceuticalInformationSequence"],"0017":["IS","ResidualSyringeCounts"],"0018":["SH","EnergyWindowName"],"0020":["US","DetectorVector"],"0021":["US","NumberOfDetectors"],"0022":["SQ","DetectorInformationSequence"],"0030":["US","PhaseVector"],"0031":["US","NumberOfPhases"],"0032":["SQ","PhaseInformationSequence"],"0033":["US","NumberOfFramesInPhase"],"0036":["IS","PhaseDelay"],"0038":["IS","PauseBetweenFrames"],"0039":["CS","PhaseDescription"],"0050":["US","RotationVector"],"0051":["US","NumberOfRotations"],"0052":["SQ","RotationInformationSequence"],"0053":["US","NumberOfFramesInRotation"],"0060":["US","RRIntervalVector"],"0061":["US","NumberOfRRIntervals"],"0062":["SQ","GatedInformationSequence"],"0063":["SQ","DataInformationSequence"],"0070":["US","TimeSlotVector"],"0071":["US","NumberOfTimeSlots"],"0072":["SQ","TimeSlotInformationSequence"],"0073":["DS","TimeSlotTime"],"0080":["US","SliceVector"],"0081":["US","NumberOfSlices"],"0090":["US","AngularViewVector"],"0100":["US","TimeSliceVector"],"0101":["US","NumberOfTimeSlices"],"0200":["DS","StartAngle"],"0202":["CS","TypeOfDetectorMotion"],"0210":["IS","TriggerVector"],"0211":["US","NumberOfTriggersInPhase"],"0220":["SQ","ViewCodeSequence"],"0222":["SQ","ViewModifierCodeSequence"],"0300":["SQ","RadionuclideCodeSequence"],"0302":["SQ","AdministrationRouteCodeSequence"],"0304":["SQ","RadiopharmaceuticalCodeSequence"],"0306":["SQ","CalibrationDataSequence"],"0308":["US","EnergyWindowNumber"],"0400":["SH","ImageID"],"0410":["SQ","PatientOrientationCodeSequence"],"0412":["SQ","PatientOrientationModifierCodeSequence"],"0414":["SQ","PatientGantryRelationshipCodeSequence"],"0500":["CS","SliceProgressionDirection"],1000:["CS","SeriesType"],1001:["CS","Units"],1002:["CS","CountsSource"],1004:["CS","ReprojectionMethod"],1006:["CS","SUVType"],1100:["CS","RandomsCorrectionMethod"],1101:["LO","AttenuationCorrectionMethod"],1102:["CS","DecayCorrection"],1103:["LO","ReconstructionMethod"],1104:["LO","DetectorLinesOfResponseUsed"],1105:["LO","ScatterCorrectionMethod"],1200:["DS","AxialAcceptance"],1201:["IS","AxialMash"],1202:["IS","TransverseMash"],1203:["DS","DetectorElementSize"],1210:["DS","CoincidenceWindowWidth"],1220:["CS","SecondaryCountsType"],1300:["DS","FrameReferenceTime"],1310:["IS","PrimaryPromptsCountsAccumulated"],1311:["IS","SecondaryCountsAccumulated"],1320:["DS","SliceSensitivityFactor"],1321:["DS","DecayFactor"],1322:["DS","DoseCalibrationFactor"],1323:["DS","ScatterFractionFactor"],1324:["DS","DeadTimeFactor"],1330:["US","ImageIndex"],1400:["CS","CountsIncluded"],1401:["CS","DeadTimeCorrectionFlag"]},"0060":{3000:["SQ","HistogramSequence"],3002:["US","HistogramNumberOfBins"],3004:["SS","HistogramFirstBinValue"],3006:["SS","HistogramLastBinValue"],3008:["US","HistogramBinWidth"],3010:["LO","HistogramExplanation"],3020:["UL","HistogramData"]},"0062":{"0001":["CS","SegmentationType"],"0002":["SQ","SegmentSequence"],"0003":["SQ","SegmentedPropertyCategoryCodeSequence"],"0004":["US","SegmentNumber"],"0005":["LO","SegmentLabel"],"0006":["ST","SegmentDescription"],"0008":["CS","SegmentAlgorithmType"],"0009":["LO","SegmentAlgorithmName"],"000A":["SQ","SegmentIdentificationSequence"],"000B":["US","ReferencedSegmentNumber"],"000C":["US","RecommendedDisplayGrayscaleValue"],"000D":["US","RecommendedDisplayCIELabValue"],"000E":["US","MaximumFractionalValue"],"000F":["SQ","SegmentedPropertyTypeCodeSequence"],"0010":["CS","SegmentationFractionalType"]},"0064":{"0002":["SQ","DeformableRegistrationSequence"],"0003":["UI","SourceFrameOfReferenceUID"],"0005":["SQ","DeformableRegistrationGridSequence"],"0007":["UL","GridDimensions"],"0008":["FD","GridResolution"],"0009":["OF","VectorGridData"],"000F":["SQ","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","PostDeformationMatrixRegistrationSequence"]},"0066":{"0001":["UL","NumberOfSurfaces"],"0002":["SQ","SurfaceSequence"],"0003":["UL","SurfaceNumber"],"0004":["LT","SurfaceComments"],"0009":["CS","SurfaceProcessing"],"000A":["FL","SurfaceProcessingRatio"],"000B":["LO","SurfaceProcessingDescription"],"000C":["FL","RecommendedPresentationOpacity"],"000D":["CS","RecommendedPresentationType"],"000E":["CS","FiniteVolume"],"0010":["CS","Manifold"],"0011":["SQ","SurfacePointsSequence"],"0012":["SQ","SurfacePointsNormalsSequence"],"0013":["SQ","SurfaceMeshPrimitivesSequence"],"0015":["UL","NumberOfSurfacePoints"],"0016":["OF","PointCoordinatesData"],"0017":["FL","PointPositionAccuracy"],"0018":["FL","MeanPointDistance"],"0019":["FL","MaximumPointDistance"],"001A":["FL","PointsBoundingBoxCoordinates"],"001B":["FL","AxisOfRotation"],"001C":["FL","CenterOfRotation"],"001E":["UL","NumberOfVectors"],"001F":["US","VectorDimensionality"],"0020":["FL","VectorAccuracy"],"0021":["OF","VectorCoordinateData"],"0023":["OW","TrianglePointIndexList"],"0024":["OW","EdgePointIndexList"],"0025":["OW","VertexPointIndexList"],"0026":["SQ","TriangleStripSequence"],"0027":["SQ","TriangleFanSequence"],"0028":["SQ","LineSequence"],"0029":["OW","PrimitivePointIndexList"],"002A":["UL","SurfaceCount"],"002B":["SQ","ReferencedSurfaceSequence"],"002C":["UL","ReferencedSurfaceNumber"],"002D":["SQ","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","AlgorithmFamilyCodeSequence"],"0030":["SQ","AlgorithmNameCodeSequence"],"0031":["LO","AlgorithmVersion"],"0032":["LT","AlgorithmParameters"],"0034":["SQ","FacetSequence"],"0035":["SQ","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","AlgorithmName"]},"0068":{6210:["LO","ImplantSize"],6221:["LO","ImplantTemplateVersion"],6222:["SQ","ReplacedImplantTemplateSequence"],6223:["CS","ImplantType"],6224:["SQ","DerivationImplantTemplateSequence"],6225:["SQ","OriginalImplantTemplateSequence"],6226:["DT","EffectiveDateTime"],6230:["SQ","ImplantTargetAnatomySequence"],6260:["SQ","InformationFromManufacturerSequence"],6265:["SQ","NotificationFromManufacturerSequence"],6270:["DT","InformationIssueDateTime"],6280:["ST","InformationSummary"],"62A0":["SQ","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","OverallTemplateSpatialTolerance"],"62C0":["SQ","HPGLDocumentSequence"],"62D0":["US","HPGLDocumentID"],"62D5":["LO","HPGLDocumentLabel"],"62E0":["SQ","ViewOrientationCodeSequence"],"62F0":["FD","ViewOrientationModifier"],"62F2":["FD","HPGLDocumentScaling"],6300:["OB","HPGLDocument"],6310:["US","HPGLContourPenNumber"],6320:["SQ","HPGLPenSequence"],6330:["US","HPGLPenNumber"],6340:["LO","HPGLPenLabel"],6345:["ST","HPGLPenDescription"],6346:["FD","RecommendedRotationPoint"],6347:["FD","BoundingRectangle"],6350:["US","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","SurfaceModelDescriptionSequence"],6380:["LO","SurfaceModelLabel"],6390:["FD","SurfaceModelScalingFactor"],"63A0":["SQ","MaterialsCodeSequence"],"63A4":["SQ","CoatingMaterialsCodeSequence"],"63A8":["SQ","ImplantTypeCodeSequence"],"63AC":["SQ","FixationMethodCodeSequence"],"63B0":["SQ","MatingFeatureSetsSequence"],"63C0":["US","MatingFeatureSetID"],"63D0":["LO","MatingFeatureSetLabel"],"63E0":["SQ","MatingFeatureSequence"],"63F0":["US","MatingFeatureID"],6400:["SQ","MatingFeatureDegreeOfFreedomSequence"],6410:["US","DegreeOfFreedomID"],6420:["CS","DegreeOfFreedomType"],6430:["SQ","TwoDMatingFeatureCoordinatesSequence"],6440:["US","ReferencedHPGLDocumentID"],6450:["FD","TwoDMatingPoint"],6460:["FD","TwoDMatingAxes"],6470:["SQ","TwoDDegreeOfFreedomSequence"],6490:["FD","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","RangeOfFreedom"],"64C0":["FD","ThreeDMatingPoint"],"64D0":["FD","ThreeDMatingAxes"],"64F0":["FD","TwoDDegreeOfFreedomAxis"],6500:["SQ","PlanningLandmarkPointSequence"],6510:["SQ","PlanningLandmarkLineSequence"],6520:["SQ","PlanningLandmarkPlaneSequence"],6530:["US","PlanningLandmarkID"],6540:["LO","PlanningLandmarkDescription"],6545:["SQ","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","TwoDPointCoordinatesSequence"],6560:["FD","TwoDPointCoordinates"],6590:["FD","ThreeDPointCoordinates"],"65A0":["SQ","TwoDLineCoordinatesSequence"],"65B0":["FD","TwoDLineCoordinates"],"65D0":["FD","ThreeDLineCoordinates"],"65E0":["SQ","TwoDPlaneCoordinatesSequence"],"65F0":["FD","TwoDPlaneIntersection"],6610:["FD","ThreeDPlaneOrigin"],6620:["FD","ThreeDPlaneNormal"]},"0070":{"0001":["SQ","GraphicAnnotationSequence"],"0002":["CS","GraphicLayer"],"0003":["CS","BoundingBoxAnnotationUnits"],"0004":["CS","AnchorPointAnnotationUnits"],"0005":["CS","GraphicAnnotationUnits"],"0006":["ST","UnformattedTextValue"],"0008":["SQ","TextObjectSequence"],"0009":["SQ","GraphicObjectSequence"],"0010":["FL","BoundingBoxTopLeftHandCorner"],"0011":["FL","BoundingBoxBottomRightHandCorner"],"0012":["CS","BoundingBoxTextHorizontalJustification"],"0014":["FL","AnchorPoint"],"0015":["CS","AnchorPointVisibility"],"0020":["US","GraphicDimensions"],"0021":["US","NumberOfGraphicPoints"],"0022":["FL","GraphicData"],"0023":["CS","GraphicType"],"0024":["CS","GraphicFilled"],"0040":["IS","ImageRotationRetired"],"0041":["CS","ImageHorizontalFlip"],"0042":["US","ImageRotation"],"0050":["US","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","DisplayedAreaTopLeftHandCorner"],"0053":["SL","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","DisplayedAreaSelectionSequence"],"0060":["SQ","GraphicLayerSequence"],"0062":["IS","GraphicLayerOrder"],"0066":["US","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","GraphicLayerDescription"],"0080":["CS","ContentLabel"],"0081":["LO","ContentDescription"],"0082":["DA","PresentationCreationDate"],"0083":["TM","PresentationCreationTime"],"0084":["PN","ContentCreatorName"],"0086":["SQ","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","AlternateContentDescriptionSequence"],"0100":["CS","PresentationSizeMode"],"0101":["DS","PresentationPixelSpacing"],"0102":["IS","PresentationPixelAspectRatio"],"0103":["FL","PresentationPixelMagnificationRatio"],"0207":["LO","GraphicGroupLabel"],"0208":["ST","GraphicGroupDescription"],"0209":["SQ","CompoundGraphicSequence"],"0226":["UL","CompoundGraphicInstanceID"],"0227":["LO","FontName"],"0228":["CS","FontNameType"],"0229":["LO","CSSFontName"],"0230":["FD","RotationAngle"],"0231":["SQ","TextStyleSequence"],"0232":["SQ","LineStyleSequence"],"0233":["SQ","FillStyleSequence"],"0234":["SQ","GraphicGroupSequence"],"0241":["US","TextColorCIELabValue"],"0242":["CS","HorizontalAlignment"],"0243":["CS","VerticalAlignment"],"0244":["CS","ShadowStyle"],"0245":["FL","ShadowOffsetX"],"0246":["FL","ShadowOffsetY"],"0247":["US","ShadowColorCIELabValue"],"0248":["CS","Underlined"],"0249":["CS","Bold"],"0250":["CS","Italic"],"0251":["US","PatternOnColorCIELabValue"],"0252":["US","PatternOffColorCIELabValue"],"0253":["FL","LineThickness"],"0254":["CS","LineDashingStyle"],"0255":["UL","LinePattern"],"0256":["OB","FillPattern"],"0257":["CS","FillMode"],"0258":["FL","ShadowOpacity"],"0261":["FL","GapLength"],"0262":["FL","DiameterOfVisibility"],"0273":["FL","RotationPoint"],"0274":["CS","TickAlignment"],"0278":["CS","ShowTickLabel"],"0279":["CS","TickLabelAlignment"],"0282":["CS","CompoundGraphicUnits"],"0284":["FL","PatternOnOpacity"],"0285":["FL","PatternOffOpacity"],"0287":["SQ","MajorTicksSequence"],"0288":["FL","TickPosition"],"0289":["SH","TickLabel"],"0294":["CS","CompoundGraphicType"],"0295":["UL","GraphicGroupID"],"0306":["CS","ShapeType"],"0308":["SQ","RegistrationSequence"],"0309":["SQ","MatrixRegistrationSequence"],"030A":["SQ","MatrixSequence"],"030C":["CS","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","RegistrationTypeCodeSequence"],"030F":["ST","FiducialDescription"],"0310":["SH","FiducialIdentifier"],"0311":["SQ","FiducialIdentifierCodeSequence"],"0312":["FD","ContourUncertaintyRadius"],"0314":["SQ","UsedFiducialsSequence"],"0318":["SQ","GraphicCoordinatesDataSequence"],"031A":["UI","FiducialUID"],"031C":["SQ","FiducialSetSequence"],"031E":["SQ","FiducialSequence"],"0401":["US","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","BlendingSequence"],"0403":["FL","RelativeOpacity"],"0404":["SQ","ReferencedSpatialRegistrationSequence"],"0405":["CS","BlendingPosition"]},"0072":{"0002":["SH","HangingProtocolName"],"0004":["LO","HangingProtocolDescription"],"0006":["CS","HangingProtocolLevel"],"0008":["LO","HangingProtocolCreator"],"000A":["DT","HangingProtocolCreationDateTime"],"000C":["SQ","HangingProtocolDefinitionSequence"],"000E":["SQ","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","HangingProtocolUserGroupName"],"0012":["SQ","SourceHangingProtocolSequence"],"0014":["US","NumberOfPriorsReferenced"],"0020":["SQ","ImageSetsSequence"],"0022":["SQ","ImageSetSelectorSequence"],"0024":["CS","ImageSetSelectorUsageFlag"],"0026":["AT","SelectorAttribute"],"0028":["US","SelectorValueNumber"],"0030":["SQ","TimeBasedImageSetsSequence"],"0032":["US","ImageSetNumber"],"0034":["CS","ImageSetSelectorCategory"],"0038":["US","RelativeTime"],"003A":["CS","RelativeTimeUnits"],"003C":["SS","AbstractPriorValue"],"003E":["SQ","AbstractPriorCodeSequence"],"0040":["LO","ImageSetLabel"],"0050":["CS","SelectorAttributeVR"],"0052":["AT","SelectorSequencePointer"],"0054":["LO","SelectorSequencePointerPrivateCreator"],"0056":["LO","SelectorAttributePrivateCreator"],"0060":["AT","SelectorATValue"],"0062":["CS","SelectorCSValue"],"0064":["IS","SelectorISValue"],"0066":["LO","SelectorLOValue"],"0068":["LT","SelectorLTValue"],"006A":["PN","SelectorPNValue"],"006C":["SH","SelectorSHValue"],"006E":["ST","SelectorSTValue"],"0070":["UT","SelectorUTValue"],"0072":["DS","SelectorDSValue"],"0074":["FD","SelectorFDValue"],"0076":["FL","SelectorFLValue"],"0078":["UL","SelectorULValue"],"007A":["US","SelectorUSValue"],"007C":["SL","SelectorSLValue"],"007E":["SS","SelectorSSValue"],"0080":["SQ","SelectorCodeSequenceValue"],"0100":["US","NumberOfScreens"],"0102":["SQ","NominalScreenDefinitionSequence"],"0104":["US","NumberOfVerticalPixels"],"0106":["US","NumberOfHorizontalPixels"],"0108":["FD","DisplayEnvironmentSpatialPosition"],"010A":["US","ScreenMinimumGrayscaleBitDepth"],"010C":["US","ScreenMinimumColorBitDepth"],"010E":["US","ApplicationMaximumRepaintTime"],"0200":["SQ","DisplaySetsSequence"],"0202":["US","DisplaySetNumber"],"0203":["LO","DisplaySetLabel"],"0204":["US","DisplaySetPresentationGroup"],"0206":["LO","DisplaySetPresentationGroupDescription"],"0208":["CS","PartialDataDisplayHandling"],"0210":["SQ","SynchronizedScrollingSequence"],"0212":["US","DisplaySetScrollingGroup"],"0214":["SQ","NavigationIndicatorSequence"],"0216":["US","NavigationDisplaySet"],"0218":["US","ReferenceDisplaySets"],"0300":["SQ","ImageBoxesSequence"],"0302":["US","ImageBoxNumber"],"0304":["CS","ImageBoxLayoutType"],"0306":["US","ImageBoxTileHorizontalDimension"],"0308":["US","ImageBoxTileVerticalDimension"],"0310":["CS","ImageBoxScrollDirection"],"0312":["CS","ImageBoxSmallScrollType"],"0314":["US","ImageBoxSmallScrollAmount"],"0316":["CS","ImageBoxLargeScrollType"],"0318":["US","ImageBoxLargeScrollAmount"],"0320":["US","ImageBoxOverlapPriority"],"0330":["FD","CineRelativeToRealTime"],"0400":["SQ","FilterOperationsSequence"],"0402":["CS","FilterByCategory"],"0404":["CS","FilterByAttributePresence"],"0406":["CS","FilterByOperator"],"0420":["US","StructuredDisplayBackgroundCIELabValue"],"0421":["US","EmptyImageBoxCIELabValue"],"0422":["SQ","StructuredDisplayImageBoxSequence"],"0424":["SQ","StructuredDisplayTextBoxSequence"],"0427":["SQ","ReferencedFirstFrameSequence"],"0430":["SQ","ImageBoxSynchronizationSequence"],"0432":["US","SynchronizedImageBoxList"],"0434":["CS","TypeOfSynchronization"],"0500":["CS","BlendingOperationType"],"0510":["CS","ReformattingOperationType"],"0512":["FD","ReformattingThickness"],"0514":["FD","ReformattingInterval"],"0516":["CS","ReformattingOperationInitialViewDirection"],"0520":["CS","ThreeDRenderingType"],"0600":["SQ","SortingOperationsSequence"],"0602":["CS","SortByCategory"],"0604":["CS","SortingDirection"],"0700":["CS","DisplaySetPatientOrientation"],"0702":["CS","VOIType"],"0704":["CS","PseudoColorType"],"0705":["SQ","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","ShowGrayscaleInverted"],"0710":["CS","ShowImageTrueSizeFlag"],"0712":["CS","ShowGraphicAnnotationFlag"],"0714":["CS","ShowPatientDemographicsFlag"],"0716":["CS","ShowAcquisitionTechniquesFlag"],"0717":["CS","DisplaySetHorizontalJustification"],"0718":["CS","DisplaySetVerticalJustification"]},"0074":{"0120":["FD","ContinuationStartMeterset"],"0121":["FD","ContinuationEndMeterset"],1000:["CS","ProcedureStepState"],1002:["SQ","ProcedureStepProgressInformationSequence"],1004:["DS","ProcedureStepProgress"],1006:["ST","ProcedureStepProgressDescription"],1008:["SQ","ProcedureStepCommunicationsURISequence"],"100A":["ST","ContactURI"],"100C":["LO","ContactDisplayName"],"100E":["SQ","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","BeamTaskSequence"],1022:["CS","BeamTaskType"],1024:["IS","BeamOrderIndexTrial"],1026:["FD","TableTopVerticalAdjustedPosition"],1027:["FD","TableTopLongitudinalAdjustedPosition"],1028:["FD","TableTopLateralAdjustedPosition"],"102A":["FD","PatientSupportAdjustedAngle"],"102B":["FD","TableTopEccentricAdjustedAngle"],"102C":["FD","TableTopPitchAdjustedAngle"],"102D":["FD","TableTopRollAdjustedAngle"],1030:["SQ","DeliveryVerificationImageSequence"],1032:["CS","VerificationImageTiming"],1034:["CS","DoubleExposureFlag"],1036:["CS","DoubleExposureOrdering"],1038:["DS","DoubleExposureMetersetTrial"],"103A":["DS","DoubleExposureFieldDeltaTrial"],1040:["SQ","RelatedReferenceRTImageSequence"],1042:["SQ","GeneralMachineVerificationSequence"],1044:["SQ","ConventionalMachineVerificationSequence"],1046:["SQ","IonMachineVerificationSequence"],1048:["SQ","FailedAttributesSequence"],"104A":["SQ","OverriddenAttributesSequence"],"104C":["SQ","ConventionalControlPointVerificationSequence"],"104E":["SQ","IonControlPointVerificationSequence"],1050:["SQ","AttributeOccurrenceSequence"],1052:["AT","AttributeOccurrencePointer"],1054:["UL","AttributeItemSelector"],1056:["LO","AttributeOccurrencePrivateCreator"],1057:["IS","SelectorSequencePointerItems"],1200:["CS","ScheduledProcedureStepPriority"],1202:["LO","WorklistLabel"],1204:["LO","ProcedureStepLabel"],1210:["SQ","ScheduledProcessingParametersSequence"],1212:["SQ","PerformedProcessingParametersSequence"],1216:["SQ","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","RelatedProcedureStepSequence"],1222:["LO","ProcedureStepRelationshipType"],1224:["SQ","ReplacedProcedureStepSequence"],1230:["LO","DeletionLock"],1234:["AE","ReceivingAE"],1236:["AE","RequestingAE"],1238:["LT","ReasonForCancellation"],1242:["CS","SCPStatus"],1244:["CS","SubscriptionListStatus"],1246:["CS","UnifiedProcedureStepListStatus"],1324:["UL","BeamOrderIndex"],1338:["FD","DoubleExposureMeterset"],"133A":["FD","DoubleExposureFieldDelta"]},"0076":{"0001":["LO","ImplantAssemblyTemplateName"],"0003":["LO","ImplantAssemblyTemplateIssuer"],"0006":["LO","ImplantAssemblyTemplateVersion"],"0008":["SQ","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","ImplantAssemblyTemplateType"],"000C":["SQ","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","ProcedureTypeCodeSequence"],"0030":["LO","SurgicalTechnique"],"0032":["SQ","ComponentTypesSequence"],"0034":["CS","ComponentTypeCodeSequence"],"0036":["CS","ExclusiveComponentType"],"0038":["CS","MandatoryComponentType"],"0040":["SQ","ComponentSequence"],"0055":["US","ComponentID"],"0060":["SQ","ComponentAssemblySequence"],"0070":["US","Component1ReferencedID"],"0080":["US","Component1ReferencedMatingFeatureSetID"],"0090":["US","Component1ReferencedMatingFeatureID"],"00A0":["US","Component2ReferencedID"],"00B0":["US","Component2ReferencedMatingFeatureSetID"],"00C0":["US","Component2ReferencedMatingFeatureID"]},"0078":{"0001":["LO","ImplantTemplateGroupName"],"0010":["ST","ImplantTemplateGroupDescription"],"0020":["LO","ImplantTemplateGroupIssuer"],"0024":["LO","ImplantTemplateGroupVersion"],"0026":["SQ","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","ImplantTemplateGroupMembersSequence"],"002E":["US","ImplantTemplateGroupMemberID"],"0050":["FD","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","ImplantTemplateGroupVariationDimensionRank"]},"0088":{"0130":["SH","StorageMediaFileSetID"],"0140":["UI","StorageMediaFileSetUID"],"0200":["SQ","IconImageSequence"],"0904":["LO","TopicTitle"],"0906":["ST","TopicSubject"],"0910":["LO","TopicAuthor"],"0912":["LO","TopicKeywords"]},"0100":{"0410":["CS","SOPInstanceStatus"],"0420":["DT","SOPAuthorizationDateTime"],"0424":["LT","SOPAuthorizationComment"],"0426":["LO","AuthorizationEquipmentCertificationNumber"]},"0400":{"0005":["US","MACIDNumber"],"0010":["UI","MACCalculationTransferSyntaxUID"],"0015":["CS","MACAlgorithm"],"0020":["AT","DataElementsSigned"],"0100":["UI","DigitalSignatureUID"],"0105":["DT","DigitalSignatureDateTime"],"0110":["CS","CertificateType"],"0115":["OB","CertificateOfSigner"],"0120":["OB","Signature"],"0305":["CS","CertifiedTimestampType"],"0310":["OB","CertifiedTimestamp"],"0401":["SQ","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","ReferencedDigitalSignatureSequence"],"0403":["SQ","ReferencedSOPInstanceMACSequence"],"0404":["OB","MAC"],"0500":["SQ","EncryptedAttributesSequence"],"0510":["UI","EncryptedContentTransferSyntaxUID"],"0520":["OB","EncryptedContent"],"0550":["SQ","ModifiedAttributesSequence"],"0561":["SQ","OriginalAttributesSequence"],"0562":["DT","AttributeModificationDateTime"],"0563":["LO","ModifyingSystem"],"0564":["LO","SourceOfPreviousValues"],"0565":["CS","ReasonForTheAttributeModification"]},2000:{"0010":["IS","NumberOfCopies"],"001E":["SQ","PrinterConfigurationSequence"],"0020":["CS","PrintPriority"],"0030":["CS","MediumType"],"0040":["CS","FilmDestination"],"0050":["LO","FilmSessionLabel"],"0060":["IS","MemoryAllocation"],"0061":["IS","MaximumMemoryAllocation"],"0062":["CS","ColorImagePrintingFlag"],"0063":["CS","CollationFlag"],"0065":["CS","AnnotationFlag"],"0067":["CS","ImageOverlayFlag"],"0069":["CS","PresentationLUTFlag"],"006A":["CS","ImageBoxPresentationLUTFlag"],"00A0":["US","MemoryBitDepth"],"00A1":["US","PrintingBitDepth"],"00A2":["SQ","MediaInstalledSequence"],"00A4":["SQ","OtherMediaAvailableSequence"],"00A8":["SQ","SupportedImageDisplayFormatsSequence"],"0500":["SQ","ReferencedFilmBoxSequence"],"0510":["SQ","ReferencedStoredPrintSequence"]},2010:{"0010":["ST","ImageDisplayFormat"],"0030":["CS","AnnotationDisplayFormatID"],"0040":["CS","FilmOrientation"],"0050":["CS","FilmSizeID"],"0052":["CS","PrinterResolutionID"],"0054":["CS","DefaultPrinterResolutionID"],"0060":["CS","MagnificationType"],"0080":["CS","SmoothingType"],"00A6":["CS","DefaultMagnificationType"],"00A7":["CS","OtherMagnificationTypesAvailable"],"00A8":["CS","DefaultSmoothingType"],"00A9":["CS","OtherSmoothingTypesAvailable"],"0100":["CS","BorderDensity"],"0110":["CS","EmptyImageDensity"],"0120":["US","MinDensity"],"0130":["US","MaxDensity"],"0140":["CS","Trim"],"0150":["ST","ConfigurationInformation"],"0152":["LT","ConfigurationInformationDescription"],"0154":["IS","MaximumCollatedFilms"],"015E":["US","Illumination"],"0160":["US","ReflectedAmbientLight"],"0376":["DS","PrinterPixelSpacing"],"0500":["SQ","ReferencedFilmSessionSequence"],"0510":["SQ","ReferencedImageBoxSequence"],"0520":["SQ","ReferencedBasicAnnotationBoxSequence"]},2020:{"0010":["US","ImageBoxPosition"],"0020":["CS","Polarity"],"0030":["DS","RequestedImageSize"],"0040":["CS","RequestedDecimateCropBehavior"],"0050":["CS","RequestedResolutionID"],"00A0":["CS","RequestedImageSizeFlag"],"00A2":["CS","DecimateCropResult"],"0110":["SQ","BasicGrayscaleImageSequence"],"0111":["SQ","BasicColorImageSequence"],"0130":["SQ","ReferencedImageOverlayBoxSequence"],"0140":["SQ","ReferencedVOILUTBoxSequence"]},2030:{"0010":["US","AnnotationPosition"],"0020":["LO","TextString"]},2040:{"0010":["SQ","ReferencedOverlayPlaneSequence"],"0011":["US","ReferencedOverlayPlaneGroups"],"0020":["SQ","OverlayPixelDataSequence"],"0060":["CS","OverlayMagnificationType"],"0070":["CS","OverlaySmoothingType"],"0072":["CS","OverlayOrImageMagnification"],"0074":["US","MagnifyToNumberOfColumns"],"0080":["CS","OverlayForegroundDensity"],"0082":["CS","OverlayBackgroundDensity"],"0090":["CS","OverlayMode"],"0100":["CS","ThresholdDensity"],"0500":["SQ","ReferencedImageBoxSequenceRetired"]},2050:{"0010":["SQ","PresentationLUTSequence"],"0020":["CS","PresentationLUTShape"],"0500":["SQ","ReferencedPresentationLUTSequence"]},2100:{"0010":["SH","PrintJobID"],"0020":["CS","ExecutionStatus"],"0030":["CS","ExecutionStatusInfo"],"0040":["DA","CreationDate"],"0050":["TM","CreationTime"],"0070":["AE","Originator"],"0140":["AE","DestinationAE"],"0160":["SH","OwnerID"],"0170":["IS","NumberOfFilms"],"0500":["SQ","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0010":["CS","PrinterStatus"],"0020":["CS","PrinterStatusInfo"],"0030":["LO","PrinterName"],"0099":["SH","PrintQueueID"]},2120:{"0010":["CS","QueueStatus"],"0050":["SQ","PrintJobDescriptionSequence"],"0070":["SQ","ReferencedPrintJobSequence"]},2130:{"0010":["SQ","PrintManagementCapabilitiesSequence"],"0015":["SQ","PrinterCharacteristicsSequence"],"0030":["SQ","FilmBoxContentSequence"],"0040":["SQ","ImageBoxContentSequence"],"0050":["SQ","AnnotationContentSequence"],"0060":["SQ","ImageOverlayBoxContentSequence"],"0080":["SQ","PresentationLUTContentSequence"],"00A0":["SQ","ProposedStudySequence"],"00C0":["SQ","OriginalImageSequence"]},2200:{"0001":["CS","LabelUsingInformationExtractedFromInstances"],"0002":["UT","LabelText"],"0003":["CS","LabelStyleSelection"],"0004":["LT","MediaDisposition"],"0005":["LT","BarcodeValue"],"0006":["CS","BarcodeSymbology"],"0007":["CS","AllowMediaSplitting"],"0008":["CS","IncludeNonDICOMObjects"],"0009":["CS","IncludeDisplayApplication"],"000A":["CS","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","RequestedMediaApplicationProfile"],"000D":["SQ","ReferencedStorageMediaSequence"],"000E":["AT","FailureAttributes"],"000F":["CS","AllowLossyCompression"],"0020":["CS","RequestPriority"]},3002:{"0002":["SH","RTImageLabel"],"0003":["LO","RTImageName"],"0004":["ST","RTImageDescription"],"000A":["CS","ReportedValuesOrigin"],"000C":["CS","RTImagePlane"],"000D":["DS","XRayImageReceptorTranslation"],"000E":["DS","XRayImageReceptorAngle"],"0010":["DS","RTImageOrientation"],"0011":["DS","ImagePlanePixelSpacing"],"0012":["DS","RTImagePosition"],"0020":["SH","RadiationMachineName"],"0022":["DS","RadiationMachineSAD"],"0024":["DS","RadiationMachineSSD"],"0026":["DS","RTImageSID"],"0028":["DS","SourceToReferenceObjectDistance"],"0029":["IS","FractionNumber"],"0030":["SQ","ExposureSequence"],"0032":["DS","MetersetExposure"],"0034":["DS","DiaphragmPosition"],"0040":["SQ","FluenceMapSequence"],"0041":["CS","FluenceDataSource"],"0042":["DS","FluenceDataScale"],"0050":["SQ","PrimaryFluenceModeSequence"],"0051":["CS","FluenceMode"],"0052":["SH","FluenceModeID"]},3004:{"0001":["CS","DVHType"],"0002":["CS","DoseUnits"],"0004":["CS","DoseType"],"0006":["LO","DoseComment"],"0008":["DS","NormalizationPoint"],"000A":["CS","DoseSummationType"],"000C":["DS","GridFrameOffsetVector"],"000E":["DS","DoseGridScaling"],"0010":["SQ","RTDoseROISequence"],"0012":["DS","DoseValue"],"0014":["CS","TissueHeterogeneityCorrection"],"0040":["DS","DVHNormalizationPoint"],"0042":["DS","DVHNormalizationDoseValue"],"0050":["SQ","DVHSequence"],"0052":["DS","DVHDoseScaling"],"0054":["CS","DVHVolumeUnits"],"0056":["IS","DVHNumberOfBins"],"0058":["DS","DVHData"],"0060":["SQ","DVHReferencedROISequence"],"0062":["CS","DVHROIContributionType"],"0070":["DS","DVHMinimumDose"],"0072":["DS","DVHMaximumDose"],"0074":["DS","DVHMeanDose"]},3006:{"0002":["SH","StructureSetLabel"],"0004":["LO","StructureSetName"],"0006":["ST","StructureSetDescription"],"0008":["DA","StructureSetDate"],"0009":["TM","StructureSetTime"],"0010":["SQ","ReferencedFrameOfReferenceSequence"],"0012":["SQ","RTReferencedStudySequence"],"0014":["SQ","RTReferencedSeriesSequence"],"0016":["SQ","ContourImageSequence"],"0020":["SQ","StructureSetROISequence"],"0022":["IS","ROINumber"],"0024":["UI","ReferencedFrameOfReferenceUID"],"0026":["LO","ROIName"],"0028":["ST","ROIDescription"],"002A":["IS","ROIDisplayColor"],"002C":["DS","ROIVolume"],"0030":["SQ","RTRelatedROISequence"],"0033":["CS","RTROIRelationship"],"0036":["CS","ROIGenerationAlgorithm"],"0038":["LO","ROIGenerationDescription"],"0039":["SQ","ROIContourSequence"],"0040":["SQ","ContourSequence"],"0042":["CS","ContourGeometricType"],"0044":["DS","ContourSlabThickness"],"0045":["DS","ContourOffsetVector"],"0046":["IS","NumberOfContourPoints"],"0048":["IS","ContourNumber"],"0049":["IS","AttachedContours"],"0050":["DS","ContourData"],"0080":["SQ","RTROIObservationsSequence"],"0082":["IS","ObservationNumber"],"0084":["IS","ReferencedROINumber"],"0085":["SH","ROIObservationLabel"],"0086":["SQ","RTROIIdentificationCodeSequence"],"0088":["ST","ROIObservationDescription"],"00A0":["SQ","RelatedRTROIObservationsSequence"],"00A4":["CS","RTROIInterpretedType"],"00A6":["PN","ROIInterpreter"],"00B0":["SQ","ROIPhysicalPropertiesSequence"],"00B2":["CS","ROIPhysicalProperty"],"00B4":["DS","ROIPhysicalPropertyValue"],"00B6":["SQ","ROIElementalCompositionSequence"],"00B7":["US","ROIElementalCompositionAtomicNumber"],"00B8":["FL","ROIElementalCompositionAtomicMassFraction"],"00C0":["SQ","FrameOfReferenceRelationshipSequence"],"00C2":["UI","RelatedFrameOfReferenceUID"],"00C4":["CS","FrameOfReferenceTransformationType"],"00C6":["DS","FrameOfReferenceTransformationMatrix"],"00C8":["LO","FrameOfReferenceTransformationComment"]},3008:{"0010":["SQ","MeasuredDoseReferenceSequence"],"0012":["ST","MeasuredDoseDescription"],"0014":["CS","MeasuredDoseType"],"0016":["DS","MeasuredDoseValue"],"0020":["SQ","TreatmentSessionBeamSequence"],"0021":["SQ","TreatmentSessionIonBeamSequence"],"0022":["IS","CurrentFractionNumber"],"0024":["DA","TreatmentControlPointDate"],"0025":["TM","TreatmentControlPointTime"],"002A":["CS","TreatmentTerminationStatus"],"002B":["SH","TreatmentTerminationCode"],"002C":["CS","TreatmentVerificationStatus"],"0030":["SQ","ReferencedTreatmentRecordSequence"],"0032":["DS","SpecifiedPrimaryMeterset"],"0033":["DS","SpecifiedSecondaryMeterset"],"0036":["DS","DeliveredPrimaryMeterset"],"0037":["DS","DeliveredSecondaryMeterset"],"003A":["DS","SpecifiedTreatmentTime"],"003B":["DS","DeliveredTreatmentTime"],"0040":["SQ","ControlPointDeliverySequence"],"0041":["SQ","IonControlPointDeliverySequence"],"0042":["DS","SpecifiedMeterset"],"0044":["DS","DeliveredMeterset"],"0045":["FL","MetersetRateSet"],"0046":["FL","MetersetRateDelivered"],"0047":["FL","ScanSpotMetersetsDelivered"],"0048":["DS","DoseRateDelivered"],"0050":["SQ","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","CumulativeDoseToDoseReference"],"0054":["DA","FirstTreatmentDate"],"0056":["DA","MostRecentTreatmentDate"],"005A":["IS","NumberOfFractionsDelivered"],"0060":["SQ","OverrideSequence"],"0061":["AT","ParameterSequencePointer"],"0062":["AT","OverrideParameterPointer"],"0063":["IS","ParameterItemIndex"],"0064":["IS","MeasuredDoseReferenceNumber"],"0065":["AT","ParameterPointer"],"0066":["ST","OverrideReason"],"0068":["SQ","CorrectedParameterSequence"],"006A":["FL","CorrectionValue"],"0070":["SQ","CalculatedDoseReferenceSequence"],"0072":["IS","CalculatedDoseReferenceNumber"],"0074":["ST","CalculatedDoseReferenceDescription"],"0076":["DS","CalculatedDoseReferenceDoseValue"],"0078":["DS","StartMeterset"],"007A":["DS","EndMeterset"],"0080":["SQ","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","RecordedWedgeSequence"],"00C0":["SQ","RecordedCompensatorSequence"],"00D0":["SQ","RecordedBlockSequence"],"00E0":["SQ","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","RecordedSnoutSequence"],"00F2":["SQ","RecordedRangeShifterSequence"],"00F4":["SQ","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","RecordedRangeModulatorSequence"],"0100":["SQ","RecordedSourceSequence"],"0105":["LO","SourceSerialNumber"],"0110":["SQ","TreatmentSessionApplicationSetupSequence"],"0116":["CS","ApplicationSetupCheck"],"0120":["SQ","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","RecordedChannelSequence"],"0132":["DS","SpecifiedChannelTotalTime"],"0134":["DS","DeliveredChannelTotalTime"],"0136":["IS","SpecifiedNumberOfPulses"],"0138":["IS","DeliveredNumberOfPulses"],"013A":["DS","SpecifiedPulseRepetitionInterval"],"013C":["DS","DeliveredPulseRepetitionInterval"],"0140":["SQ","RecordedSourceApplicatorSequence"],"0142":["IS","ReferencedSourceApplicatorNumber"],"0150":["SQ","RecordedChannelShieldSequence"],"0152":["IS","ReferencedChannelShieldNumber"],"0160":["SQ","BrachyControlPointDeliveredSequence"],"0162":["DA","SafePositionExitDate"],"0164":["TM","SafePositionExitTime"],"0166":["DA","SafePositionReturnDate"],"0168":["TM","SafePositionReturnTime"],"0200":["CS","CurrentTreatmentStatus"],"0202":["ST","TreatmentStatusComment"],"0220":["SQ","FractionGroupSummarySequence"],"0223":["IS","ReferencedFractionNumber"],"0224":["CS","FractionGroupType"],"0230":["CS","BeamStopperPosition"],"0240":["SQ","FractionStatusSummarySequence"],"0250":["DA","TreatmentDate"],"0251":["TM","TreatmentTime"]},"300A":{"0002":["SH","RTPlanLabel"],"0003":["LO","RTPlanName"],"0004":["ST","RTPlanDescription"],"0006":["DA","RTPlanDate"],"0007":["TM","RTPlanTime"],"0009":["LO","TreatmentProtocols"],"000A":["CS","PlanIntent"],"000B":["LO","TreatmentSites"],"000C":["CS","RTPlanGeometry"],"000E":["ST","PrescriptionDescription"],"0010":["SQ","DoseReferenceSequence"],"0012":["IS","DoseReferenceNumber"],"0013":["UI","DoseReferenceUID"],"0014":["CS","DoseReferenceStructureType"],"0015":["CS","NominalBeamEnergyUnit"],"0016":["LO","DoseReferenceDescription"],"0018":["DS","DoseReferencePointCoordinates"],"001A":["DS","NominalPriorDose"],"0020":["CS","DoseReferenceType"],"0021":["DS","ConstraintWeight"],"0022":["DS","DeliveryWarningDose"],"0023":["DS","DeliveryMaximumDose"],"0025":["DS","TargetMinimumDose"],"0026":["DS","TargetPrescriptionDose"],"0027":["DS","TargetMaximumDose"],"0028":["DS","TargetUnderdoseVolumeFraction"],"002A":["DS","OrganAtRiskFullVolumeDose"],"002B":["DS","OrganAtRiskLimitDose"],"002C":["DS","OrganAtRiskMaximumDose"],"002D":["DS","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","ToleranceTableSequence"],"0042":["IS","ToleranceTableNumber"],"0043":["SH","ToleranceTableLabel"],"0044":["DS","GantryAngleTolerance"],"0046":["DS","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","BeamLimitingDeviceToleranceSequence"],"004A":["DS","BeamLimitingDevicePositionTolerance"],"004B":["FL","SnoutPositionTolerance"],"004C":["DS","PatientSupportAngleTolerance"],"004E":["DS","TableTopEccentricAngleTolerance"],"004F":["FL","TableTopPitchAngleTolerance"],"0050":["FL","TableTopRollAngleTolerance"],"0051":["DS","TableTopVerticalPositionTolerance"],"0052":["DS","TableTopLongitudinalPositionTolerance"],"0053":["DS","TableTopLateralPositionTolerance"],"0055":["CS","RTPlanRelationship"],"0070":["SQ","FractionGroupSequence"],"0071":["IS","FractionGroupNumber"],"0072":["LO","FractionGroupDescription"],"0078":["IS","NumberOfFractionsPlanned"],"0079":["IS","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","RepeatFractionCycleLength"],"007B":["LT","FractionPattern"],"0080":["IS","NumberOfBeams"],"0082":["DS","BeamDoseSpecificationPoint"],"0084":["DS","BeamDose"],"0086":["DS","BeamMeterset"],"0088":["FL","BeamDosePointDepth"],"0089":["FL","BeamDosePointEquivalentDepth"],"008A":["FL","BeamDosePointSSD"],"00A0":["IS","NumberOfBrachyApplicationSetups"],"00A2":["DS","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","BrachyApplicationSetupDose"],"00B0":["SQ","BeamSequence"],"00B2":["SH","TreatmentMachineName"],"00B3":["CS","PrimaryDosimeterUnit"],"00B4":["DS","SourceAxisDistance"],"00B6":["SQ","BeamLimitingDeviceSequence"],"00B8":["CS","RTBeamLimitingDeviceType"],"00BA":["DS","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","NumberOfLeafJawPairs"],"00BE":["DS","LeafPositionBoundaries"],"00C0":["IS","BeamNumber"],"00C2":["LO","BeamName"],"00C3":["ST","BeamDescription"],"00C4":["CS","BeamType"],"00C6":["CS","RadiationType"],"00C7":["CS","HighDoseTechniqueType"],"00C8":["IS","ReferenceImageNumber"],"00CA":["SQ","PlannedVerificationImageSequence"],"00CC":["LO","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","TreatmentDeliveryType"],"00D0":["IS","NumberOfWedges"],"00D1":["SQ","WedgeSequence"],"00D2":["IS","WedgeNumber"],"00D3":["CS","WedgeType"],"00D4":["SH","WedgeID"],"00D5":["IS","WedgeAngle"],"00D6":["DS","WedgeFactor"],"00D7":["FL","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","WedgeOrientation"],"00D9":["FL","IsocenterToWedgeTrayDistance"],"00DA":["DS","SourceToWedgeTrayDistance"],"00DB":["FL","WedgeThinEdgePosition"],"00DC":["SH","BolusID"],"00DD":["ST","BolusDescription"],"00E0":["IS","NumberOfCompensators"],"00E1":["SH","MaterialID"],"00E2":["DS","TotalCompensatorTrayFactor"],"00E3":["SQ","CompensatorSequence"],"00E4":["IS","CompensatorNumber"],"00E5":["SH","CompensatorID"],"00E6":["DS","SourceToCompensatorTrayDistance"],"00E7":["IS","CompensatorRows"],"00E8":["IS","CompensatorColumns"],"00E9":["DS","CompensatorPixelSpacing"],"00EA":["DS","CompensatorPosition"],"00EB":["DS","CompensatorTransmissionData"],"00EC":["DS","CompensatorThicknessData"],"00ED":["IS","NumberOfBoli"],"00EE":["CS","CompensatorType"],"00F0":["IS","NumberOfBlocks"],"00F2":["DS","TotalBlockTrayFactor"],"00F3":["FL","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","BlockSequence"],"00F5":["SH","BlockTrayID"],"00F6":["DS","SourceToBlockTrayDistance"],"00F7":["FL","IsocenterToBlockTrayDistance"],"00F8":["CS","BlockType"],"00F9":["LO","AccessoryCode"],"00FA":["CS","BlockDivergence"],"00FB":["CS","BlockMountingPosition"],"00FC":["IS","BlockNumber"],"00FE":["LO","BlockName"],"0100":["DS","BlockThickness"],"0102":["DS","BlockTransmission"],"0104":["IS","BlockNumberOfPoints"],"0106":["DS","BlockData"],"0107":["SQ","ApplicatorSequence"],"0108":["SH","ApplicatorID"],"0109":["CS","ApplicatorType"],"010A":["LO","ApplicatorDescription"],"010C":["DS","CumulativeDoseReferenceCoefficient"],"010E":["DS","FinalCumulativeMetersetWeight"],"0110":["IS","NumberOfControlPoints"],"0111":["SQ","ControlPointSequence"],"0112":["IS","ControlPointIndex"],"0114":["DS","NominalBeamEnergy"],"0115":["DS","DoseRateSet"],"0116":["SQ","WedgePositionSequence"],"0118":["CS","WedgePosition"],"011A":["SQ","BeamLimitingDevicePositionSequence"],"011C":["DS","LeafJawPositions"],"011E":["DS","GantryAngle"],"011F":["CS","GantryRotationDirection"],"0120":["DS","BeamLimitingDeviceAngle"],"0121":["CS","BeamLimitingDeviceRotationDirection"],"0122":["DS","PatientSupportAngle"],"0123":["CS","PatientSupportRotationDirection"],"0124":["DS","TableTopEccentricAxisDistance"],"0125":["DS","TableTopEccentricAngle"],"0126":["CS","TableTopEccentricRotationDirection"],"0128":["DS","TableTopVerticalPosition"],"0129":["DS","TableTopLongitudinalPosition"],"012A":["DS","TableTopLateralPosition"],"012C":["DS","IsocenterPosition"],"012E":["DS","SurfaceEntryPoint"],"0130":["DS","SourceToSurfaceDistance"],"0134":["DS","CumulativeMetersetWeight"],"0140":["FL","TableTopPitchAngle"],"0142":["CS","TableTopPitchRotationDirection"],"0144":["FL","TableTopRollAngle"],"0146":["CS","TableTopRollRotationDirection"],"0148":["FL","HeadFixationAngle"],"014A":["FL","GantryPitchAngle"],"014C":["CS","GantryPitchRotationDirection"],"014E":["FL","GantryPitchAngleTolerance"],"0180":["SQ","PatientSetupSequence"],"0182":["IS","PatientSetupNumber"],"0183":["LO","PatientSetupLabel"],"0184":["LO","PatientAdditionalPosition"],"0190":["SQ","FixationDeviceSequence"],"0192":["CS","FixationDeviceType"],"0194":["SH","FixationDeviceLabel"],"0196":["ST","FixationDeviceDescription"],"0198":["SH","FixationDevicePosition"],"0199":["FL","FixationDevicePitchAngle"],"019A":["FL","FixationDeviceRollAngle"],"01A0":["SQ","ShieldingDeviceSequence"],"01A2":["CS","ShieldingDeviceType"],"01A4":["SH","ShieldingDeviceLabel"],"01A6":["ST","ShieldingDeviceDescription"],"01A8":["SH","ShieldingDevicePosition"],"01B0":["CS","SetupTechnique"],"01B2":["ST","SetupTechniqueDescription"],"01B4":["SQ","SetupDeviceSequence"],"01B6":["CS","SetupDeviceType"],"01B8":["SH","SetupDeviceLabel"],"01BA":["ST","SetupDeviceDescription"],"01BC":["DS","SetupDeviceParameter"],"01D0":["ST","SetupReferenceDescription"],"01D2":["DS","TableTopVerticalSetupDisplacement"],"01D4":["DS","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","TableTopLateralSetupDisplacement"],"0200":["CS","BrachyTreatmentTechnique"],"0202":["CS","BrachyTreatmentType"],"0206":["SQ","TreatmentMachineSequence"],"0210":["SQ","SourceSequence"],"0212":["IS","SourceNumber"],"0214":["CS","SourceType"],"0216":["LO","SourceManufacturer"],"0218":["DS","ActiveSourceDiameter"],"021A":["DS","ActiveSourceLength"],"0222":["DS","SourceEncapsulationNominalThickness"],"0224":["DS","SourceEncapsulationNominalTransmission"],"0226":["LO","SourceIsotopeName"],"0228":["DS","SourceIsotopeHalfLife"],"0229":["CS","SourceStrengthUnits"],"022A":["DS","ReferenceAirKermaRate"],"022B":["DS","SourceStrength"],"022C":["DA","SourceStrengthReferenceDate"],"022E":["TM","SourceStrengthReferenceTime"],"0230":["SQ","ApplicationSetupSequence"],"0232":["CS","ApplicationSetupType"],"0234":["IS","ApplicationSetupNumber"],"0236":["LO","ApplicationSetupName"],"0238":["LO","ApplicationSetupManufacturer"],"0240":["IS","TemplateNumber"],"0242":["SH","TemplateType"],"0244":["LO","TemplateName"],"0250":["DS","TotalReferenceAirKerma"],"0260":["SQ","BrachyAccessoryDeviceSequence"],"0262":["IS","BrachyAccessoryDeviceNumber"],"0263":["SH","BrachyAccessoryDeviceID"],"0264":["CS","BrachyAccessoryDeviceType"],"0266":["LO","BrachyAccessoryDeviceName"],"026A":["DS","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","BrachyAccessoryDeviceNominalTransmission"],"0280":["SQ","ChannelSequence"],"0282":["IS","ChannelNumber"],"0284":["DS","ChannelLength"],"0286":["DS","ChannelTotalTime"],"0288":["CS","SourceMovementType"],"028A":["IS","NumberOfPulses"],"028C":["DS","PulseRepetitionInterval"],"0290":["IS","SourceApplicatorNumber"],"0291":["SH","SourceApplicatorID"],"0292":["CS","SourceApplicatorType"],"0294":["LO","SourceApplicatorName"],"0296":["DS","SourceApplicatorLength"],"0298":["LO","SourceApplicatorManufacturer"],"029C":["DS","SourceApplicatorWallNominalThickness"],"029E":["DS","SourceApplicatorWallNominalTransmission"],"02A0":["DS","SourceApplicatorStepSize"],"02A2":["IS","TransferTubeNumber"],"02A4":["DS","TransferTubeLength"],"02B0":["SQ","ChannelShieldSequence"],"02B2":["IS","ChannelShieldNumber"],"02B3":["SH","ChannelShieldID"],"02B4":["LO","ChannelShieldName"],"02B8":["DS","ChannelShieldNominalThickness"],"02BA":["DS","ChannelShieldNominalTransmission"],"02C8":["DS","FinalCumulativeTimeWeight"],"02D0":["SQ","BrachyControlPointSequence"],"02D2":["DS","ControlPointRelativePosition"],"02D4":["DS","ControlPoint3DPosition"],"02D6":["DS","CumulativeTimeWeight"],"02E0":["CS","CompensatorDivergence"],"02E1":["CS","CompensatorMountingPosition"],"02E2":["DS","SourceToCompensatorDistance"],"02E3":["FL","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","IsocenterToCompensatorTrayDistance"],"02E5":["FL","CompensatorColumnOffset"],"02E6":["FL","IsocenterToCompensatorDistances"],"02E7":["FL","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","CompensatorMillingToolDiameter"],"02EA":["SQ","IonRangeCompensatorSequence"],"02EB":["LT","CompensatorDescription"],"0302":["IS","RadiationMassNumber"],"0304":["IS","RadiationAtomicNumber"],"0306":["SS","RadiationChargeState"],"0308":["CS","ScanMode"],"030A":["FL","VirtualSourceAxisDistances"],"030C":["SQ","SnoutSequence"],"030D":["FL","SnoutPosition"],"030F":["SH","SnoutID"],"0312":["IS","NumberOfRangeShifters"],"0314":["SQ","RangeShifterSequence"],"0316":["IS","RangeShifterNumber"],"0318":["SH","RangeShifterID"],"0320":["CS","RangeShifterType"],"0322":["LO","RangeShifterDescription"],"0330":["IS","NumberOfLateralSpreadingDevices"],"0332":["SQ","LateralSpreadingDeviceSequence"],"0334":["IS","LateralSpreadingDeviceNumber"],"0336":["SH","LateralSpreadingDeviceID"],"0338":["CS","LateralSpreadingDeviceType"],"033A":["LO","LateralSpreadingDeviceDescription"],"033C":["FL","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","NumberOfRangeModulators"],"0342":["SQ","RangeModulatorSequence"],"0344":["IS","RangeModulatorNumber"],"0346":["SH","RangeModulatorID"],"0348":["CS","RangeModulatorType"],"034A":["LO","RangeModulatorDescription"],"034C":["SH","BeamCurrentModulationID"],"0350":["CS","PatientSupportType"],"0352":["SH","PatientSupportID"],"0354":["LO","PatientSupportAccessoryCode"],"0356":["FL","FixationLightAzimuthalAngle"],"0358":["FL","FixationLightPolarAngle"],"035A":["FL","MetersetRate"],"0360":["SQ","RangeShifterSettingsSequence"],"0362":["LO","RangeShifterSetting"],"0364":["FL","IsocenterToRangeShifterDistance"],"0366":["FL","RangeShifterWaterEquivalentThickness"],"0370":["SQ","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","LateralSpreadingDeviceSetting"],"0374":["FL","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","RangeModulatorSettingsSequence"],"0382":["FL","RangeModulatorGatingStartValue"],"0384":["FL","RangeModulatorGatingStopValue"],"0386":["FL","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","IsocenterToRangeModulatorDistance"],"0390":["SH","ScanSpotTuneID"],"0392":["IS","NumberOfScanSpotPositions"],"0394":["FL","ScanSpotPositionMap"],"0396":["FL","ScanSpotMetersetWeights"],"0398":["FL","ScanningSpotSize"],"039A":["IS","NumberOfPaintings"],"03A0":["SQ","IonToleranceTableSequence"],"03A2":["SQ","IonBeamSequence"],"03A4":["SQ","IonBeamLimitingDeviceSequence"],"03A6":["SQ","IonBlockSequence"],"03A8":["SQ","IonControlPointSequence"],"03AA":["SQ","IonWedgeSequence"],"03AC":["SQ","IonWedgePositionSequence"],"0401":["SQ","ReferencedSetupImageSequence"],"0402":["ST","SetupImageComment"],"0410":["SQ","MotionSynchronizationSequence"],"0412":["FL","ControlPointOrientation"],"0420":["SQ","GeneralAccessorySequence"],"0421":["SH","GeneralAccessoryID"],"0422":["ST","GeneralAccessoryDescription"],"0423":["CS","GeneralAccessoryType"],"0424":["IS","GeneralAccessoryNumber"],"0431":["SQ","ApplicatorGeometrySequence"],"0432":["CS","ApplicatorApertureShape"],"0433":["FL","ApplicatorOpening"],"0434":["FL","ApplicatorOpeningX"],"0435":["FL","ApplicatorOpeningY"],"0436":["FL","SourceToApplicatorMountingPositionDistance"]},"300C":{"0002":["SQ","ReferencedRTPlanSequence"],"0004":["SQ","ReferencedBeamSequence"],"0006":["IS","ReferencedBeamNumber"],"0007":["IS","ReferencedReferenceImageNumber"],"0008":["DS","StartCumulativeMetersetWeight"],"0009":["DS","EndCumulativeMetersetWeight"],"000A":["SQ","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","ReferencedSourceNumber"],"0020":["SQ","ReferencedFractionGroupSequence"],"0022":["IS","ReferencedFractionGroupNumber"],"0040":["SQ","ReferencedVerificationImageSequence"],"0042":["SQ","ReferencedReferenceImageSequence"],"0050":["SQ","ReferencedDoseReferenceSequence"],"0051":["IS","ReferencedDoseReferenceNumber"],"0055":["SQ","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","ReferencedStructureSetSequence"],"006A":["IS","ReferencedPatientSetupNumber"],"0080":["SQ","ReferencedDoseSequence"],"00A0":["IS","ReferencedToleranceTableNumber"],"00B0":["SQ","ReferencedBolusSequence"],"00C0":["IS","ReferencedWedgeNumber"],"00D0":["IS","ReferencedCompensatorNumber"],"00E0":["IS","ReferencedBlockNumber"],"00F0":["IS","ReferencedControlPointIndex"],"00F2":["SQ","ReferencedControlPointSequence"],"00F4":["IS","ReferencedStartControlPointIndex"],"00F6":["IS","ReferencedStopControlPointIndex"],"0100":["IS","ReferencedRangeShifterNumber"],"0102":["IS","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","ReferencedRangeModulatorNumber"]},"300E":{"0002":["CS","ApprovalStatus"],"0004":["DA","ReviewDate"],"0005":["TM","ReviewTime"],"0008":["PN","ReviewerName"]},4000:{"0010":["LT","Arbitrary"],4000:["LT","TextComments"]},4008:{"0040":["SH","ResultsID"],"0042":["LO","ResultsIDIssuer"],"0050":["SQ","ReferencedInterpretationSequence"],"00FF":["CS","ReportProductionStatusTrial"],"0100":["DA","InterpretationRecordedDate"],"0101":["TM","InterpretationRecordedTime"],"0102":["PN","InterpretationRecorder"],"0103":["LO","ReferenceToRecordedSound"],"0108":["DA","InterpretationTranscriptionDate"],"0109":["TM","InterpretationTranscriptionTime"],"010A":["PN","InterpretationTranscriber"],"010B":["ST","InterpretationText"],"010C":["PN","InterpretationAuthor"],"0111":["SQ","InterpretationApproverSequence"],"0112":["DA","InterpretationApprovalDate"],"0113":["TM","InterpretationApprovalTime"],"0114":["PN","PhysicianApprovingInterpretation"],"0115":["LT","InterpretationDiagnosisDescription"],"0117":["SQ","InterpretationDiagnosisCodeSequence"],"0118":["SQ","ResultsDistributionListSequence"],"0119":["PN","DistributionName"],"011A":["LO","DistributionAddress"],"0200":["SH","InterpretationID"],"0202":["LO","InterpretationIDIssuer"],"0210":["CS","InterpretationTypeID"],"0212":["CS","InterpretationStatusID"],"0300":["ST","Impressions"],4000:["ST","ResultsComments"]},4010:{"0001":["CS","LowEnergyDetectors"],"0002":["CS","HighEnergyDetectors"],"0004":["SQ","DetectorGeometrySequence"],1001:["SQ","ThreatROIVoxelSequence"],1004:["FL","ThreatROIBase"],1005:["FL","ThreatROIExtents"],1006:["OB","ThreatROIBitmap"],1007:["SH","RouteSegmentID"],1008:["CS","GantryType"],1009:["CS","OOIOwnerType"],"100A":["SQ","RouteSegmentSequence"],1010:["US","PotentialThreatObjectID"],1011:["SQ","ThreatSequence"],1012:["CS","ThreatCategory"],1013:["LT","ThreatCategoryDescription"],1014:["CS","ATDAbilityAssessment"],1015:["CS","ATDAssessmentFlag"],1016:["FL","ATDAssessmentProbability"],1017:["FL","Mass"],1018:["FL","Density"],1019:["FL","ZEffective"],"101A":["SH","BoardingPassID"],"101B":["FL","CenterOfMass"],"101C":["FL","CenterOfPTO"],"101D":["FL","BoundingPolygon"],"101E":["SH","RouteSegmentStartLocationID"],"101F":["SH","RouteSegmentEndLocationID"],1020:["CS","RouteSegmentLocationIDType"],1021:["CS","AbortReason"],1023:["FL","VolumeOfPTO"],1024:["CS","AbortFlag"],1025:["DT","RouteSegmentStartTime"],1026:["DT","RouteSegmentEndTime"],1027:["CS","TDRType"],1028:["CS","InternationalRouteSegment"],1029:["LO","ThreatDetectionAlgorithmandVersion"],"102A":["SH","AssignedLocation"],"102B":["DT","AlarmDecisionTime"],1031:["CS","AlarmDecision"],1033:["US","NumberOfTotalObjects"],1034:["US","NumberOfAlarmObjects"],1037:["SQ","PTORepresentationSequence"],1038:["SQ","ATDAssessmentSequence"],1039:["CS","TIPType"],"103A":["CS","DICOSVersion"],1041:["DT","OOIOwnerCreationTime"],1042:["CS","OOIType"],1043:["FL","OOISize"],1044:["CS","AcquisitionStatus"],1045:["SQ","BasisMaterialsCodeSequence"],1046:["CS","PhantomType"],1047:["SQ","OOIOwnerSequence"],1048:["CS","ScanType"],1051:["LO","ItineraryID"],1052:["SH","ItineraryIDType"],1053:["LO","ItineraryIDAssigningAuthority"],1054:["SH","RouteID"],1055:["SH","RouteIDAssigningAuthority"],1056:["CS","InboundArrivalType"],1058:["SH","CarrierID"],1059:["CS","CarrierIDAssigningAuthority"],1060:["FL","SourceOrientation"],1061:["FL","SourcePosition"],1062:["FL","BeltHeight"],1064:["SQ","AlgorithmRoutingCodeSequence"],1067:["CS","TransportClassification"],1068:["LT","OOITypeDescriptor"],1069:["FL","TotalProcessingTime"],"106C":["OB","DetectorCalibrationData"]}},a.Dictionary.getVR=function(e,t){var i,n,r;return(r=a.Dictionary.dict[a.Utils.dec2hex(e)])&&((n=r[a.Utils.dec2hex(t)])?i=n[0]:0===t&&(i="UL")),i||(r=a.Dictionary.dictPrivate[a.Utils.dec2hex(e)])&&(n=r[a.Utils.dec2hex(t)])&&(i=n[0]),i||(i="OB"),i},a.Dictionary.getDescription=function(e,t){var i,n,r;return(r=a.Dictionary.dict[a.Utils.dec2hex(e)])&&((n=r[a.Utils.dec2hex(t)])?i=n[1]:0===t&&(i="Group "+a.Utils.dec2hex(e)+" Length")),i||(r=a.Dictionary.dictPrivate[a.Utils.dec2hex(e)])&&(n=r[a.Utils.dec2hex(t)])&&(i=n[1]),i||(i="PrivateData"),i},"undefined"!==typeof t&&t.exports&&(t.exports=a.Dictionary)},{"./utilities.js":40}],31:[function(e,t,i){"use strict";var a=a||{};a.Tag=a.Tag||(void 0!==e?e("./tag.js"):null),a.CompressionUtils=a.CompressionUtils||(void 0!==e?e("./compression-utils.js"):null),a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.RLE=a.RLE||(void 0!==e?e("./rle.js"):null);var n=void 0!==e?e("jpeg-lossless-decoder-js"):null,r=r||(void 0!==e?e("../lib/jpeg-baseline.js").JpegImage:null),s=s||(void 0!==e?e("../lib/jpx.js"):null);a.Image=a.Image||function(){this.tags={},this.tagsFlat={},this.littleEndian=!1,this.index=-1,this.decompressed=!1,this.privateDataAll=null,this.convertedPalette=!1},a.Image.SLICE_DIRECTION_UNKNOWN=-1,a.Image.SLICE_DIRECTION_AXIAL=2,a.Image.SLICE_DIRECTION_CORONAL=1,a.Image.SLICE_DIRECTION_SAGITTAL=0,a.Image.SLICE_DIRECTION_OBLIQUE=3,a.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE=.8,a.Image.BYTE_TYPE_UNKNOWN=0,a.Image.BYTE_TYPE_BINARY=1,a.Image.BYTE_TYPE_INTEGER=2,a.Image.BYTE_TYPE_INTEGER_UNSIGNED=3,a.Image.BYTE_TYPE_FLOAT=4,a.Image.BYTE_TYPE_COMPLEX=5,a.Image.BYTE_TYPE_RGB=6,a.Image.getSingleValueSafely=function(e,t){return e&&e.value?e.value[t]:null},a.Image.getValueSafely=function(e){return e?e.value:null},a.Image.getMajorAxisFromPatientRelativeDirectionCosine=function(e,t,i){var n,r,s,o,l,u;return n=e<0?"R":"L",r=t<0?"A":"P",s=i<0?"F":"H",o=Math.abs(e),l=Math.abs(t),u=Math.abs(i),o>a.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&o>l&&o>u?n:l>a.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&l>o&&l>u?r:u>a.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&u>o&&u>l?s:null},a.Image.prototype.getCols=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_COLS[0],a.Tag.TAG_COLS[1]),0)},a.Image.prototype.getRows=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_ROWS[0],a.Tag.TAG_ROWS[1]),0)},a.Image.prototype.getSeriesDescription=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SERIES_DESCRIPTION[0],a.Tag.TAG_SERIES_DESCRIPTION[1]),0)},a.Image.prototype.getSeriesInstanceUID=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SERIES_INSTANCE_UID[0],a.Tag.TAG_SERIES_INSTANCE_UID[1]),0)},a.Image.prototype.getSeriesNumber=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SERIES_NUMBER[0],a.Tag.TAG_SERIES_NUMBER[1]),0)},a.Image.prototype.getEchoNumber=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_ECHO_NUMBER[0],a.Tag.TAG_ECHO_NUMBER[1]),0)},a.Image.prototype.getImagePosition=function(){return a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_POSITION[0],a.Tag.TAG_IMAGE_POSITION[1]))},a.Image.prototype.getImageDirections=function(){return a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_ORIENTATION[0],a.Tag.TAG_IMAGE_ORIENTATION[1]))},a.Image.prototype.getImagePositionSliceDir=function(e){var t=a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_POSITION[0],a.Tag.TAG_IMAGE_POSITION[1]));return t&&e>=0?t[e]:0},a.Image.prototype.getSliceLocation=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SLICE_LOCATION[0],a.Tag.TAG_SLICE_LOCATION[1]),0)},a.Image.prototype.getSliceLocationVector=function(){return a.Image.getValueSafely(this.getTag(a.Tag.TAG_SLICE_LOCATION_VECTOR[0],a.Tag.TAG_SLICE_LOCATION_VECTOR[1]))},a.Image.prototype.getImageNumber=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_IMAGE_NUM[0],a.Tag.TAG_IMAGE_NUM[1]),0)},a.Image.prototype.getTemporalPosition=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_TEMPORAL_POSITION[0],a.Tag.TAG_TEMPORAL_POSITION[1]),0)},a.Image.prototype.getTemporalNumber=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[0],a.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[1]),0)},a.Image.prototype.getSliceGap=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SLICE_GAP[0],a.Tag.TAG_SLICE_GAP[1]),0)},a.Image.prototype.getSliceThickness=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SLICE_THICKNESS[0],a.Tag.TAG_SLICE_THICKNESS[1]),0)},a.Image.prototype.getImageMax=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_IMAGE_MAX[0],a.Tag.TAG_IMAGE_MAX[1]),0)},a.Image.prototype.getImageMin=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_IMAGE_MIN[0],a.Tag.TAG_IMAGE_MIN[1]),0)},a.Image.prototype.getDataScaleSlope=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_DATA_SCALE_SLOPE[0],a.Tag.TAG_DATA_SCALE_SLOPE[1]),0)},a.Image.prototype.getDataScaleIntercept=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_DATA_SCALE_INTERCEPT[0],a.Tag.TAG_DATA_SCALE_INTERCEPT[1]),0)},a.Image.prototype.getDataScaleElscint=function(){var e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_DATA_SCALE_ELSCINT[0],a.Tag.TAG_DATA_SCALE_ELSCINT[1]),0);e||(e=1);var t=this.getPixelBandwidth();return(e=Math.sqrt(t)/(10*e))<=0&&(e=1),e},a.Image.prototype.getWindowWidth=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_WINDOW_WIDTH[0],a.Tag.TAG_WINDOW_WIDTH[1]),0)},a.Image.prototype.getWindowCenter=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_WINDOW_CENTER[0],a.Tag.TAG_WINDOW_CENTER[1]),0)},a.Image.prototype.getPixelBandwidth=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PIXEL_BANDWIDTH[0],a.Tag.TAG_PIXEL_BANDWIDTH[1]),0)},a.Image.prototype.getSeriesId=function(){var e=this.getSeriesDescription(),t=this.getSeriesInstanceUID(),i=this.getSeriesNumber(),a=this.getEchoNumber(),n=this.getOrientation(),r=this.getCols(),s=this.getRows(),o="";return null!==e&&(o+=" "+e),null!==t&&(o+=" "+t),null!==i&&(o+=" "+i),null!==a&&(o+=" "+a),null!==n&&(o+=" "+n),o+=" ("+r+" x "+s+")"},a.Image.prototype.getPixelSpacing=function(){return a.Image.getValueSafely(this.getTag(a.Tag.TAG_PIXEL_SPACING[0],a.Tag.TAG_PIXEL_SPACING[1]))},a.Image.prototype.getImageType=function(){return a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_TYPE[0],a.Tag.TAG_IMAGE_TYPE[1]))},a.Image.prototype.getBitsStored=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_BITS_STORED[0],a.Tag.TAG_BITS_STORED[1]),0)},a.Image.prototype.getBitsAllocated=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_BITS_ALLOCATED[0],a.Tag.TAG_BITS_ALLOCATED[1]),0)},a.Image.prototype.getFrameTime=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_FRAME_TIME[0],a.Tag.TAG_FRAME_TIME[1]),0)},a.Image.prototype.getAcquisitionMatrix=function(){var e,t,i,n;return e=[0,0],e[0]=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_ACQUISITION_MATRIX[0],a.Tag.TAG_ACQUISITION_MATRIX[1]),0),null===this.privateDataAll&&(this.privateDataAll=this.getAllInterpretedPrivateData()),null!==this.privateDataAll&&this.privateDataAll.length>0&&-1!==(i=this.privateDataAll.indexOf("AcquisitionMatrixText"))&&-1!==(n=this.privateDataAll.indexOf("\n",i))&&(null!==(t=this.privateDataAll.substring(i,n).match(/\d+/g))&&2===t.length?(e[0]=t[0],e[1]=t[1]):null!==t&&1===t.length&&(e[0]=t[0])),0===e[1]&&(e[1]=e[0]),e},a.Image.prototype.getTR=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_TR,a.Tag.TAG_TR[1]),0)},a.Image.prototype.putTag=function(e){this.tags[e.id]=e,this.putFlattenedTag(this.tagsFlat,e)},a.Image.prototype.putFlattenedTag=function(e,t){var i;if(t.sublist)for(i=0;i<t.value.length;i+=1)this.putFlattenedTag(e,t.value[i]);else e[t.id]||(e[t.id]=t)},a.Image.prototype.getTag=function(e,t){var i=a.Tag.createId(e,t);return this.tags[i]?this.tags[i]:this.tagsFlat[i]},a.Image.prototype.getPixelData=function(){return this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])]},a.Image.prototype.getPixelDataBytes=function(){return this.isCompressed()&&this.decompress(),this.isPalette()&&this.convertPalette(),this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value.buffer},a.Image.prototype.getRawData=function(){return this.getPixelDataBytes()},a.Image.prototype.getInterpretedData=function(e,t){var i,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_;for(u=a.Utils.createBitMask(this.getBitsAllocated()/8,this.getBitsStored(),this.getDataType()===a.Image.BYTE_TYPE_INTEGER_UNSIGNED),i=this.getDataType(),n=this.getBitsAllocated()/8,_=this.getRawData(),s=new DataView(_),r=_.byteLength/n,c=this.getDataScaleSlope()||1,h=this.getDataScaleIntercept()||0,f=a.Utils.MAX_VALUE,d=a.Utils.MIN_VALUE,m=-1,S=-1,g=this.littleEndian,o=e?[]:new Float32Array(r),l=0;l<r;l+=1)i===a.Image.BYTE_TYPE_INTEGER?1===n?T=s.getInt8(l*n):2===n&&(T=s.getInt16(l*n,g)):i===a.Image.BYTE_TYPE_INTEGER_UNSIGNED&&(1===n?T=s.getUint8(l*n):2===n&&(T=s.getUint16(l*n,g))),p=(T&u)*c+h,o[l]=p,p<f&&(f=p,m=l),p>d&&(d=p,S=l);return t?{data:o,min:f,minIndex:m,max:d,maxIndex:S,numCols:this.getCols(),numRows:this.getRows()}:o},a.Image.prototype.convertPalette=function(){var e,t,i,n,r,s,o,l,u,c,h,f;if(e=this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value,t=this.getPalleteValues(a.Tag.TAG_PALETTE_RED),i=this.getPalleteValues(a.Tag.TAG_PALETTE_GREEN),n=this.getPalleteValues(a.Tag.TAG_PALETTE_BLUE),null!==t&&t.length>0&&null!==i&&i.length>0&&null!==n&&n.length>0&&!this.convertedPalette){if(r=new DataView(new ArrayBuffer(this.getRows()*this.getCols()*this.getNumberOfFrames()*3)),s=parseInt(Math.ceil(this.getBitsAllocated()/8)),o=e.byteLength/s,1===s)for(l=0;l<o;l+=1)c=t[u=e.getUint8(l)],h=i[u],f=n[u],r.setUint8(3*l,c),r.setUint8(3*l+1,h),r.setUint8(3*l+2,f);else if(2===s)for(l=0;l<o;l+=1)c=t[u=e.getUint16(2*l)],h=i[u],f=n[u],r.setUint8(3*l,c),r.setUint8(3*l+1,h),r.setUint8(3*l+2,f);e=r,this.convertedPalette=!0}this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=e},a.Image.prototype.decompress=function(){var e,t,i,o,l,u,c,h,f,d,p,m;if(o=null,!this.decompressed)if(this.decompressed=!0,u=this.getRows()*this.getCols()*parseInt(Math.ceil(this.getBitsAllocated()/8)),l=this.getNumberOfFrames(),this.isCompressedJPEGLossless()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)c=(i=new n.lossless.Decoder).decode(e[h]),p=i.numComp,null===o&&(o=new DataView(new ArrayBuffer(u*l*p))),new Uint8Array(o.buffer).set(new Uint8Array(c.buffer),h*u*p),c=null;this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=o}else if(this.isCompressedJPEGBaseline()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)(i=new r).parse(new Uint8Array(e[h])),f=i.width,d=i.height,p=i.components.length,null===o&&(o=new DataView(new ArrayBuffer(u*l*p))),8===this.getBitsAllocated()?m=i.getData(f,d):16===this.getBitsAllocated()&&(m=i.getData16(f,d)),a.Utils.fillBuffer(m,o,h*u*p,parseInt(Math.ceil(this.getBitsAllocated()/8))),m=null;this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=o}else if(this.isCompressedJPEG2000()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)(i=new s).parse(new Uint8Array(e[h])),f=i.width,d=i.height,m=i.tiles[0].items,p=i.componentsCount,null===o&&(o=new DataView(new ArrayBuffer(u*l*p))),a.Utils.fillBuffer(m,o,h*u*p,parseInt(Math.ceil(this.getBitsAllocated()/8))),m=null;this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=o}else if(this.isCompressedRLE()){for(t=this.getRLE(),h=0;h<t.length;h+=1)c=(i=new a.RLE).decode(t[h],this.littleEndian,this.getRows()*this.getCols()),p=3===i.numSegments?3:1,null===o&&(o=new DataView(new ArrayBuffer(u*l*p))),new Uint8Array(o.buffer).set(new Uint8Array(c.buffer),h*u*p),c=null;this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=o}},a.Image.prototype.hasPixelData=function(){return void 0!==this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])]},a.Image.prototype.clearPixelData=function(){this.tags[a.Tag.createId(a.Tag.TAG_PIXEL_DATA[0],a.Tag.TAG_PIXEL_DATA[1])].value=null},a.Image.prototype.getOrientation=function(){var e,t,i,n=null,r=a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_ORIENTATION[0],a.Tag.TAG_IMAGE_ORIENTATION[1])),s=0,o=0,l=0,u="";if(!r||6!==r.length)return null;if(!(t=this.getPixelSpacing()))return null;for(i=t[0],!0,e=0;e<3;e+=1)Math.abs(r[e])>l&&(l=Math.abs(r[e]),s=e);for(l=0;e<6;e+=1)Math.abs(r[e])>l&&(l=Math.abs(r[e]),o=e);switch(s){case 0:u+="X",u+=4===o?"YZ":"ZY";break;case 1:u+="Y",u+=3===o?"XZ":"ZX";break;case 2:u+="Z",u+=3===o?"XY":"YX"}switch(s){case 0:r[s]>0?u+="-":u+="+",4===o?r[o]>0?u+="-":u+="+":r[o]>0?u+="+":u+="-";break;case 1:r[s]>0?u+="-":u+="+",3===o?r[o]>0?u+="-":u+="+":r[o]>0?u+="+":u+="-";break;case 2:r[s]>0?u+="+":u+="-",r[o]>0?u+="-":u+="+"}if(0===i)n=u+="+";else{switch(u.charAt(2)){case"X":u+=i>0?"-":"+";break;case"Y":case"Z":u+=i>0?"+":"-"}n=u}return n},a.Image.prototype.isMosaic=function(){var e,t,i,a,n=!1;if(null!==(e=this.getImageType()))for(i=0;i<e.length;i+=1)if(-1!==e[i].toUpperCase().indexOf("MOSAIC")){n=!0;break}return a=this.getAcquisitionMatrix(),t=a[0]>0&&(a[0]<this.getRows()||a[1]<this.getCols()),n&&t},a.Image.prototype.isPalette=function(){var e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],a.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0);return null!==e&&-1!==e.toLowerCase().indexOf("palette")},a.Image.prototype.getMosaicCols=function(){return this.getCols()/this.getAcquisitionMatrix()[1]},a.Image.prototype.getMosaicRows=function(){return this.getRows()/this.getAcquisitionMatrix()[0]},a.Image.prototype.isElscint=function(){return void 0!==this.getTag(a.Tag.TAG_DATA_SCALE_ELSCINT[0],a.Tag.TAG_DATA_SCALE_ELSCINT[1])},a.Image.prototype.isCompressed=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();if(t){if(-1!==t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG))return!0;if(-1!==t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE))return!0}return!1},a.Image.prototype.isCompressedJPEG=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();return!(!t||-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG))},a.Image.prototype.isCompressedJPEGLossless=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();return!(!t||-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS)&&-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1))},a.Image.prototype.isCompressedJPEGBaseline=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();return!(!t||-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT)&&-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT))},a.Image.prototype.isCompressedJPEG2000=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();return!(!t||-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000)&&-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS))},a.Image.prototype.isCompressedRLE=function(){a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null);var t=this.getTransferSyntax();return!(!t||-1===t.indexOf(a.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE))},a.Image.prototype.getNumberOfFrames=function(){var e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_NUMBER_OF_FRAMES[0],a.Tag.TAG_NUMBER_OF_FRAMES[1]),0);return null!==e?e:1},a.Image.prototype.getNumberOfSamplesPerPixel=function(){var e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SAMPLES_PER_PIXEL[0],a.Tag.TAG_SAMPLES_PER_PIXEL[1]),0);return null!==e?e:1},a.Image.prototype.getNumberOfImplicitFrames=function(){var e,t,i;return this.isCompressed()?1:(e=this.getPixelData(),t=e.offsetEnd-e.offsetValue,i=this.getCols()*this.getRows()*parseInt(this.getBitsAllocated()/8),parseInt(t/i))},a.Image.prototype.getPixelRepresentation=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PIXEL_REPRESENTATION[0],a.Tag.TAG_PIXEL_REPRESENTATION[1]),0)},a.Image.prototype.getPhotometricInterpretation=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],a.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0)},a.Image.prototype.getPatientName=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PATIENT_NAME[0],a.Tag.TAG_PATIENT_NAME[1]),0)},a.Image.prototype.getPatientID=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PATIENT_ID[0],a.Tag.TAG_PATIENT_ID[1]),0)},a.Image.prototype.getStudyTime=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_STUDY_TIME[0],a.Tag.TAG_STUDY_TIME[1]),0)},a.Image.prototype.getTransferSyntax=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_TRANSFER_SYNTAX[0],a.Tag.TAG_TRANSFER_SYNTAX[1]),0)},a.Image.prototype.getStudyDate=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_STUDY_DATE[0],a.Tag.TAG_STUDY_DATE[1]),0)},a.Image.prototype.getPlanarConfig=function(){return a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_PLANAR_CONFIG[0],a.Tag.TAG_PLANAR_CONFIG[1]),0)},a.Image.prototype.getImageDescription=function(){var e,t="";return null!==(e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_STUDY_DES[0],a.Tag.TAG_STUDY_DES[1]),0))&&(t+=" "+e),null!==(e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_SERIES_DESCRIPTION[0],a.Tag.TAG_SERIES_DESCRIPTION[1]),0))&&(t+=" "+e),null!==(e=a.Image.getSingleValueSafely(this.getTag(a.Tag.TAG_IMAGE_COMMENTS[0],a.Tag.TAG_IMAGE_COMMENTS[1]),0))&&(t+=" "+e),t.trim()},a.Image.prototype.getDataType=function(){var e,t;return null===(t=this.getPixelRepresentation())?a.Image.BYTE_TYPE_UNKNOWN:null===(e=this.getPhotometricInterpretation())||-1===e.trim().indexOf("RGB")&&-1===e.trim().indexOf("YBR")&&-1===e.trim().toLowerCase().indexOf("palette")?0===t?a.Image.BYTE_TYPE_INTEGER_UNSIGNED:1===t?a.Image.BYTE_TYPE_INTEGER:a.Image.BYTE_TYPE_UNKNOWN:a.Image.BYTE_TYPE_RGB},a.Image.prototype.getAcquiredSliceDirection=function(){var e,t,i,n;return(e=a.Image.getValueSafely(this.getTag(a.Tag.TAG_IMAGE_ORIENTATION[0],a.Tag.TAG_IMAGE_ORIENTATION[1])))&&6===e.length?(t=a.Image.getMajorAxisFromPatientRelativeDirectionCosine(e[0],e[1],e[2]),i=a.Image.getMajorAxisFromPatientRelativeDirectionCosine(e[3],e[4],e[5]),null!==t&&null!==i?("R"!==t&&"L"!==t||"A"!==i&&"P"!==i)&&("R"!==i&&"L"!==i||"A"!==t&&"P"!==t)?("R"!==t&&"L"!==t||"H"!==i&&"F"!==i)&&("R"!==i&&"L"!==i||"H"!==t&&"F"!==t)?"A"!==t&&"P"!==t||"H"!==i&&"F"!==i?"A"!==i&&"P"!==i||"H"!==t&&"F"!==t||(n=a.Image.SLICE_DIRECTION_SAGITTAL):n=a.Image.SLICE_DIRECTION_SAGITTAL:n=a.Image.SLICE_DIRECTION_CORONAL:n=a.Image.SLICE_DIRECTION_AXIAL:n=a.Image.SLICE_DIRECTION_OBLIQUE,n):a.Image.SLICE_DIRECTION_UNKNOWN},a.Image.prototype.getEncapsulatedData=function(){var t;return a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null),t=this.getPixelData().value.buffer,(new a.Parser).parseEncapsulated(new DataView(t))},a.Image.prototype.getJpegs=function(){var e,t,i,n,r=[],s=[];if(e=this.getEncapsulatedData())for(t=e.length,i=0;i<t;i+=1)a.CompressionUtils.isHeaderJPEG(e[i].value)||a.CompressionUtils.isHeaderJPEG2000(e[i].value)?((n=[]).push(e[i].value.buffer),r.push(n)):n&&e[i].value&&n.push(e[i].value.buffer);for(i=0;i<r.length;i+=1)r[i].length>1?s[i]=a.Utils.concatArrayBuffers2(r[i]):s[i]=r[i][0],r[i]=null;return s},a.Image.prototype.getRLE=function(){var e,t,i,a=[];if(e=this.getEncapsulatedData())for(t=e.length,i=1;i<t;i+=1)e[i].value&&a.push(e[i].value.buffer);return a},a.Image.prototype.getAllInterpretedPrivateData=function(){var e,t,i,a="",n=Object.keys(this.tags).sort();for(e=0;e<n.length;e+=1)t=n[e],this.tags.hasOwnProperty(t)&&(i=this.tags[t]).hasInterpretedPrivateData()&&(a+=i.value);return a},a.Image.prototype.toString=function(){var e,t,i="",a=Object.keys(this.tags).sort();for(e=0;e<a.length;e+=1)t=a[e],this.tags.hasOwnProperty(t)&&(i+=this.tags[t].toHTMLString()+"<br />");return i=i.replace(/\n\s*\n/g,"\n"),i=i.replace(/(?:\r\n|\r|\n)/g,"<br />")},a.Image.prototype.getPalleteValues=function(e){var t,i,n,r,s,o,l,u,c,h,f;if(t=null,i=null,null!==(n=a.Image.getValueSafely(this.getTag(e[0],e[1])))){for(r=n.buffer.byteLength/2,t=[],i=[],s=0;s<r;s+=1)t[s]=65535&n.getUint16(2*s,!1),i[s]=65535&n.getUint16(2*s,!0);return o=Math.max.apply(Math,t),l=Math.min.apply(Math,t),u=Math.max.apply(Math,i),c=Math.min.apply(Math,i),h=Math.abs(o-l),f=Math.abs(u-c),h<f?this.scalePalette(t):this.scalePalette(i)}return null},a.Image.prototype.scalePalette=function(e){var t,i,a,n,r;if(i=Math.max.apply(Math,e),t=Math.min.apply(Math,e),i>255||t<0)for(n=255/(i-t),r=t,a=0;a<e.length;a+=1)e[a]=parseInt(Math.round((e[a]-r)*n));return e},"undefined"!==typeof t&&t.exports&&(t.exports=a.Image)},{"../lib/jpeg-baseline.js":1,"../lib/jpx.js":2,"./compression-utils.js":29,"./parser.js":35,"./rle.js":36,"./tag.js":39,"./utilities.js":40,"jpeg-lossless-decoder-js":8}],32:[function(e,t,i){"use strict";var a=a||{};a.OrderedMapIterator=a.OrderedMapIterator||function(e){this.orderedMap=e,this.index=0},a.OrderedMapIterator.prototype.hasNext=function(){return this.index<this.orderedMap.orderedKeys.length},a.OrderedMapIterator.prototype.next=function(){var e=this.orderedMap.get(this.orderedMap.orderedKeys[this.index]);return this.index+=1,e},"undefined"!==typeof t&&t.exports&&(t.exports=a.OrderedMapIterator)},{}],33:[function(e,t,i){"use strict";var a=a||{};a.CompressionUtils=a.CompressionUtils||(void 0!==e?e("./compression-utils.js"):null),a.Dictionary=a.Dictionary||(void 0!==e?e("./dictionary.js"):null),a.Image=a.Image||(void 0!==e?e("./image.js"):null),a.OrderedMapIterator=a.OrderedMapIterator||(void 0!==e?e("./iterator.js"):null),a.OrderedMap=a.OrderedMap||(void 0!==e?e("./orderedmap.js"):null),a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null),a.RLE=a.RLE||(void 0!==e?e("./rle.js"):null),a.Series=a.Series||(void 0!==e?e("./series.js"):null),a.Tag=a.Tag||(void 0!==e?e("./tag.js"):null),a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Siemens=a.Siemens||(void 0!==e?e("./siemens.js"):null);var n=n||{};n.lossless=n.lossless||{},n.lossless.Decoder=void 0!==e?e("jpeg-lossless-decoder-js"):null;var r=r||(void 0!==e?e("../lib/jpeg-baseline.js").JpegImage:null),s=s||(void 0!==e?e("../lib/jpx.js"):null),o=o||(void 0!==e?e("pako"):null);"undefined"!==typeof t&&t.exports&&(t.exports=a)},{"../lib/jpeg-baseline.js":1,"../lib/jpx.js":2,"./compression-utils.js":29,"./dictionary.js":30,"./image.js":31,"./iterator.js":32,"./orderedmap.js":34,"./parser.js":35,"./rle.js":36,"./series.js":37,"./siemens.js":38,"./tag.js":39,"./utilities.js":40,"jpeg-lossless-decoder-js":8,pako:13}],34:[function(e,t,i){"use strict";var a=a||{};a.OrderedMapIterator=a.OrderedMapIterator||(void 0!==e?e("./iterator.js"):null),a.OrderedMap=a.OrderedMap||function(){this.map={},this.orderedKeys=[]},a.OrderedMap.prototype.put=function(e,t){e in this.map?this.map[e]=t:(this.orderedKeys.push(e),this.orderedKeys.sort(function(e,t){return parseFloat(e)-parseFloat(t)}),this.map[e]=t)},a.OrderedMap.prototype.remove=function(e){var t=this.orderedKeys.indexOf(e);if(-1===t)throw new Error("key does not exist");this.orderedKeys.splice(t,1),delete this.map[e]},a.OrderedMap.prototype.get=function(e){return e in this.map?this.map[e]:null},a.OrderedMap.prototype.iterator=function(){return new a.OrderedMapIterator(this)},a.OrderedMap.prototype.getOrderedValues=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e},"undefined"!==typeof t&&t.exports&&(t.exports=a.OrderedMap)},{"./iterator.js":32}],35:[function(e,t,i){"use strict";var a=a||{};a.Tag=a.Tag||(void 0!==e?e("./tag.js"):null),a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Dictionary=a.Dictionary||(void 0!==e?e("./dictionary.js"):null),a.Image=a.Image||(void 0!==e?e("./image.js"):null);var n=n||(void 0!==e?e("pako"):null);a.Parser=a.Parser||function(){this.littleEndian=!0,this.explicit=!0,this.metaFound=!1,this.metaFinished=!1,this.metaFinishedOffset=-1,this.needsDeflate=!1,this.error=null},a.Parser.verbose=!1,a.Parser.MAGIC_COOKIE_OFFSET=128,a.Parser.MAGIC_COOKIE=[68,73,67,77],a.Parser.VRS=["AE","AS","AT","CS","DA","DS","DT","FL","FD","IS","LO","LT","OB","OD","OF","OW","PN","SH","SL","SS","ST","TM","UI","UL","UN","US","UT"],a.Parser.DATA_VRS=["OB","OW","OF","SQ","UT","UN"],a.Parser.RAW_DATA_VRS=["OB","OD","OF","OW","UN"],a.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE="1.2.840.10008.1.2",a.Parser.TRANSFER_SYNTAX_EXPLICIT_LITTLE="1.2.840.10008.1.2.1",a.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG="1.2.840.10008.1.2.2",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG="1.2.840.10008.1.2.4",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS="1.2.840.10008.1.2.4.57",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1="1.2.840.10008.1.2.4.70",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT="1.2.840.10008.1.2.4.50",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT="1.2.840.10008.1.2.4.51",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS="1.2.840.10008.1.2.4.90",a.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000="1.2.840.10008.1.2.4.91",a.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE="1.2.840.10008.1.2.5",a.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE="1.2.840.10008.1.2.1.99",a.Parser.UNDEFINED_LENGTH=4294967295,a.Parser.isMagicCookieFound=function(e){var t,i=a.Parser.MAGIC_COOKIE_OFFSET,n=a.Parser.MAGIC_COOKIE.length;for(t=0;t<n;t+=1)if(e.getUint8(i+t)!==a.Parser.MAGIC_COOKIE[t])return!1;return!0},a.Parser.prototype.parse=function(e){var t,i,r,s,o=null;try{for(o=new a.Image,t=this.findFirstTagOffset(e),i=this.getNextTag(e,t);null!==i&&(a.Parser.verbose&&console.log(i.toString()),o.putTag(i),!i.isPixelData());)this.needsDeflate&&i.offsetEnd>=this.metaFinishedOffset&&(this.needsDeflate=!1,r=e.buffer.slice(0,i.offsetEnd),s=e.buffer.slice(i.offsetEnd),e=new DataView(a.Utils.concatArrayBuffers(r,n.inflateRaw(s)))),i=this.getNextTag(e,i.offsetEnd)}catch(e){this.error=e}return null!==o&&(o.littleEndian=this.littleEndian),o},a.Parser.prototype.parseEncapsulated=function(e){var t,i=[];try{for(t=this.getNextTag(e,0);null!==t;)t.isSublistItem()&&i.push(t),a.Parser.verbose&&console.log(t.toString()),t=this.getNextTag(e,t.offsetEnd)}catch(e){this.error=e}return i},a.Parser.prototype.testForValidTag=function(e){var t,i=null;try{t=this.findFirstTagOffset(e),i=this.getNextTag(e,t,!0)}catch(e){this.error=e}return i},a.Parser.prototype.getNextTag=function(e,t,i){var n,r,s,o=0,l=null,u=t,c=0,h=!0,f=null;return t>=e.byteLength?null:(this.metaFinished?(h=this.littleEndian,o=e.getUint16(t,h)):(o=e.getUint16(t,!0),-1!==this.metaFinishedOffset&&t>=this.metaFinishedOffset||2!==o?(this.metaFinished=!0,h=this.littleEndian,o=e.getUint16(t,h)):h=!0),this.metaFound||2!==o||(this.metaFound=!0),t+=2,n=e.getUint16(t,h),t+=2,this.explicit||!this.metaFinished?(f=a.Utils.getStringAt(e,t,2),!this.metaFound&&this.metaFinished&&-1===a.Parser.VRS.indexOf(f)?(f=a.Dictionary.getVR(o,n),c=e.getUint32(t,h),t+=4,this.explicit=!1):(t+=2,-1!==a.Parser.DATA_VRS.indexOf(f)?(t+=2,c=e.getUint32(t,h),t+=4):(c=e.getUint16(t,h),t+=2))):(f=a.Dictionary.getVR(o,n),(c=e.getUint32(t,h))===a.Parser.UNDEFINED_LENGTH&&(f="SQ"),t+=4),r=t,"SQ"===f?(l=this.parseSublist(e,t,c),c===a.Parser.UNDEFINED_LENGTH&&(c=l[l.length-1].offsetEnd-t)):c>0&&!i&&(c===a.Parser.UNDEFINED_LENGTH&&o===a.Tag.TAG_PIXEL_DATA[0]&&n===a.Tag.TAG_PIXEL_DATA[1]&&(c=e.byteLength-t),l=e.buffer.slice(t,t+c)),t+=c,(s=new a.Tag(o,n,f,l,u,r,t,this.littleEndian)).isTransformSyntax()?s.value[0]===a.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE?(this.explicit=!1,this.littleEndian=!0):s.value[0]===a.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG?(this.explicit=!0,this.littleEndian=!1):s.value[0]===a.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE?(this.needsDeflate=!0,this.explicit=!0,this.littleEndian=!0):(this.explicit=!0,this.littleEndian=!0):s.isMetaLength()&&(this.metaFinishedOffset=s.value[0]+t),s)},a.Parser.prototype.parseSublist=function(e,t,i){var n,r=t+i,s=[];if(i===a.Parser.UNDEFINED_LENGTH){for(n=this.parseSublistItem(e,t);!n.isSequenceDelim();)s.push(n),t=n.offsetEnd,n=this.parseSublistItem(e,t);s.push(n)}else for(;t<r;)n=this.parseSublistItem(e,t),s.push(n),t=n.offsetEnd;return s},a.Parser.prototype.parseSublistItem=function(e,t){var i,n,r,s,o,l,u=t,c=[];if(i=e.getUint16(t,this.littleEndian),t+=2,n=e.getUint16(t,this.littleEndian),t+=2,r=e.getUint32(t,this.littleEndian),t+=4,l=t,r===a.Parser.UNDEFINED_LENGTH){for(o=this.getNextTag(e,t);!o.isSublistItemDelim();)c.push(o),t=o.offsetEnd,o=this.getNextTag(e,t);c.push(o),t=o.offsetEnd}else for(s=t+r;t<s;)o=this.getNextTag(e,t),c.push(o),t=o.offsetEnd;return new a.Tag(i,n,null,c,u,l,t,this.littleEndian)},a.Parser.prototype.findFirstTagOffset=function(e){var t=0,i=a.Parser.MAGIC_COOKIE.length,n=2*a.Parser.MAGIC_COOKIE_OFFSET,r=!1,s=0,o=0;if(a.Parser.isMagicCookieFound(e))t=a.Parser.MAGIC_COOKIE_OFFSET+i;else for(s=0;s<n;s+=1)if(e.getUint8(t)===a.Parser.MAGIC_COOKIE[0]){for(r=!0,o=1;o<i;o+=1)e.getUint8(s+o)!==a.Parser.MAGIC_COOKIE[o]&&(r=!1);if(r){t=s;break}}return t},a.Parser.prototype.hasError=function(){return null!==this.error},"undefined"!==typeof t&&t.exports&&(t.exports=a.Parser)},{"./dictionary.js":30,"./image.js":31,"./tag.js":39,"./utilities.js":40,pako:13}],36:[function(e,t,i){"use strict";var a=a||{};a.RLE=a.RLE||function(){this.rawData=null,this.bytesRead=0,this.bytesPut=0,this.segElemPut=0,this.numSegments=0,this.segmentOffsets=[],this.littleEndian=!0,this.segmentIndex=0,this.numElements=0,this.size=0,this.output=null},a.RLE.HEADER_SIZE=64,a.RLE.prototype.decode=function(e,t,i){var a;for(this.rawData=new DataView(e),this.littleEndian=t,this.numElements=i,this.readHeader(),this.output=new DataView(new ArrayBuffer(this.size)),a=0;a<this.numSegments;a+=1)this.readNextSegment();return this.processData()},a.RLE.prototype.processData=function(){var e,t,i,a;if(1===this.numSegments)return this.output;if(2===this.numSegments){for(i=new DataView(new ArrayBuffer(this.size)),e=0;e<this.numElements;e+=1)t=(255&this.output.getInt8(e))<<8|255&this.output.getInt8(e+this.numElements),i.setInt16(2*e,t,this.littleEndian);return i}if(3===this.numSegments){for(i=new DataView(new ArrayBuffer(this.size)),a=2*this.numElements,e=0;e<this.numElements;e+=1)i.setInt8(3*e,this.output.getInt8(e)),i.setInt8(3*e+1,this.output.getInt8(e+this.numElements)),i.setInt8(3*e+2,this.output.getInt8(e+a));return i}throw new Error("RLE data with "+this.numSegments+" segments is not supported!")},a.RLE.prototype.readHeader=function(){var e;for(this.numSegments=this.getInt32(),this.size=this.numElements*this.numSegments,e=0;e<this.numSegments;e+=1)this.segmentOffsets[e]=this.getInt32();this.bytesRead=a.RLE.HEADER_SIZE},a.RLE.prototype.hasValidInput=function(){return this.bytesRead<this.rawData.buffer.byteLength&&this.bytesPut<this.size&&this.segElemPut<this.numElements},a.RLE.prototype.readNextSegment=function(){var e;for(this.bytesRead=this.segmentOffsets[this.segmentIndex],this.segElemPut=0;this.hasValidInput();)(e=this.get())>=0&&e<128?this.readLiteral(e):e<=-1&&e>-128?this.readEncoded(e):-128===e&&console.warn("RLE: unsupported code!");this.segmentIndex+=1},a.RLE.prototype.readLiteral=function(e){var t,i=e+1;if(this.hasValidInput())for(t=0;t<i;t+=1)this.put(this.get());else console.warn("RLE: insufficient data!")},a.RLE.prototype.readEncoded=function(e){var t,i=1-e,a=this.get();for(t=0;t<i;t+=1)this.put(a)},a.RLE.prototype.getInt32=function(){var e=this.rawData.getInt32(this.bytesRead,this.littleEndian);return this.bytesRead+=4,e},a.RLE.prototype.getInt16=function(){var e=this.rawData.getInt16(this.bytesRead,this.littleEndian);return this.bytesRead+=2,e},a.RLE.prototype.get=function(){var e=this.rawData.getInt8(this.bytesRead);return this.bytesRead+=1,e},a.RLE.prototype.put=function(e){this.output.setInt8(this.bytesPut,e),this.bytesPut+=1,this.segElemPut+=1},"undefined"!==typeof t&&t.exports&&(t.exports=a.RLE)},{}],37:[function(e,t,i){"use strict";var a=a||{};a.Parser=a.Parser||(void 0!==e?e("./parser.js"):null),a.Image=a.Image||(void 0!==e?e("./image.js"):null),a.OrderedMap=a.OrderedMap||(void 0!==e?e("./orderedmap.js"):null),a.OrderedMapIterator=a.OrderedMapIterator||(void 0!==e?e("./iterator.js"):null),a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Series=a.Series||function(){this.images=[],this.imagesOriginalOrder=null,this.isMosaic=!1,this.isElscint=!1,this.isCompressed=!1,this.numberOfFrames=0,this.numberOfFramesInFile=0,this.isMultiFrame=!1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.sliceSense=!1,this.sliceDir=a.Image.SLICE_DIRECTION_UNKNOWN,this.error=null},a.Series.parserError=null,a.Series.parseImage=function(e){var t,i;return t=new a.Parser,i=t.parse(e),t.hasError()?(a.Series.parserError=t.error,null):i},a.Series.getMosaicOffset=function(e,t,i,a,n,r,s){var o,l,u;return o=n,l=r,u=s,o=u%e*t+o,l=(parseInt(u/e)*i+l)*a,o+l},a.Series.orderDicoms=function(e,t,i){var n,r,s,o,l,u,c,h,f,d;for(n=null!==e[0].getImagePosition(),r=null!==e[0].getSliceLocation(),s=null!==e[0].getImageNumber(),l=(o=a.Series.orderByTime(e,t,i,n,r)).orderedKeys,d=[],u=0;u<l.length;u+=1)for(h=o.get(l[u]),f=n?a.Series.orderByImagePosition(h,i):r?a.Series.orderBySliceLocation(h):s?a.Series.orderByImageNumber(h):h,c=0;c<f.length;c+=1)d.push(f[c]);for(c=0;c<d.length;c+=1)d[c].index=c;return d},a.Series.orderByImagePosition=function(e,t){var i,n;for(i=new a.OrderedMap,n=0;n<e.length;n+=1)i.put(e[n].getImagePositionSliceDir(t),e[n]);return i.getOrderedValues()},a.Series.orderBySliceLocation=function(e){var t,i;for(t=new a.OrderedMap,i=0;i<e.length;i+=1)t.put(e[i].getSliceLocation(),e[i]);return t.getOrderedValues()},a.Series.orderByImageNumber=function(e){var t,i;for(t=new a.OrderedMap,i=0;i<e.length;i+=1)t.put(e[i].getImageNumber(),e[i]);return t.getOrderedValues()},a.Series.hasMatchingSlice=function(e,t,i,a,n){var r,s,o=0;for(o=a?t.getImagePositionSliceDir(i):n?t.getSliceLocation():t.getImageNumber(),r=0;r<e.length;r+=1)if(s=e[r],a){if(s.getImagePositionSliceDir(i)===o)return!0}else if(n){if(s.getSliceLocation()===o)return!0}else if(s.getImageNumber()===o)return!0;return!1},a.Series.orderByTime=function(e,t,i,n,r){var s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I;if(s=new a.OrderedMap,o=t>1&&null!==e[0].getTemporalPosition(),l=t>1&&null!==e[0].getTemporalNumber()&&e[0].getTemporalNumber()===t,o&&l)for(u=0;u<e.length;u+=1)h=(c=e[u]).getTemporalPosition(),(f=s.get(h))||(f=[],s.put(h,f)),f.push(c);else{for(d=new a.OrderedMap,u=0;u<e.length;u+=1)null!==e[u]&&(e[u].getImageNumber(),p=u,n?p=e[u].getImagePositionSliceDir(i):r&&(p=e[u].getSliceLocation()),null===(m=d.get(p))&&(m=new a.OrderedMap,d.put(p,m)),m.put(u,e[u]));for(S=[],g=0,T=d.iterator();T.hasNext();)for(_=(m=T.next()).iterator();_.hasNext();)S[g]=_.next(),g+=1;for(u=0;u<S.length;u+=1)if(null!==S[u]){for(y=null,I=s.iterator();I.hasNext();)if(f=I.next(),!a.Series.hasMatchingSlice(f,S[u],i,n,r)){y=f;break}null===y&&(y=[],s.put(s.orderedKeys.length,y)),y.push(S[u])}}return s},a.Series.prototype.getOrder=function(){var e,t=[];for(e=0;e<this.imagesOriginalOrder.length;e+=1)t[e]=this.imagesOriginalOrder[e].index;return t},a.Series.prototype.toString=function(){return this.images[0].getSeriesId()},a.Series.prototype.getName=function(){var e=this.images[0].getSeriesDescription(),t=this.images[0].getSeriesInstanceUID();return null!==e?e:null!==t?t:null},a.Series.prototype.addImage=function(e){this.images.push(e)},a.Series.prototype.matchesSeries=function(e){return 0===this.images.length||this.images[0].getSeriesId()===e.getSeriesId()},a.Series.prototype.buildSeries=function(){var e,t,i,n,r,s,o;if(this.isMosaic=this.images[0].isMosaic(),this.isElscint=this.images[0].isElscint(),this.isCompressed=this.images[0].isCompressed(),this.numberOfFrames=this.images[0].getNumberOfFrames(),this.numberOfFramesInFile=this.images[0].getNumberOfImplicitFrames(),this.isMultiFrame=this.numberOfFrames>1||this.isMosaic&&this.images[0].length>1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.isMultiFrame&&(e=this.images[0].getFrameTime()>0,this.isMosaic?this.isMultiFrameTimeseries=!0:e?this.isMultiFrameTimeseries=!0:this.numberOfFramesInFile>1?(this.isMultiFrameTimeseries=!0,this.numberOfFrames=this.images.length):this.isMultiFrameVolume=!0),!this.isMosaic&&this.numberOfFrames<=1){for(i=(this.images[0].getImagePosition()||[]).toString(),this.numberOfFrames=0,t=0;t<this.images.length;t+=1)(this.images[t].getImagePosition()||[]).toString()===i&&(this.numberOfFrames+=1);this.numberOfFrames>1&&(this.isImplicitTimeseries=!0)}this.sliceDir=this.images[0].getAcquiredSliceDirection(),r=(n=a.Series.orderDicoms(this.images,this.numberOfFrames,this.sliceDir))[0].getImagePositionSliceDir(this.sliceDir),s=n[n.length-1].getImagePositionSliceDir(this.sliceDir)-r,this.isMosaic?this.sliceSense=!0:this.isMultiFrame?null!==(o=n[0].getSliceLocationVector())?"Z"===n[0].getOrientation().charAt(2)?this.sliceSense=o[0]-o[o.length-1]<0:this.sliceSense=o[0]-o[o.length-1]>0:this.sliceSense=!(r<0):this.sliceDir===a.Image.SLICE_DIRECTION_SAGITTAL||this.sliceDir===a.Image.SLICE_DIRECTION_CORONAL?this.sliceSense=!(s>0):this.sliceSense=s>0,this.imagesOriginalOrder=this.images,this.images=n},a.Series.prototype.concatenateImageData=function(e,t){var i,a,n;a=this.isMosaic?this.getMosaicData(this.images[0],this.images[0].getPixelDataBytes()):this.images[0].getPixelDataBytes(),n=this.validatePixelDataLength(this.images[0]),this.images[0].clearPixelData(),(i=new Uint8Array(new ArrayBuffer(n*this.images.length))).set(new Uint8Array(a,0,n),0),setTimeout(this.concatenateNextImageData(i,n,e,1,t),0)},a.Series.prototype.concatenateNextImageData=function(e,t,i,n,r){var s,o;n>=this.images.length?(i&&i.drawProgress(1,"Reading DICOM Images"),r(e.buffer)):(i&&i.drawProgress(n/this.images.length,"Reading DICOM Images"),s=this.isMosaic?this.getMosaicData(this.images[n],this.images[n].getPixelDataBytes()):this.images[n].getPixelDataBytes(),o=this.validatePixelDataLength(this.images[n]),this.images[n].clearPixelData(),e.set(new Uint8Array(s,0,o),t*n),setTimeout(a.Utils.bind(this,function(){this.concatenateNextImageData(e,t,i,n+1,r)}),0))},a.Series.prototype.validatePixelDataLength=function(e){var t=e.getPixelDataBytes().byteLength,i=e.getCols()*e.getRows();return t%i==0?t:i*e.getNumberOfFrames()*e.getNumberOfSamplesPerPixel()*(e.getBitsAllocated()/8)},a.Series.prototype.getMosaicData=function(e,t){var i,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y=0;for(u=parseInt(this.images[0].getBitsAllocated()/8),d=this.images[0].getMosaicCols()*this.images[0].getMosaicRows(),p=parseInt(this.images[0].getRows()/this.images[0].getMosaicRows()),m=parseInt(this.images[0].getCols()/this.images[0].getMosaicCols()),i=this.images[0].getCols(),n=this.images[0].getRows(),r=this.images[0].getMosaicRows(),s=this.images[0].getMosaicCols(),o=parseInt(n/r),l=parseInt(i/s),S=new Uint8Array(new ArrayBuffer(d*p*m*u)),g=new Uint8Array(t),c=0;c<d;c+=1)for(h=0;h<p;h+=1)for(f=0;f<m;f+=1)for(T=a.Series.getMosaicOffset(s,l,o,i,f,h,c),_=0;_<u;_+=1)S[y]=g[T*u+_],y+=1;return S.buffer},"undefined"!==typeof t&&t.exports&&(t.exports=a.Series)},{"./image.js":31,"./iterator.js":32,"./orderedmap.js":34,"./parser.js":35,"./utilities.js":40}],38:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Siemens=a.Siemens||function(e){this.output="",this.data=new DataView(e,0)},a.Siemens.CSA2_MAGIC_NUMBER=[83,86,49,48],a.Siemens.NAME_LENGTH=64,a.Siemens.ELEMENT_CSA1=4112,a.Siemens.ELEMENT_CSA2=4128,a.Siemens.GROUP_CSA=41,a.Siemens.prototype.readHeader=function(){var e,t,i;this.output+="<pre>";try{for(i=!0,t=0;t<a.Siemens.CSA2_MAGIC_NUMBER.length;t+=1)i&=this.data.getUint8(t)===a.Siemens.CSA2_MAGIC_NUMBER[t];e=i?this.readHeaderAtOffset(a.Siemens.CSA2_MAGIC_NUMBER.length+4):this.readHeaderAtOffset(0)}catch(e){console.log(e)}return this.output+="</pre>",e},a.Siemens.prototype.readHeaderAtOffset=function(e){var t,i;if(this.output+="\n",(t=a.Utils.swap32(this.data.getUint32(e)))<1||t>128)return this.output;for(e+=4,e+=4,i=0;i<t&&-1!==(e=this.readTag(e));i+=1);return this.output},a.Siemens.prototype.readTag=function(e){var t,i,n;for(t=this.readString(e,a.Siemens.NAME_LENGTH),e+=a.Siemens.NAME_LENGTH,e+=4,e+=4,e+=4,n=a.Utils.swap32(this.data.getUint32(e)),e+=4,e+=4,this.output+="    "+t+"=",i=0;i<n&&-1!==(e=this.readItem(e));i+=1)e%4!=0&&(e+=4-e%4);return this.output+="\n",e},a.Siemens.prototype.readString=function(e,t){var i,a,n="";for(a=0;a<t&&0!==(i=this.data.getUint8(e+a));a+=1)n+=String.fromCharCode(i);return n},a.Siemens.prototype.readItem=function(e){var t;return t=a.Utils.swap32(this.data.getUint32(e)),e+t>this.data.buffer.length?-1:(e+=16,t>0&&(this.output+=this.readString(e,t)+" "),e+t)},a.Siemens.prototype.canRead=function(e,t){return e===a.Siemens.GROUP_CSA&&(t===a.Siemens.ELEMENT_CSA1||t===a.Siemens.ELEMENT_CSA2)},"undefined"!==typeof t&&t.exports&&(t.exports=a.Siemens)},{"./utilities.js":40}],39:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.Dictionary=a.Dictionary||(void 0!==e?e("./dictionary.js"):null),a.Siemens=a.Siemens||(void 0!==e?e("./siemens.js"):null),a.Tag=a.Tag||function(e,t,i,n,r,s,o,l){if(this.group=e,this.element=t,this.vr=i,this.offsetStart=r,this.offsetValue=s,this.offsetEnd=o,this.sublist=!1,this.id=a.Tag.createId(e,t),n instanceof Array)this.value=n,this.sublist=!0;else if(null!==n){var u=new DataView(n);this.value=a.Tag.convertValue(i,u,l),this.value===u&&this.isPrivateData()&&(this.value=a.Tag.convertPrivateValue(e,t,u))}else this.value=null},a.Tag.PRIVATE_DATA_READERS=[a.Siemens],a.Tag.VR_AE_MAX_LENGTH=16,a.Tag.VR_AS_MAX_LENGTH=4,a.Tag.VR_AT_MAX_LENGTH=4,a.Tag.VR_CS_MAX_LENGTH=16,a.Tag.VR_DA_MAX_LENGTH=8,a.Tag.VR_DS_MAX_LENGTH=16,a.Tag.VR_DT_MAX_LENGTH=26,a.Tag.VR_FL_MAX_LENGTH=4,a.Tag.VR_FD_MAX_LENGTH=8,a.Tag.VR_IS_MAX_LENGTH=12,a.Tag.VR_LO_MAX_LENGTH=64,a.Tag.VR_LT_MAX_LENGTH=10240,a.Tag.VR_OB_MAX_LENGTH=-1,a.Tag.VR_OD_MAX_LENGTH=-1,a.Tag.VR_OF_MAX_LENGTH=-1,a.Tag.VR_OW_MAX_LENGTH=-1,a.Tag.VR_PN_MAX_LENGTH=320,a.Tag.VR_SH_MAX_LENGTH=16,a.Tag.VR_SL_MAX_LENGTH=4,a.Tag.VR_SS_MAX_LENGTH=2,a.Tag.VR_ST_MAX_LENGTH=1024,a.Tag.VR_TM_MAX_LENGTH=16,a.Tag.VR_UI_MAX_LENGTH=64,a.Tag.VR_UL_MAX_LENGTH=4,a.Tag.VR_UN_MAX_LENGTH=-1,a.Tag.VR_US_MAX_LENGTH=2,a.Tag.VR_UT_MAX_LENGTH=-1,a.Tag.TAG_TRANSFER_SYNTAX=[2,16],a.Tag.TAG_META_LENGTH=[2,0],a.Tag.TAG_SUBLIST_ITEM=[65534,57344],a.Tag.TAG_SUBLIST_ITEM_DELIM=[65534,57357],a.Tag.TAG_SUBLIST_SEQ_DELIM=[65534,57565],a.Tag.TAG_ROWS=[40,16],a.Tag.TAG_COLS=[40,17],a.Tag.TAG_ACQUISITION_MATRIX=[24,4880],a.Tag.TAG_NUMBER_OF_FRAMES=[40,8],a.Tag.TAG_NUMBER_TEMPORAL_POSITIONS=[32,261],a.Tag.TAG_PIXEL_SPACING=[40,48],a.Tag.TAG_SLICE_THICKNESS=[24,80],a.Tag.TAG_SLICE_GAP=[24,136],a.Tag.TAG_TR=[24,128],a.Tag.TAG_FRAME_TIME=[24,4195],a.Tag.TAG_BITS_ALLOCATED=[40,256],a.Tag.TAG_BITS_STORED=[40,257],a.Tag.TAG_PIXEL_REPRESENTATION=[40,259],a.Tag.TAG_HIGH_BIT=[40,258],a.Tag.TAG_PHOTOMETRIC_INTERPRETATION=[40,4],a.Tag.TAG_SAMPLES_PER_PIXEL=[40,2],a.Tag.TAG_PLANAR_CONFIG=[40,6],a.Tag.TAG_PALETTE_RED=[40,4609],a.Tag.TAG_PALETTE_GREEN=[40,4610],a.Tag.TAG_PALETTE_BLUE=[40,4611],a.Tag.TAG_DATA_SCALE_SLOPE=[40,4179],a.Tag.TAG_DATA_SCALE_INTERCEPT=[40,4178],a.Tag.TAG_DATA_SCALE_ELSCINT=[519,4127],a.Tag.TAG_PIXEL_BANDWIDTH=[24,149],a.Tag.TAG_IMAGE_MIN=[40,262],a.Tag.TAG_IMAGE_MAX=[40,263],a.Tag.TAG_WINDOW_CENTER=[40,4176],a.Tag.TAG_WINDOW_WIDTH=[40,4177],a.Tag.TAG_PATIENT_NAME=[16,16],a.Tag.TAG_PATIENT_ID=[16,32],a.Tag.TAG_STUDY_DATE=[8,32],a.Tag.TAG_STUDY_TIME=[8,48],a.Tag.TAG_STUDY_DES=[8,4144],a.Tag.TAG_IMAGE_TYPE=[8,8],a.Tag.TAG_IMAGE_COMMENTS=[32,16384],a.Tag.TAG_SEQUENCE_NAME=[24,36],a.Tag.TAG_MODALITY=[8,96],a.Tag.TAG_FRAME_OF_REF_UID=[32,82],a.Tag.TAG_STUDY_UID=[32,13],a.Tag.TAG_SERIES_DESCRIPTION=[8,4158],a.Tag.TAG_SERIES_INSTANCE_UID=[32,14],a.Tag.TAG_SERIES_NUMBER=[32,17],a.Tag.TAG_ECHO_NUMBER=[24,134],a.Tag.TAG_TEMPORAL_POSITION=[32,256],a.Tag.TAG_IMAGE_NUM=[32,19],a.Tag.TAG_SLICE_LOCATION=[32,4161],a.Tag.TAG_IMAGE_ORIENTATION=[32,55],a.Tag.TAG_IMAGE_POSITION=[32,50],a.Tag.TAG_SLICE_LOCATION_VECTOR=[24,8197],a.Tag.TAG_PIXEL_DATA=[32736,16],a.Tag.createId=function(e,t){return a.Utils.dec2hex(e)+a.Utils.dec2hex(t)},a.Tag.getUnsignedInteger16=function(e,t){var i,a,n;for(a=e.byteLength/2,i=[],n=0;n<a;n+=1)i[n]=e.getUint16(2*n,t);return i},a.Tag.getSignedInteger16=function(e,t){var i,a,n;for(a=e.byteLength/2,i=[],n=0;n<a;n+=1)i[n]=e.getInt16(2*n,t);return i},a.Tag.getFloat32=function(e,t){var i,a,n;for(a=e.byteLength/4,i=[],n=0;n<a;n+=1)i[n]=e.getFloat32(4*n,t);return i},a.Tag.getSignedInteger32=function(e,t){var i,a,n;for(a=e.byteLength/4,i=[],n=0;n<a;n+=1)i[n]=e.getInt32(4*n,t);return i},a.Tag.getUnsignedInteger32=function(e,t){var i,a,n;for(a=e.byteLength/4,i=[],n=0;n<a;n+=1)i[n]=e.getUint32(4*n,t);return i},a.Tag.getFloat64=function(e,t){var i,a,n;for(a=e.byteLength/8,i=[],n=0;n<a;n+=1)i[n]=e.getFloat64(8*n,t);return i},a.Tag.getDoubleElscint=function(e){var t,i=[],n=[];for(t=0;t<8;t+=1)i[t]=e.getUint8(t);return n[0]=i[3],n[1]=i[2],n[2]=i[1],n[3]=i[0],n[4]=i[7],n[5]=i[6],n[6]=i[5],n[7]=i[4],i=[a.Utils.bytesToDouble(n)]},a.Tag.getFixedLengthStringValue=function(e,t){var i,n,r;for(n=Math.floor(e.byteLength/t),i=[],r=0;r<n;r+=1)i[r]=a.Utils.getStringAt(e,r*t,t);return i},a.Tag.getStringValue=function(e){var t,i=a.Utils.getStringAt(e,0,e.byteLength).split("\\");for(t=0;t<i.length;t+=1)i[t]=a.Utils.trim(i[t]);return i},a.Tag.getDateStringValue=function(e){var t,i=-1!==a.Tag.getSingleStringValue(e)[0].indexOf("."),n=a.Tag.getFixedLengthStringValue(e,i?10:a.Tag.VR_DA_MAX_LENGTH),r=null,s=[];for(t=0;t<n.length;t+=1)i?3===(r=n[t].split(".")).length?s[t]=new Date(a.Utils.safeParseInt(r[0]),a.Utils.safeParseInt(r[1])-1,a.Utils.safeParseInt(r[2])):s[t]=new Date:8===n[t].length?s[t]=new Date(a.Utils.safeParseInt(n[t].substring(0,4)),a.Utils.safeParseInt(n[t].substring(4,6))-1,a.Utils.safeParseInt(n[t].substring(6,8))):s[t]=Date.parse(n[t]);return s},a.Tag.getDateTimeStringValue=function(e){var t,i=a.Tag.getStringValue(e),n=[],r=null,s=null,o=null,l=null,u=null,c=null;for(t=0;t<i.length;t+=1)i[t].length>=4?(r=parseInt(i[t].substring(0,4),10),i[t].length>=6&&(s=a.Utils.safeParseInt(i[t].substring(4,6))-1),i[t].length>=8&&(o=a.Utils.safeParseInt(i[t].substring(6,8))),i[t].length>=10&&(l=a.Utils.safeParseInt(i[t].substring(8,10))),i[t].length>=12&&(u=a.Utils.safeParseInt(i[t].substring(10,12))),i[t].length>=14&&(c=a.Utils.safeParseInt(i[t].substring(12,14))),n[t]=new Date(r,s,o,l,u,c)):n[t]=Date.parse(i[t]);return n},a.Tag.getTimeStringValue=function(e){var t,i=a.Tag.getStringValue(e),n=[],r=null,s=0,o=0,l=0;for(t=0;t<i.length;t+=1)-1!==i[t].indexOf(":")?(r=i[t].split(":"),s=a.Utils.safeParseInt(r[0]),r.length>1&&(o=a.Utils.safeParseInt(r[1])),r.length>2&&(l=a.Utils.safeParseFloat(r[2]))):(i[t].length>=2&&(s=a.Utils.safeParseInt(i[t].substring(0,2))),i[t].length>=4&&(o=a.Utils.safeParseInt(i[t].substring(2,4))),i[t].length>=6&&(l=a.Utils.safeParseFloat(i[t].substring(4)))),n[t]=Math.round(60*s*60*1e3+60*o*1e3+1e3*l);return n},a.Tag.getDoubleStringValue=function(e){var t,i=a.Tag.getStringValue(e),n=[];for(t=0;t<i.length;t+=1)n[t]=parseFloat(i[t]);return n},a.Tag.getIntegerStringValue=function(e){var t,i=a.Tag.getStringValue(e),n=[];for(t=0;t<i.length;t+=1)n[t]=parseInt(i[t],10);return n},a.Tag.getSingleStringValue=function(e){return[a.Utils.trim(a.Utils.getStringAt(e,0,e.byteLength))]},a.Tag.getPersonNameStringValue=function(e){var t,i=a.Tag.getStringValue(e),n=[];for(t=0;t<i.length;t+=1)n[t]=i[t].replace("^"," ");return n},a.Tag.convertPrivateValue=function(e,t,i){var n,r;for(n=0;n<a.Tag.PRIVATE_DATA_READERS.length;n+=1)if((r=new a.Tag.PRIVATE_DATA_READERS[n](i.buffer)).canRead(e,t))return r.readHeader();return i},a.Tag.convertValue=function(e,t,i){var n=null;return"AE"===e?n=a.Tag.getSingleStringValue(t,a.Tag.VR_AE_MAX_LENGTH):"AS"===e?n=a.Tag.getFixedLengthStringValue(t,a.Tag.VR_AS_MAX_LENGTH):"AT"===e?n=a.Tag.getUnsignedInteger16(t,i):"CS"===e?n=a.Tag.getStringValue(t):"DA"===e?n=a.Tag.getDateStringValue(t):"DS"===e?n=a.Tag.getDoubleStringValue(t):"DT"===e?n=a.Tag.getDateTimeStringValue(t):"FL"===e?n=a.Tag.getFloat32(t,i):"FD"===e?n=a.Tag.getFloat64(t,i):"FE"===e?n=a.Tag.getDoubleElscint(t,i):"IS"===e?n=a.Tag.getIntegerStringValue(t):"LO"===e?n=a.Tag.getStringValue(t):"LT"===e?n=a.Tag.getSingleStringValue(t):"OB"===e?n=t:"OD"===e?n=t:"OF"===e?n=t:"OW"===e?n=t:"PN"===e?n=a.Tag.getPersonNameStringValue(t):"SH"===e?n=a.Tag.getStringValue(t):"SL"===e?n=a.Tag.getSignedInteger32(t,i):"SQ"===e?n=null:"SS"===e?n=a.Tag.getSignedInteger16(t,i):"ST"===e?n=a.Tag.getSingleStringValue(t):"TM"===e?n=a.Tag.getTimeStringValue(t):"UI"===e?n=a.Tag.getStringValue(t):"UL"===e?n=a.Tag.getUnsignedInteger32(t,i):"UN"===e?n=t:"US"===e?n=a.Tag.getUnsignedInteger16(t,i):"UT"===e&&(n=a.Tag.getSingleStringValue(t)),n},a.Tag.prototype.toString=function(e,t){var i,n,r="",s="("+a.Utils.dec2hex(this.group)+","+a.Utils.dec2hex(this.element)+")",o="";for(void 0===e&&(e=0),n="",i=0;i<e;i+=1)n+=t?"&nbsp;&nbsp;":"  ";if(this.sublist)for(i=0;i<this.value.length;i+=1)r+="\n"+this.value[i].toString(e+1,t);else r="SQ"===this.vr?"":this.isPixelData()?"":this.value?"["+this.value+"]":"";return this.isSublistItem()?s="Sequence Item":this.isSublistItemDelim()?s="Sequence Item Delimiter":this.isSequenceDelim()?s="Sequence Delimiter":this.isPixelData()?s="Pixel Data":o=a.Utils.convertCamcelCaseToTitleCase(a.Dictionary.getDescription(this.group,this.element)),t?n+"<span style='color:#B5CBD3'>"+s+"</span>&nbsp;&nbsp;&nbsp;"+o+"&nbsp;&nbsp;&nbsp;"+r:n+" "+s+" "+o+" "+r},a.Tag.prototype.toHTMLString=function(e){return this.toString(e,!0)},a.Tag.prototype.isTransformSyntax=function(){return this.group===a.Tag.TAG_TRANSFER_SYNTAX[0]&&this.element===a.Tag.TAG_TRANSFER_SYNTAX[1]},a.Tag.prototype.isPixelData=function(){return this.group===a.Tag.TAG_PIXEL_DATA[0]&&this.element===a.Tag.TAG_PIXEL_DATA[1]},a.Tag.prototype.isPrivateData=function(){return 1==(1&this.group)},a.Tag.prototype.hasInterpretedPrivateData=function(){return this.isPrivateData()&&a.Utils.isString(this.value)},a.Tag.prototype.isSublistItem=function(){return this.group===a.Tag.TAG_SUBLIST_ITEM[0]&&this.element===a.Tag.TAG_SUBLIST_ITEM[1]},a.Tag.prototype.isSublistItemDelim=function(){return this.group===a.Tag.TAG_SUBLIST_ITEM_DELIM[0]&&this.element===a.Tag.TAG_SUBLIST_ITEM_DELIM[1]},a.Tag.prototype.isSequenceDelim=function(){return this.group===a.Tag.TAG_SUBLIST_SEQ_DELIM[0]&&this.element===a.Tag.TAG_SUBLIST_SEQ_DELIM[1]},a.Tag.prototype.isMetaLength=function(){return this.group===a.Tag.TAG_META_LENGTH[0]&&this.element===a.Tag.TAG_META_LENGTH[1]},"undefined"!==typeof t&&t.exports&&(t.exports=a.Tag)},{"./dictionary.js":30,"./siemens.js":38,"./utilities.js":40}],40:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||{},a.Utils.crcTable=null,a.Utils.MAX_VALUE=9007199254740991,a.Utils.MIN_VALUE=-9007199254740991,a.Utils.dec2hex=function(e){return(e+65536).toString(16).substr(-4).toUpperCase()},a.Utils.createArray=function(e){var t=new Array(e||0),i=e;if(arguments.length>1)for(var n=Array.prototype.slice.call(arguments,1);i--;)t[e-1-i]=a.Utils.createArray.apply(this,n);return t},a.Utils.getStringAt=function(e,t,i){var a,n,r="";for(a=0;a<i;a+=1)0!==(n=e.getUint8(t+a))&&(r+=String.fromCharCode(n));return r},a.Utils.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},a.Utils.stripLeadingZeros=function(e){return e.replace(/^[0]+/g,"")},a.Utils.safeParseInt=function(e){return(e=a.Utils.stripLeadingZeros(e)).length>0?parseInt(e,10):0},a.Utils.convertCamcelCaseToTitleCase=function(e){var t=e.replace(/([A-Z][a-z])/g," $1");return a.Utils.trim(t.charAt(0).toUpperCase()+t.slice(1))},a.Utils.safeParseFloat=function(e){return(e=a.Utils.stripLeadingZeros(e)).length>0?parseFloat(e):0},a.Utils.bytesToDouble=function(e){var t=(128&e[0])>>7,i=(127&e[0])<<4|(240&e[1])>>4;if(0==i)return 0;if(2047==i)return t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;var a=Math.pow(2,i-1023-52),n=e[7]+e[6]*Math.pow(2,8)+e[5]*Math.pow(2,16)+e[4]*Math.pow(2,24)+e[3]*Math.pow(2,32)+e[2]*Math.pow(2,40)+(15&e[1])*Math.pow(2,48)+Math.pow(2,52);return Math.pow(-1,t)*n*a},a.Utils.concatArrayBuffers=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer},a.Utils.concatArrayBuffers2=function(e){var t,i=0,a=0;for(t=0;t<e.length;t+=1)i+=e[t].byteLength;var n=new Uint8Array(i);for(t=0;t<e.length;t+=1)n.set(new Uint8Array(e[t]),a),a+=e[t].byteLength;return n.buffer},a.Utils.fillBuffer=function(e,t,i,a){var n;if(1===a)for(n=0;n<e.length;n+=1)t.setUint8(i+n,e[n]);else if(2===a)for(n=0;n<e.length;n+=1)t.setUint16(i+2*n,e[n],!0)},a.Utils.fillBufferRGB=function(e,t,i){var a,n,r,s,o=parseInt(e.length/3);for(s=0;s<o;s+=1)a=e[3*s],n=e[3*s+1],r=e[3*s+2],t.setUint8(i+s,parseInt((a+r+n)/3),!0)},a.Utils.bind=function(e,t,i,a){if(2===arguments.length)return function(){return t.apply(e,arguments)};var n=t,r=Array.prototype.slice;return function(){var t=i||arguments;return!0===a?t=(t=r.call(arguments,0)).concat(i):"number"==typeof a&&(t=r.call(arguments,0),Ext.Array.insert(t,a,i)),n.apply(e||window,t)}},a.Utils.toArrayBuffer=function(e){var t,i,a;for(t=new ArrayBuffer(e.length),i=new Uint8Array(t),a=0;a<e.length;a+=1)i[a]=e[a];return t},a.Utils.isString=function(e){return"string"==typeof e||e instanceof String},a.Utils.swap32=function(e){return(255&e)<<24|(65280&e)<<8|e>>8&65280|e>>24&255},a.Utils.swap16=function(e){return((255&e)<<8|e>>8&255)<<16>>16},a.Utils.makeCRCTable=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t},a.Utils.crc32=function(e){for(var t=a.Utils.crcTable||(a.Utils.crcTable=a.Utils.makeCRCTable()),i=-1,n=0;n<e.byteLength;n++)i=i>>>8^t[255&(i^e.getUint8(n))];return(-1^i)>>>0},a.Utils.createBitMask=function(e,t,i){var a=4294967295;return a>>>=8*(4-e)+(8*e-t),i?1==e?a&=255:2==e?a&=65535:4==e?a&=4294967295:8==e&&(a=4294967295):a=4294967295,a},"undefined"!==typeof t&&t.exports&&(t.exports=a.Utils)},{}]},{},[33])(33)});var Base64Binary={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var t=this._keyStr.indexOf(e.charAt(e.length-1)),i=this._keyStr.indexOf(e.charAt(e.length-2)),a=e.length/4*3;64==t&&a--,64==i&&a--;var n=new ArrayBuffer(a);return this.decode(e,n,a),n},decode:function(e,t,i){var a,n,r,s,o,l,u,c=0,h=0;for(a=t?new Uint8Array(t):new Uint8Array(i),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),c=0;c<i;c+=3)n=this._keyStr.indexOf(e.charAt(h++))<<2|(o=this._keyStr.indexOf(e.charAt(h++)))>>4,r=(15&o)<<4|(l=this._keyStr.indexOf(e.charAt(h++)))>>2,s=(3&l)<<6|(u=this._keyStr.indexOf(e.charAt(h++))),a[c]=n,64!=l&&(a[c+1]=r),64!=u&&(a[c+2]=s);return a}};!function(e,t){"undefined"!=typeof module&&module.exports?module.exports.browser=t():"function"==typeof define?define(t):this.bowser=t()}(0,function(){function e(e,t,i){var a=e.match(t);return a&&a.length>i&&a[i]||0}function t(t){var n=/(msie|trident)/i.test(t),r=/chrome|crios/i.test(t),s=/phantom/i.test(t),o=/iphone/i.test(t),l=/ipad/i.test(t),u=/ipod/i.test(t),c=/touchpad/i.test(t),h=/silk/i.test(t),f=/safari/i.test(t)&&!r&&!s&&!h,d=/android/i.test(t),p=/opera/i.test(t)||/opr/i.test(t),m=/firefox/i.test(t),S=/gecko\//i.test(t),g=/seamonkey\//i.test(t),T=/webos/i.test(t),_=/windows phone/i.test(t),y=/blackberry/i.test(t),I=/version\/(\d+(\.\d+)?)/i,D=/firefox[ \/](\d+(\.\d+)?)/i,v={};u&&(o=!1),_?v={name:"Windows Phone",windowsphone:a,msie:a,mobile:a,version:e(t,/iemobile\/(\d+(\.\d+)?)/i,1)}:p?(i=e(t,I,1)||e(t,/opr\/(\d+(\.\d+)?)/i,1)||e(t,/opera[ \/](\d+(\.\d+)?)/i,1),v={name:"Opera",opera:a,version:i},d&&(v.android=a,v.mobile=a),r&&(v.webkit=a)):n?v={name:"Internet Explorer",msie:a,version:e(t,/(msie |rv:)(\d+(\.\d+)?)/i,2)}:r?(v={name:"Chrome",webkit:a,chrome:a,version:e(t,/(?:chrome|crios)\/(\d+(\.\d+)?)/i,1)},d&&(v.android=a),(l||u||o)&&(v[o?"iphone":l?"ipad":"ipod"]=a,v.ios=a),(v.android||v.ios)&&(v.mobile=a)):s?v={name:"PhantomJS",webkit:a,phantom:a,version:e(t,/phantomjs\/(\d+(\.\d+)?)/i,1)}:c?v={name:"TouchPad",webkit:a,touchpad:a,version:e(t,/touchpad\/(\d+(\.\d+)?)/i,1)}:h?v={name:"Amazon Silk",webkit:a,android:a,mobile:a,version:e(t,/silk\/(\d+(\.\d+)?)/i,1)}:o||l||u?((v={name:o?"iPhone":l?"iPad":"iPod",webkit:a,mobile:a,ios:a})[o?"iphone":l?"ipad":"ipod"]=a,I.test(t)&&(v.version=e(t,I,1))):y?(v={name:"BlackBerry",blackberry:a,mobile:a},(i=e(t,I,1))?(v.version=i,v.webkit=a):v.version=e(t,/blackberry[\d]+\/(\d+(\.\d+)?)/i,1)):T?v={name:"WebOS",mobile:a,webkit:a,webos:a,version:e(t,I,1)||e(t,/wosbrowser\/(\d+(\.\d+)?)/i,1)}:S?(v={name:"Gecko",gecko:a,mozilla:a,version:e(t,D,1)},g?(v.name="SeaMonkey",v.seamonkey=a,v.version=e(t,/seamonkey\/(\d+(\.\d+)?)/i,1)):m&&(v.name="Firefox",v.firefox=a),d?(v.android=a,v.mobile=a):!d&&m&&/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(v.firefoxos=a,v.mobile=a)):d?v={name:"Android",webkit:a,android:a,mobile:a,version:e(t,I,1)}:f&&(v={name:"Safari",webkit:a,safari:a,version:e(t,I,1)});var b;return d?(b=e(t,/android[ \/](\d+(\.\d+)*)/i,1))&&(v.osversion=b):o||l||u?(b=e(t,/os (\d+([_\s]\d+)*) like mac os x/i,1))&&(v.osversion=b.replace(/[_\s]/g,".")):_&&(b=e(t,/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,1))&&(v.osversion=b),v.msie&&v.version>=9||v.chrome&&v.version>=20||v.firefox&&v.version>=10||v.safari&&v.version>=5||v.opera&&v.version>=10||v.ios&&v.osversion&&v.osversion.split(".")[0]>=6?v.a=a:v.msie&&v.version<9||v.chrome&&v.version<20||v.firefox&&v.version<10||v.safari&&v.version<5||v.opera&&v.version<10||v.ios&&v.osversion&&v.osversion.split(".")[0]<6?v.c=a:v.x=a,v}var i,a=!0,n=t("undefined"!=typeof navigator?navigator.userAgent:"");return n._detect=t,n});var numeric={};numeric.inv=function(e){var t,i,a,n,r,s,o,e,l=numeric.dim(e),u=Math.abs,c=l[0],h=l[1],f=e.clone(),d=numeric.identity(c);for(s=0;s<h;++s){var p=-1,m=-1;for(r=s;r!==c;++r)(o=u(f[r][s]))>m&&(p=r,m=o);for(i=f[p],f[p]=f[s],f[s]=i,n=d[p],d[p]=d[s],d[s]=n,e=i[s],o=s;o!==h;++o)i[o]/=e;for(o=h-1;-1!==o;--o)n[o]/=e;for(r=c-1;-1!==r;--r)if(r!==s){for(t=f[r],a=d[r],e=t[s],o=s+1;o!==h;++o)t[o]-=i[o]*e;for(o=h-1;o>0;--o)a[o]-=n[o]*e,a[--o]-=n[o]*e;0===o&&(a[0]-=n[0]*e)}}return d},numeric.dim=function(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?numeric._dim(e):[e.length,t.length]:[e.length]:[]},numeric._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.rep=function(e,t,i){void 0===i&&(i=0);var a,n=e[i],r=Array(n);if(i===e.length-1){for(a=n-2;a>=0;a-=2)r[a+1]=t,r[a]=t;return-1===a&&(r[0]=t),r}for(a=n-1;a>=0;a--)r[a]=numeric.rep(e,t,i+1);return r},numeric.diag=function(e){var t,i,a,n,r=e.length,s=Array(r);for(t=r-1;t>=0;t--){for(n=Array(r),i=t+2,a=r-1;a>=i;a-=2)n[a]=0,n[a-1]=0;for(a>t&&(n[a]=0),n[t]=e[t],a=t-1;a>=1;a-=2)n[a]=0,n[a-1]=0;0===a&&(n[0]=0),s[t]=n}return s},function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.pako=e()}}(function(){return function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return n(i||e)},u,u.exports,e,t,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){"use strict";function a(e,t,i,a){var n=new h(t);n.onFinish=a,n.push(e,!0,i)}var n=e("./zlib/inflate.js"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=function(e){this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(l[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t,i){var a=this.strm,n=this.options.chunkSize;if(this.ended)return!1;t===~~t||(!0===t?o.Z_FINISH:o.Z_NO_FLUSH),a.input="string"==typeof e?s.binstring2buf(e):e,a.next_in=0,a.avail_in=a.input.length;var r=new DataView(e.buffer).getUint32(e.byteLength-4,!0);this.progressMeter=i,this.progressIterations=r/n,this.progressIndex=0,this.progressNextGoal=.25,this.progressMeter&&this.progressMeter.drawProgress(.1,"Unpacking"),setTimeout(this.pushProcess.bind(this),0)},h.prototype.pushProcess=function(){var e,t,i,a=this.strm,s=this.options.chunkSize;do{if(0===a.avail_out&&(a.output=new r.Buf8(s),a.next_out=0,a.avail_out=s),(e=n.inflate(a,o.Z_NO_FLUSH))!==o.Z_STREAM_END&&e!==o.Z_OK)return this.onEnd(e),this.ended=!0,!1;a.next_out&&(0===a.avail_out||e===o.Z_STREAM_END||0===a.avail_in&&t===o.Z_FINISH)&&this.onData(r.shrinkBuf(a.output,a.next_out)),this.progressIndex+=1,i=this.progressIndex/this.progressIterations,this.progressMeter&&this.progressMeter.drawProgress(i,"Unpacking")}while(i<this.progressNextGoal&&(a.avail_in>0||0===a.avail_out)&&e!==o.Z_STREAM_END);(a.avail_in>0||0===a.avail_out)&&e!==o.Z_STREAM_END?(this.progressNextGoal+=.1,setTimeout(this.pushProcess.bind(this),0)):(e===o.Z_STREAM_END&&(t=o.Z_FINISH),t===o.Z_FINISH&&(e=n.inflateEnd(this.strm),this.onEnd(e),this.ended=!0),this.onFinish(this.result))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=h,i.inflate=a,i.inflateRaw=function(e,t){return t=t||{},t.raw=!0,a(e,t)},i.ungzip=a},{"./utils/common":2,"./utils/strings":3,"./zlib/constants":5,"./zlib/gzheader":7,"./zlib/inflate.js":9,"./zlib/messages":11,"./zlib/zstream":12}],2:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,s;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)r=e[t],s.set(r,n),n+=r.length;return s}},r={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(a)},{}],3:[function(e,t,i){"use strict";function a(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,i.string2buf=function(e){var t,i,a,r,s,o=e.length,l=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,s,l=t||e.length,u=new Array(2*l);for(n=0,i=0;i<l;)if((r=e[i++])<128)u[n++]=r;else if((s=o[r])>4)u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&i<l;)r=r<<6|63&e[i++],s--;s>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+o[e[i]]>t?i:t}},{"./common":2}],4:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{r=r+(n=n+t[a++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0}},{}],5:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],6:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var r=a,s=n+i;e^=-1;for(var o=n;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],7:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],8:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C;i=e.state,a=e.next_in,A=e.input,n=a+(e.avail_in-5),r=e.next_out,C=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,m=i.lencode,S=i.distcode,g=(1<<i.lenbits)-1,T=(1<<i.distbits)-1;e:do{p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=m[d&g];t:for(;;){if(y=_>>>24,d>>>=y,p-=y,0===(y=_>>>16&255))C[r++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=m[(65535&_)+(d&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}I=65535&_,(y&=15)&&(p<y&&(d+=A[a++]<<p,p+=8),I+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=S[d&T];i:for(;;){if(y=_>>>24,d>>>=y,p-=y,!(16&(y=_>>>16&255))){if(0==(64&y)){_=S[(65535&_)+(d&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(D=65535&_,y&=15,p<y&&(d+=A[a++]<<p,(p+=8)<y&&(d+=A[a++]<<p,p+=8)),(D+=d&(1<<y)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=y,p-=y,y=r-s,D>y){if((y=D-y)>c&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(v=0,b=f,0===h){if(v+=u-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}else if(h<y){if(v+=u+h-y,(y-=h)<I){I-=y;do{C[r++]=f[v++]}while(--y);if(v=0,h<I){I-=y=h;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}}else if(v+=h-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}for(;I>2;)C[r++]=b[v++],C[r++]=b[v++],C[r++]=b[v++],I-=3;I&&(C[r++]=b[v++],I>1&&(C[r++]=b[v++]))}else{v=r-D;do{C[r++]=C[v++],C[r++]=C[v++],C[r++]=C[v++],I-=3}while(I>2);I&&(C[r++]=C[v++],I>1&&(C[r++]=C[v++]))}break}}break}}while(a<n&&r<o);a-=I=p>>3,d&=(1<<(p-=I<<3))-1,e.next_in=a,e.next_out=r,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=d,i.bits=p}},{}],9:[function(e,t,i){"use strict";function a(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new d.Buf32(ce),t.distcode=t.distdyn=new d.Buf32(he),t.sane=1,t.back=-1,b):E}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):E}function o(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,s(e))):E}function l(e,t){var i,a;return e?(a=new n,e.state=a,a.window=null,(i=o(e,t))!==b&&(e.state=null),i):E}function u(e){if(de){var t;for(h=new d.Buf32(512),f=new d.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(_,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(y,e.lens,0,32,f,0,e.work,{bits:5}),de=!1}e.lencode=h,e.lenbits=9,e.distcode=f,e.distbits=5}function c(e,t,i,a){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new d.Buf8(r.wsize)),a>=r.wsize?(d.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>a&&(n=a),d.arraySet(r.window,t,i-a,n,r.wnext),(a-=n)?(d.arraySet(r.window,t,i-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var h,f,d=e("../utils/common"),p=e("./adler32"),m=e("./crc32"),S=e("./inffast"),g=e("./inftrees"),T=0,_=1,y=2,I=4,D=5,v=6,b=0,A=1,C=2,E=-2,w=-3,P=-4,N=-5,O=8,x=1,R=2,L=3,M=4,F=5,U=6,k=7,B=8,q=9,G=10,V=11,z=12,Q=13,H=14,Y=15,j=16,X=17,Z=18,W=19,K=20,J=21,$=22,ee=23,te=24,ie=25,ae=26,ne=27,re=28,se=29,oe=30,le=31,ue=32,ce=852,he=592,fe=15,de=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=function(e){return l(e,fe)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,r,s,o,l,h,f,ce,he,fe,de,pe,me,Se,ge,Te,_e,ye,Ie,De,ve,be,Ae,Ce=0,Ee=new d.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(i=e.state).mode===z&&(i.mode=Q),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,he=l,fe=h,ve=b;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=Q;break}for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(2&i.wrap&&35615===f){i.check=0,Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0),f=0,ce=0,i.mode=R;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",i.mode=oe;break}if((15&f)!==O){e.msg="unknown compression method",i.mode=oe;break}if(f>>>=4,ce-=4,De=8+(15&f),0===i.wbits)i.wbits=De;else if(De>i.wbits){e.msg="invalid window size",i.mode=oe;break}i.dmax=1<<De,e.adler=i.check=1,i.mode=512&f?G:z,f=0,ce=0;break;case R:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.flags=f,(255&i.flags)!==O){e.msg="unknown compression method",i.mode=oe;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=oe;break}i.head&&(i.head.text=f>>8&1),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=L;case L:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.time=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,Ee[2]=f>>>16&255,Ee[3]=f>>>24&255,i.check=m(i.check,Ee,4,0)),f=0,ce=0,i.mode=M;case M:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.xflags=255&f,i.head.os=f>>8),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=F;case F:if(1024&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length=f,i.head&&(i.head.extra_len=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&((de=i.length)>l&&(de=l),de&&(i.head&&(De=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,n,s,de,De)),512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,i.length-=de),i.length))break e;i.length=0,i.mode=k;case k:if(2048&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.name+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.comment+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.comment=null);i.mode=q;case q:if(512&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(65535&i.check)){e.msg="header crc mismatch",i.mode=oe;break}f=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=z;break;case G:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}e.adler=i.check=a(f),f=0,ce=0,i.mode=V;case V:if(0===i.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,C;e.adler=i.check=1,i.mode=z;case z:if(t===D||t===v)break e;case Q:if(i.last){f>>>=7&ce,ce-=7&ce,i.mode=ne;break}for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}switch(i.last=1&f,f>>>=1,ce-=1,3&f){case 0:i.mode=H;break;case 1:if(u(i),i.mode=K,t===v){f>>>=2,ce-=2;break e}break;case 2:i.mode=X;break;case 3:e.msg="invalid block type",i.mode=oe}f>>>=2,ce-=2;break;case H:for(f>>>=7&ce,ce-=7&ce;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",i.mode=oe;break}if(i.length=65535&f,f=0,ce=0,i.mode=Y,t===v)break e;case Y:i.mode=j;case j:if(de=i.length){if(de>l&&(de=l),de>h&&(de=h),0===de)break e;d.arraySet(r,n,s,de,o),l-=de,s+=de,h-=de,o+=de,i.length-=de;break}i.mode=z;break;case X:for(;ce<14;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.nlen=257+(31&f),f>>>=5,ce-=5,i.ndist=1+(31&f),f>>>=5,ce-=5,i.ncode=4+(15&f),f>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=oe;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.lens[we[i.have++]]=7&f,f>>>=3,ce-=3}for(;i.have<19;)i.lens[we[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,be={bits:i.lenbits},ve=g(T,i.lens,0,19,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid code lengths set",i.mode=oe;break}i.have=0,i.mode=W;case W:for(;i.have<i.nlen+i.ndist;){for(;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(Te<16)f>>>=Se,ce-=Se,i.lens[i.have++]=Te;else{if(16===Te){for(Ae=Se+2;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f>>>=Se,ce-=Se,0===i.have){e.msg="invalid bit length repeat",i.mode=oe;break}De=i.lens[i.have-1],de=3+(3&f),f>>>=2,ce-=2}else if(17===Te){for(Ae=Se+3;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=3+(7&(f>>>=Se)),f>>>=3,ce-=3}else{for(Ae=Se+7;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=11+(127&(f>>>=Se)),f>>>=7,ce-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=oe;break}for(;de--;)i.lens[i.have++]=De}}if(i.mode===oe)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=oe;break}if(i.lenbits=9,be={bits:i.lenbits},ve=g(_,i.lens,0,i.nlen,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid literal/lengths set",i.mode=oe;break}if(i.distbits=6,i.distcode=i.distdyn,be={bits:i.distbits},ve=g(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,be),i.distbits=be.bits,ve){e.msg="invalid distances set",i.mode=oe;break}if(i.mode=K,t===v)break e;case K:i.mode=J;case J:if(l>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,S(e,fe),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(ge&&0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.lencode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,i.length=Te,0===ge){i.mode=ae;break}if(32&ge){i.back=-1,i.mode=z;break}if(64&ge){e.msg="invalid literal/length code",i.mode=oe;break}i.extra=15&ge,i.mode=$;case $:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;Ce=i.distcode[f&(1<<i.distbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.distcode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,64&ge){e.msg="invalid distance code",i.mode=oe;break}i.offset=Te,i.extra=15&ge,i.mode=te;case te:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.offset+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=oe;break}i.mode=ie;case ie:if(0===h)break e;if(de=fe-h,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=oe;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),me=i.window}else me=r,pe=o-i.offset,de=i.length;de>h&&(de=h),h-=de,i.length-=de;do{r[o++]=me[pe++]}while(--de);0===i.length&&(i.mode=J);break;case ae:if(0===h)break e;r[o++]=i.length,h--,i.mode=J;break;case ne:if(i.wrap){for(;ce<32;){if(0===l)break e;l--,f|=n[s++]<<ce,ce+=8}if(fe-=h,e.total_out+=fe,i.total+=fe,fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,o-fe):p(i.check,r,fe,o-fe)),fe=h,(i.flags?f:a(f))!==i.check){e.msg="incorrect data check",i.mode=oe;break}f=0,ce=0}i.mode=re;case re:if(i.wrap&&i.flags){for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=oe;break}f=0,ce=0}i.mode=se;case se:ve=A;break e;case oe:ve=w;break e;case le:return P;case ue:default:return E}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,(i.wsize||fe!==e.avail_out&&i.mode<oe&&(i.mode<ne||t!==I))&&c(e,e.output,e.next_out,fe-e.avail_out)?(i.mode=le,P):(he-=e.avail_in,fe-=e.avail_out,e.total_in+=he,e.total_out+=fe,i.total+=fe,i.wrap&&fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,e.next_out-fe):p(i.check,r,fe,e.next_out-fe)),e.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===K||i.mode===Y?256:0),(0===he&&0===fe||t===I)&&ve===b&&(ve=N),ve)},i.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,b},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?E:(i.head=t,t.done=!1,b):E},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":2,"./adler32":4,"./crc32":6,"./inffast":8,"./inftrees":10}],10:[function(e,t,i){"use strict";var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,c,h,f){var d,p,m,S,g,T,_,y,I,D=f.bits,v=0,b=0,A=0,C=0,E=0,w=0,P=0,N=0,O=0,x=0,R=null,L=0,M=new a.Buf16(16),F=new a.Buf16(16),U=null,k=0;for(v=0;v<=15;v++)M[v]=0;for(b=0;b<l;b++)M[t[i+b]]++;for(E=D,C=15;C>=1&&0===M[C];C--);if(E>C&&(E=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(A=1;A<C&&0===M[A];A++);for(E<A&&(E=A),N=1,v=1;v<=15;v++)if(N<<=1,(N-=M[v])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(F[1]=0,v=1;v<15;v++)F[v+1]=F[v]+M[v];for(b=0;b<l;b++)0!==t[i+b]&&(h[F[t[i+b]]++]=b);switch(e){case 0:R=U=h,T=19;break;case 1:R=n,L-=257,U=r,k-=257,T=256;break;default:R=s,U=o,T=-1}if(x=0,b=0,v=A,g=c,w=E,P=0,m=-1,O=1<<E,S=O-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){0,_=v-P,h[b]<T?(y=0,I=h[b]):h[b]>T?(y=U[k+h[b]],I=R[L+h[b]]):(y=96,I=0),d=1<<v-P,A=p=1<<w;do{u[g+(x>>P)+(p-=d)]=_<<24|y<<16|I|0}while(0!==p);for(d=1<<v-1;x&d;)d>>=1;if(0!==d?(x&=d-1,x+=d):x=0,b++,0==--M[v]){if(v===C)break;v=t[i+h[b]]}if(v>E&&(x&S)!==m){for(0===P&&(P=E),g+=A,N=1<<(w=v-P);w+P<C&&!((N-=M[w+P])<=0);)w++,N<<=1;if(O+=1<<w,1===e&&O>852||2===e&&O>592)return 1;u[m=x&S]=E<<24|w<<16|g-c|0}}return 0!==x&&(u[g+x]=v-P<<24|64<<16|0),f.bits=E,0}},{"../utils/common":2}],11:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],12:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).nifti=e()}}(function(){return function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return n(i||e)},c,c.exports,e,t,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){"use strict";var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=a},{"./lib/deflate":2,"./lib/inflate":3,"./lib/utils/common":4,"./lib/zlib/constants":7}],2:[function(e,t,i){"use strict";function a(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var n=e("./zlib/deflate.js"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),l=e("./zlib/zstream"),u=Object.prototype.toString,c=function(e){this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);t.header&&n.deflateSetHeader(this.strm,t.header)};c.prototype.push=function(e,t){var i,a,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===u.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new r.Buf8(l),o.next_out=0,o.avail_out=l),1!==(i=n.deflate(o,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(r.shrinkBuf(o.output,o.next_out))):this.onData(r.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),o.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=a,i.deflateRaw=function(e,t){return t=t||{},t.raw=!0,a(e,t)},i.gzip=function(e,t){return t=t||{},t.gzip=!0,a(e,t)}},{"./utils/common":4,"./utils/strings":5,"./zlib/deflate.js":9,"./zlib/messages":14,"./zlib/zstream":16}],3:[function(e,t,i){"use strict";function a(e,t){var i=new f(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var n=e("./zlib/inflate.js"),r=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=Object.prototype.toString,f=function(e){this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(l[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(e,t){var i,a,l,u,c,f=this.strm,d=this.options.chunkSize,p=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(d),f.next_out=0,f.avail_out=d),(i=n.inflate(f,o.Z_NO_FLUSH))===o.Z_BUF_ERROR&&!0===p&&(i=o.Z_OK,p=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&i!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(f.output,f.next_out),u=f.next_out-l,c=s.buf2string(f.output,l),f.next_out=u,f.avail_out=d-u,u&&r.arraySet(f.output,f.output,l,u,0),this.onData(c)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(p=!0)}while((f.avail_in>0||0===f.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),f.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=f,i.inflate=a,i.inflateRaw=function(e,t){return t=t||{},t.raw=!0,a(e,t)},i.ungzip=a},{"./utils/common":4,"./utils/strings":5,"./zlib/constants":7,"./zlib/gzheader":10,"./zlib/inflate.js":12,"./zlib/messages":14,"./zlib/zstream":16}],4:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,s;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)r=e[t],s.set(r,n),n+=r.length;return s}},r={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(a)},{}],5:[function(e,t,i){"use strict";function a(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,i.string2buf=function(e){var t,i,a,r,s,o=e.length,l=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,s,l=t||e.length,u=new Array(2*l);for(n=0,i=0;i<l;)if((r=e[i++])<128)u[n++]=r;else if((s=o[r])>4)u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&i<l;)r=r<<6|63&e[i++],s--;s>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+o[e[i]]>t?i:t}},{"./common":4}],6:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{r=r+(n=n+t[a++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0}},{}],7:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],8:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var r=a,s=n+i;e^=-1;for(var o=n;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],9:[function(e,t,i){"use strict";function a(e,t){return e.msg=E[t],t}function n(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(v.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function o(e,t){b._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,i,a){var n=e.avail_in;return n>a&&(n=a),0===n?0:(e.avail_in-=n,v.arraySet(t,e.input,e.next_in,n,i),1===e.state.wrap?e.adler=A(e.adler,t,n,i):2===e.state.wrap&&(e.adler=C(e.adler,t,n,i)),e.next_in+=n,e.total_in+=n,n)}function h(e,t){var i,a,n=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-ie?e.strstart-(e.w_size-ie):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+te,d=u[r+s-1],p=u[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,u[i+s]===p&&u[i+s-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(a=te-(f-r),r=f-te,a>s){if(e.match_start=t,s=a,a>=o)break;d=u[r+s-1],p=u[r+s]}}}while((t=h[t&c])>l&&0!=--n);return s<=e.lookahead?s:e.lookahead}function f(e){var t,i,a,n,r,s=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ie)){v.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{a=e.head[--t],e.head[t]=a>=s?a-s:0}while(--i);t=i=s;do{a=e.prev[--t],e.prev[t]=a>=s?a-s:0}while(--i);n+=s}if(0===e.strm.avail_in)break;if(i=c(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=ee)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+ee-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ee)););}while(e.lookahead<ie&&0!==e.strm.avail_in)}function d(e,t){for(var i,a;;){if(e.lookahead<ie){if(f(e),e.lookahead<ie&&t===w)return he;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ie&&(e.match_length=h(e,i)),e.match_length>=ee)if(a=b._tr_tally(e,e.strstart-e.match_start,e.match_length-ee),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ee){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=e.strstart<ee-1?e.strstart:ee-1,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function p(e,t){for(var i,a,n;;){if(e.lookahead<ie){if(f(e),e.lookahead<ie&&t===w)return he;if(0===e.lookahead)break}if(i=0,e.lookahead>=ee&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ee-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ie&&(e.match_length=h(e,i),e.match_length<=5&&(e.strategy===B||e.match_length===ee&&e.strstart-e.match_start>4096)&&(e.match_length=ee-1)),e.prev_length>=ee&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-ee,a=b._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ee),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ee-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=ee-1,e.strstart++,a&&(o(e,!1),0===e.strm.avail_out))return he}else if(e.match_available){if((a=b._tr_tally(e,0,e.window[e.strstart-1]))&&o(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return he}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=b._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ee-1?e.strstart:ee-1,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function m(e,t){for(var i,a,n,r,s=e.window;;){if(e.lookahead<=te){if(f(e),e.lookahead<=te&&t===w)return he;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ee&&e.strstart>0&&(n=e.strstart-1,(a=s[n])===s[++n]&&a===s[++n]&&a===s[++n])){r=e.strstart+te;do{}while(a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&n<r);e.match_length=te-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ee?(i=b._tr_tally(e,1,e.match_length-ee),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function S(e,t){for(var i;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===w)return he;break}if(e.match_length=0,i=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?he:fe}function g(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=D[e.level].max_lazy,e.good_match=D[e.level].good_length,e.nice_match=D[e.level].nice_length,e.max_chain_length=D[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ee-1,e.match_available=0,e.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=H,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*J),this.dyn_dtree=new v.Buf16(2*(2*W+1)),this.bl_tree=new v.Buf16(2*(2*K+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16($+1),this.heap=new v.Buf16(2*Z+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*Z+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?ne:ue,e.adler=2===t.wrap?0:1,t.last_flush=w,b._tr_init(t),R):a(e,M)}function y(e){var t=_(e);return t===R&&g(e.state),t}function I(e,t,i,n,r,s){if(!e)return M;var o=1;if(t===k&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>Y||i!==H||n<8||n>15||t<0||t>9||s<0||s>V)return a(e,M);8===n&&(n=9);var l=new T;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ee-1)/ee),l.window=new v.Buf8(2*l.w_size),l.head=new v.Buf16(l.hash_size),l.prev=new v.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new v.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=i,y(e)}var D,v=e("../utils/common"),b=e("./trees"),A=e("./adler32"),C=e("./crc32"),E=e("./messages"),w=0,P=1,N=3,O=4,x=5,R=0,L=1,M=-2,F=-3,U=-5,k=-1,B=1,q=2,G=3,V=4,z=0,Q=2,H=8,Y=9,j=15,X=8,Z=286,W=30,K=19,J=2*Z+1,$=15,ee=3,te=258,ie=te+ee+1,ae=32,ne=42,re=69,se=73,oe=91,le=103,ue=113,ce=666,he=1,fe=2,de=3,pe=4,me=3,Se=function(e,t,i,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=a,this.func=n};D=[new Se(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===w)return he;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+i;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,o(e,!1),0===e.strm.avail_out))return he;if(e.strstart-e.block_start>=e.w_size-ie&&(o(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===O?(o(e,!0),0===e.strm.avail_out?de:pe):(e.strstart>e.block_start&&(o(e,!1),e.strm.avail_out),he)}),new Se(4,4,8,4,d),new Se(4,5,16,8,d),new Se(4,6,32,32,d),new Se(4,4,16,16,p),new Se(8,16,32,32,p),new Se(8,16,128,128,p),new Se(8,32,128,256,p),new Se(32,128,258,1024,p),new Se(32,258,258,4096,p)],i.deflateInit=function(e,t){return I(e,t,H,j,X,z)},i.deflateInit2=I,i.deflateReset=y,i.deflateResetKeep=_,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?M:(e.state.gzhead=t,R):M},i.deflate=function(e,t){var i,o,c,h;if(!e||!e.state||t>x||t<0)return e?a(e,M):M;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===ce&&t!==O)return a(e,0===e.avail_out?U:M);if(o.strm=e,i=o.last_flush,o.last_flush=t,o.status===ne)if(2===o.wrap)e.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=q||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=C(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=re):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=q||o.level<2?4:0),l(o,me),o.status=ue);else{var f=H+(o.w_bits-8<<4)<<8;f|=(o.strategy>=q||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=ae),f+=31-f%31,o.status=ue,u(o,f),0!==o.strstart&&(u(o,e.adler>>>16),u(o,65535&e.adler)),e.adler=1}if(o.status===re)if(o.gzhead.extra){for(c=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=se)}else o.status=se;if(o.status===se)if(o.gzhead.name){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.gzindex=0,o.status=oe)}else o.status=oe;if(o.status===oe)if(o.gzhead.comment){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=C(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.status=le)}else o.status=le;if(o.status===le&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(e),o.pending+2<=o.pending_buf_size&&(l(o,255&e.adler),l(o,e.adler>>8&255),e.adler=0,o.status=ue)):o.status=ue),0!==o.pending){if(s(e),0===e.avail_out)return o.last_flush=-1,R}else if(0===e.avail_in&&n(t)<=n(i)&&t!==O)return a(e,U);if(o.status===ce&&0!==e.avail_in)return a(e,U);if(0!==e.avail_in||0!==o.lookahead||t!==w&&o.status!==ce){var d=o.strategy===q?S(o,t):o.strategy===G?m(o,t):D[o.level].func(o,t);if(d!==de&&d!==pe||(o.status=ce),d===he||d===de)return 0===e.avail_out&&(o.last_flush=-1),R;if(d===fe&&(t===P?b._tr_align(o):t!==x&&(b._tr_stored_block(o,0,0,!1),t===N&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(e),0===e.avail_out))return o.last_flush=-1,R}return t!==O?R:o.wrap<=0?L:(2===o.wrap?(l(o,255&e.adler),l(o,e.adler>>8&255),l(o,e.adler>>16&255),l(o,e.adler>>24&255),l(o,255&e.total_in),l(o,e.total_in>>8&255),l(o,e.total_in>>16&255),l(o,e.total_in>>24&255)):(u(o,e.adler>>>16),u(o,65535&e.adler)),s(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?R:L)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==ne&&t!==re&&t!==se&&t!==oe&&t!==le&&t!==ue&&t!==ce?a(e,M):(e.state=null,t===ue?a(e,F):R):M},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./messages":14,"./trees":15}],10:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C;i=e.state,a=e.next_in,A=e.input,n=a+(e.avail_in-5),r=e.next_out,C=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,m=i.lencode,S=i.distcode,g=(1<<i.lenbits)-1,T=(1<<i.distbits)-1;e:do{p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=m[d&g];t:for(;;){if(y=_>>>24,d>>>=y,p-=y,0===(y=_>>>16&255))C[r++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=m[(65535&_)+(d&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}I=65535&_,(y&=15)&&(p<y&&(d+=A[a++]<<p,p+=8),I+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=S[d&T];i:for(;;){if(y=_>>>24,d>>>=y,p-=y,!(16&(y=_>>>16&255))){if(0==(64&y)){_=S[(65535&_)+(d&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(D=65535&_,y&=15,p<y&&(d+=A[a++]<<p,(p+=8)<y&&(d+=A[a++]<<p,p+=8)),(D+=d&(1<<y)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=y,p-=y,y=r-s,D>y){if((y=D-y)>c&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(v=0,b=f,0===h){if(v+=u-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}else if(h<y){if(v+=u+h-y,(y-=h)<I){I-=y;do{C[r++]=f[v++]}while(--y);if(v=0,h<I){I-=y=h;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}}else if(v+=h-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}for(;I>2;)C[r++]=b[v++],C[r++]=b[v++],C[r++]=b[v++],I-=3;I&&(C[r++]=b[v++],I>1&&(C[r++]=b[v++]))}else{v=r-D;do{C[r++]=C[v++],C[r++]=C[v++],C[r++]=C[v++],I-=3}while(I>2);I&&(C[r++]=C[v++],I>1&&(C[r++]=C[v++]))}break}}break}}while(a<n&&r<o);a-=I=p>>3,d&=(1<<(p-=I<<3))-1,e.next_in=a,e.next_out=r,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=d,i.bits=p}},{}],12:[function(e,t,i){"use strict";function a(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new d.Buf32(ce),t.distcode=t.distdyn=new d.Buf32(he),t.sane=1,t.back=-1,b):E}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):E}function o(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,s(e))):E}function l(e,t){var i,a;return e?(a=new n,e.state=a,a.window=null,(i=o(e,t))!==b&&(e.state=null),i):E}function u(e){if(de){var t;for(h=new d.Buf32(512),f=new d.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(_,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(y,e.lens,0,32,f,0,e.work,{bits:5}),de=!1}e.lencode=h,e.lenbits=9,e.distcode=f,e.distbits=5}function c(e,t,i,a){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new d.Buf8(r.wsize)),a>=r.wsize?(d.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>a&&(n=a),d.arraySet(r.window,t,i-a,n,r.wnext),(a-=n)?(d.arraySet(r.window,t,i-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var h,f,d=e("../utils/common"),p=e("./adler32"),m=e("./crc32"),S=e("./inffast"),g=e("./inftrees"),T=0,_=1,y=2,I=4,D=5,v=6,b=0,A=1,C=2,E=-2,w=-3,P=-4,N=-5,O=8,x=1,R=2,L=3,M=4,F=5,U=6,k=7,B=8,q=9,G=10,V=11,z=12,Q=13,H=14,Y=15,j=16,X=17,Z=18,W=19,K=20,J=21,$=22,ee=23,te=24,ie=25,ae=26,ne=27,re=28,se=29,oe=30,le=31,ue=32,ce=852,he=592,fe=15,de=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=function(e){return l(e,fe)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,r,s,o,l,h,f,ce,he,fe,de,pe,me,Se,ge,Te,_e,ye,Ie,De,ve,be,Ae,Ce=0,Ee=new d.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(i=e.state).mode===z&&(i.mode=Q),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,he=l,fe=h,ve=b;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=Q;break}for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(2&i.wrap&&35615===f){i.check=0,Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0),f=0,ce=0,i.mode=R;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",i.mode=oe;break}if((15&f)!==O){e.msg="unknown compression method",i.mode=oe;break}if(f>>>=4,ce-=4,De=8+(15&f),0===i.wbits)i.wbits=De;else if(De>i.wbits){e.msg="invalid window size",i.mode=oe;break}i.dmax=1<<De,e.adler=i.check=1,i.mode=512&f?G:z,f=0,ce=0;break;case R:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.flags=f,(255&i.flags)!==O){e.msg="unknown compression method",i.mode=oe;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=oe;break}i.head&&(i.head.text=f>>8&1),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=L;case L:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.time=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,Ee[2]=f>>>16&255,Ee[3]=f>>>24&255,i.check=m(i.check,Ee,4,0)),f=0,ce=0,i.mode=M;case M:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.xflags=255&f,i.head.os=f>>8),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=F;case F:if(1024&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length=f,i.head&&(i.head.extra_len=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&((de=i.length)>l&&(de=l),de&&(i.head&&(De=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,n,s,de,De)),512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,i.length-=de),i.length))break e;i.length=0,i.mode=k;case k:if(2048&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.name+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.comment+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.comment=null);i.mode=q;case q:if(512&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(65535&i.check)){e.msg="header crc mismatch",i.mode=oe;break}f=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=z;break;case G:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}e.adler=i.check=a(f),f=0,ce=0,i.mode=V;case V:if(0===i.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,C;e.adler=i.check=1,i.mode=z;case z:if(t===D||t===v)break e;case Q:if(i.last){f>>>=7&ce,ce-=7&ce,i.mode=ne;break}for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}switch(i.last=1&f,f>>>=1,ce-=1,3&f){case 0:i.mode=H;break;case 1:if(u(i),i.mode=K,t===v){f>>>=2,ce-=2;break e}break;case 2:i.mode=X;break;case 3:e.msg="invalid block type",i.mode=oe}f>>>=2,ce-=2;break;case H:for(f>>>=7&ce,ce-=7&ce;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",i.mode=oe;break}if(i.length=65535&f,f=0,ce=0,i.mode=Y,t===v)break e;case Y:i.mode=j;case j:if(de=i.length){if(de>l&&(de=l),de>h&&(de=h),0===de)break e;d.arraySet(r,n,s,de,o),l-=de,s+=de,h-=de,o+=de,i.length-=de;break}i.mode=z;break;case X:for(;ce<14;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.nlen=257+(31&f),f>>>=5,ce-=5,i.ndist=1+(31&f),f>>>=5,ce-=5,i.ncode=4+(15&f),f>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=oe;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.lens[we[i.have++]]=7&f,f>>>=3,ce-=3}for(;i.have<19;)i.lens[we[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,be={bits:i.lenbits},ve=g(T,i.lens,0,19,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid code lengths set",i.mode=oe;break}i.have=0,i.mode=W;case W:for(;i.have<i.nlen+i.ndist;){for(;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(Te<16)f>>>=Se,ce-=Se,i.lens[i.have++]=Te;else{if(16===Te){for(Ae=Se+2;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f>>>=Se,ce-=Se,0===i.have){e.msg="invalid bit length repeat",i.mode=oe;break}De=i.lens[i.have-1],de=3+(3&f),f>>>=2,ce-=2}else if(17===Te){for(Ae=Se+3;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=3+(7&(f>>>=Se)),f>>>=3,ce-=3}else{for(Ae=Se+7;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=11+(127&(f>>>=Se)),f>>>=7,ce-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=oe;break}for(;de--;)i.lens[i.have++]=De}}if(i.mode===oe)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=oe;break}if(i.lenbits=9,be={bits:i.lenbits},ve=g(_,i.lens,0,i.nlen,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid literal/lengths set",i.mode=oe;break}if(i.distbits=6,i.distcode=i.distdyn,be={bits:i.distbits},ve=g(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,be),i.distbits=be.bits,ve){e.msg="invalid distances set",i.mode=oe;break}if(i.mode=K,t===v)break e;case K:i.mode=J;case J:if(l>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,S(e,fe),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(ge&&0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.lencode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,i.length=Te,0===ge){i.mode=ae;break}if(32&ge){i.back=-1,i.mode=z;break}if(64&ge){e.msg="invalid literal/length code",i.mode=oe;break}i.extra=15&ge,i.mode=$;case $:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;Ce=i.distcode[f&(1<<i.distbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.distcode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,64&ge){e.msg="invalid distance code",i.mode=oe;break}i.offset=Te,i.extra=15&ge,i.mode=te;case te:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.offset+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=oe;break}i.mode=ie;case ie:if(0===h)break e;if(de=fe-h,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=oe;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),me=i.window}else me=r,pe=o-i.offset,de=i.length;de>h&&(de=h),h-=de,i.length-=de;do{r[o++]=me[pe++]}while(--de);0===i.length&&(i.mode=J);break;case ae:if(0===h)break e;r[o++]=i.length,h--,i.mode=J;break;case ne:if(i.wrap){for(;ce<32;){if(0===l)break e;l--,f|=n[s++]<<ce,ce+=8}if(fe-=h,e.total_out+=fe,i.total+=fe,fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,o-fe):p(i.check,r,fe,o-fe)),fe=h,(i.flags?f:a(f))!==i.check){e.msg="incorrect data check",i.mode=oe;break}f=0,ce=0}i.mode=re;case re:if(i.wrap&&i.flags){for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=oe;break}f=0,ce=0}i.mode=se;case se:ve=A;break e;case oe:ve=w;break e;case le:return P;case ue:default:return E}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,(i.wsize||fe!==e.avail_out&&i.mode<oe&&(i.mode<ne||t!==I))&&c(e,e.output,e.next_out,fe-e.avail_out)?(i.mode=le,P):(he-=e.avail_in,fe-=e.avail_out,e.total_in+=he,e.total_out+=fe,i.total+=fe,i.wrap&&fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,e.next_out-fe):p(i.check,r,fe,e.next_out-fe)),e.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===K||i.mode===Y?256:0),(0===he&&0===fe||t===I)&&ve===b&&(ve=N),ve)},i.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,b},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?E:(i.head=t,t.done=!1,b):E},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":4,"./adler32":6,"./crc32":8,"./inffast":11,"./inftrees":13}],13:[function(e,t,i){"use strict";var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,c,h,f){var d,p,m,S,g,T,_,y,I,D=f.bits,v=0,b=0,A=0,C=0,E=0,w=0,P=0,N=0,O=0,x=0,R=null,L=0,M=new a.Buf16(16),F=new a.Buf16(16),U=null,k=0;for(v=0;v<=15;v++)M[v]=0;for(b=0;b<l;b++)M[t[i+b]]++;for(E=D,C=15;C>=1&&0===M[C];C--);if(E>C&&(E=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(A=1;A<C&&0===M[A];A++);for(E<A&&(E=A),N=1,v=1;v<=15;v++)if(N<<=1,(N-=M[v])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(F[1]=0,v=1;v<15;v++)F[v+1]=F[v]+M[v];for(b=0;b<l;b++)0!==t[i+b]&&(h[F[t[i+b]]++]=b);if(0===e?(R=U=h,T=19):1===e?(R=n,L-=257,U=r,k-=257,T=256):(R=s,U=o,T=-1),x=0,b=0,v=A,g=c,w=E,P=0,m=-1,O=1<<E,S=O-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){0,_=v-P,h[b]<T?(y=0,I=h[b]):h[b]>T?(y=U[k+h[b]],I=R[L+h[b]]):(y=96,I=0),d=1<<v-P,A=p=1<<w;do{u[g+(x>>P)+(p-=d)]=_<<24|y<<16|I|0}while(0!==p);for(d=1<<v-1;x&d;)d>>=1;if(0!==d?(x&=d-1,x+=d):x=0,b++,0==--M[v]){if(v===C)break;v=t[i+h[b]]}if(v>E&&(x&S)!==m){for(0===P&&(P=E),g+=A,N=1<<(w=v-P);w+P<C&&!((N-=M[w+P])<=0);)w++,N<<=1;if(O+=1<<w,1===e&&O>852||2===e&&O>592)return 1;u[m=x&S]=E<<24|w<<16|g-c|0}}return 0!==x&&(u[g+x]=v-P<<24|64<<16|0),f.bits=E,0}},{"../utils/common":4}],14:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],15:[function(e,t,i){"use strict";function a(e){for(var t=e.length;--t>=0;)e[t]=0}function n(e){return e<256?$[e]:$[256+(e>>>7)]}function r(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function s(e,t,i){e.bi_valid>G-i?(e.bi_buf|=t<<e.bi_valid&65535,r(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=i-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function o(e,t,i){s(e,i[2*t],i[2*t+1])}function l(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function u(e){16===e.bi_valid?(r(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function c(e,t){var i,a,n,r,s,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(r=0;r<=q;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<B;i++)(r=l[2*l[2*(a=e.heap[i])+1]+1]+1)>p&&(r=p,m++),l[2*a+1]=r,a>u||(e.bl_count[r]++,s=0,a>=d&&(s=f[a-d]),o=l[2*a],e.opt_len+=o*(r+s),h&&(e.static_len+=o*(c[2*a+1]+s)));if(0!==m){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(a=e.bl_count[r];0!==a;)(n=e.heap[--i])>u||(l[2*n+1]!==r&&(e.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),a--)}}function h(e,t,i){var a,n,r=new Array(q+1),s=0;for(a=1;a<=q;a++)r[a]=s=s+i[a-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=l(r[o]++,o))}}function f(){var e,t,i,a,n,r=new Array(q+1);for(i=0,a=0;a<L-1;a++)for(te[a]=i,e=0;e<1<<j[a];e++)ee[i++]=a;for(ee[i-1]=a,n=0,a=0;a<16;a++)for(ie[a]=n,e=0;e<1<<X[a];e++)$[n++]=a;for(n>>=7;a<U;a++)for(ie[a]=n<<7,e=0;e<1<<X[a]-7;e++)$[256+n++]=a;for(t=0;t<=q;t++)r[t]=0;for(e=0;e<=143;)K[2*e+1]=8,e++,r[8]++;for(;e<=255;)K[2*e+1]=9,e++,r[9]++;for(;e<=279;)K[2*e+1]=7,e++,r[7]++;for(;e<=287;)K[2*e+1]=8,e++,r[8]++;for(h(K,F+1,r),e=0;e<U;e++)J[2*e+1]=5,J[2*e]=l(e,5);ae=new se(K,j,M+1,F,q),ne=new se(J,X,0,U,q),re=new se(new Array(0),Z,0,k,V)}function d(e){var t;for(t=0;t<F;t++)e.dyn_ltree[2*t]=0;for(t=0;t<U;t++)e.dyn_dtree[2*t]=0;for(t=0;t<k;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function p(e){e.bi_valid>8?r(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,i,a){p(e),a&&(r(e,i),r(e,~i)),C.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function S(e,t,i,a){var n=2*t,r=2*i;return e[n]<e[r]||e[n]===e[r]&&a[t]<=a[i]}function g(e,t,i){for(var a=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&S(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!S(t,a,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=a}function T(e,t,i){var a,r,l,u,c=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===a?o(e,r,t):(o(e,(l=ee[r])+M+1,t),0!==(u=j[l])&&s(e,r-=te[l],u),o(e,l=n(--a),i),0!==(u=X[l])&&s(e,a-=ie[l],u))}while(c<e.last_lit);o(e,z,t)}function _(e,t){var i,a,n,r=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=B,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=s[2*n+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)g(e,r,i);n=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=a,r[2*n]=r[2*i]+r[2*a],e.depth[n]=(e.depth[i]>=e.depth[a]?e.depth[i]:e.depth[a])+1,r[2*i+1]=r[2*a+1]=n,e.heap[1]=n++,g(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],c(e,t),h(r,u,e.bl_count)}function y(e,t,i){var a,n,r=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(i+1)+1]=65535,a=0;a<=i;a++)n=s,s=t[2*(a+1)+1],++o<l&&n===s||(o<u?e.bl_tree[2*n]+=o:0!==n?(n!==r&&e.bl_tree[2*n]++,e.bl_tree[2*Q]++):o<=10?e.bl_tree[2*H]++:e.bl_tree[2*Y]++,o=0,r=n,0===s?(l=138,u=3):n===s?(l=6,u=3):(l=7,u=4))}function I(e,t,i){var a,n,r=-1,l=t[1],u=0,c=7,h=4;for(0===l&&(c=138,h=3),a=0;a<=i;a++)if(n=l,l=t[2*(a+1)+1],!(++u<c&&n===l)){if(u<h)do{o(e,n,e.bl_tree)}while(0!=--u);else 0!==n?(n!==r&&(o(e,n,e.bl_tree),u--),o(e,Q,e.bl_tree),s(e,u-3,2)):u<=10?(o(e,H,e.bl_tree),s(e,u-3,3)):(o(e,Y,e.bl_tree),s(e,u-11,7));u=0,r=n,0===l?(c=138,h=3):n===l?(c=6,h=3):(c=7,h=4)}}function D(e){var t;for(y(e,e.dyn_ltree,e.l_desc.max_code),y(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=k-1;t>=3&&0===e.bl_tree[2*W[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function v(e,t,i,a){var n;for(s(e,t-257,5),s(e,i-1,5),s(e,a-4,4),n=0;n<a;n++)s(e,e.bl_tree[2*W[n]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,i-1)}function b(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return w;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return P;for(t=32;t<M;t++)if(0!==e.dyn_ltree[2*t])return P;return w}function A(e,t,i,a){s(e,(O<<1)+(a?1:0),3),m(e,t,i,!0)}var C=e("../utils/common"),E=4,w=0,P=1,N=2,O=0,x=1,R=2,L=29,M=256,F=M+1+L,U=30,k=19,B=2*F+1,q=15,G=16,V=7,z=256,Q=16,H=17,Y=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(F+2));a(K);var J=new Array(2*U);a(J);var $=new Array(512);a($);var ee=new Array(256);a(ee);var te=new Array(L);a(te);var ie=new Array(U);a(ie);var ae,ne,re,se=function(e,t,i,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=e&&e.length},oe=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t},le=!1;i._tr_init=function(e){le||(f(),le=!0),e.l_desc=new oe(e.dyn_ltree,ae),e.d_desc=new oe(e.dyn_dtree,ne),e.bl_desc=new oe(e.bl_tree,re),e.bi_buf=0,e.bi_valid=0,d(e)},i._tr_stored_block=A,i._tr_flush_block=function(e,t,i,a){var n,r,o=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=b(e)),_(e,e.l_desc),_(e,e.d_desc),o=D(e),n=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=n&&(n=r)):n=r=i+5,i+4<=n&&-1!==t?A(e,t,i,a):e.strategy===E||r===n?(s(e,(x<<1)+(a?1:0),3),T(e,K,J)):(s(e,(R<<1)+(a?1:0),3),v(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),T(e,e.dyn_ltree,e.dyn_dtree)),d(e),a&&p(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(ee[i]+M+1)]++,e.dyn_dtree[2*n(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){s(e,x<<1,3),o(e,z,K),u(e)}},{"../utils/common":4}],16:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],17:[function(e,t,i){"use strict";var a=a||{};a.NIFTI1=a.NIFTI1||(void 0!==e?e("./nifti1.js"):null),a.NIFTI2=a.NIFTI2||(void 0!==e?e("./nifti2.js"):null),a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null);var n=n||(void 0!==e?e("pako"):null);a.isNIFTI1=function(e){var t,i,n,r;return!(e.byteLength<a.NIFTI1.STANDARD_HEADER_SIZE)&&((t=new DataView(e))&&(i=t.getUint8(a.NIFTI1.MAGIC_NUMBER_LOCATION)),n=t.getUint8(a.NIFTI1.MAGIC_NUMBER_LOCATION+1),r=t.getUint8(a.NIFTI1.MAGIC_NUMBER_LOCATION+2),!(i!==a.NIFTI1.MAGIC_NUMBER[0]||n!==a.NIFTI1.MAGIC_NUMBER[1]||r!==a.NIFTI1.MAGIC_NUMBER[2]))},a.isNIFTI2=function(e){var t,i,n,r;return!(e.byteLength<a.NIFTI1.STANDARD_HEADER_SIZE)&&(t=new DataView(e),i=t.getUint8(a.NIFTI2.MAGIC_NUMBER_LOCATION),n=t.getUint8(a.NIFTI2.MAGIC_NUMBER_LOCATION+1),r=t.getUint8(a.NIFTI2.MAGIC_NUMBER_LOCATION+2),!(i!==a.NIFTI2.MAGIC_NUMBER[0]||n!==a.NIFTI2.MAGIC_NUMBER[1]||r!==a.NIFTI2.MAGIC_NUMBER[2]))},a.isNIFTI=function(e){return a.isNIFTI1(e)||a.isNIFTI2(e)},a.isCompressed=function(e){var t,i,n;if(e){if(t=new DataView(e),i=t.getUint8(0),n=t.getUint8(1),i===a.Utils.GUNZIP_MAGIC_COOKIE1)return!0;if(n===a.Utils.GUNZIP_MAGIC_COOKIE2)return!0}return!1},a.decompress=function(e){return n.inflate(e).buffer},a.readHeader=function(e){var t=null;return a.isCompressed(e)&&(e=a.decompress(e)),a.isNIFTI1(e)?t=new a.NIFTI1:a.isNIFTI2(e)&&(t=new a.NIFTI2),t?t.readHeader(e):console.error("That file does not appear to be NIFTI!"),t},a.hasExtension=function(e){return 0!=e.extensionFlag[0]},a.readImage=function(e,t){var i=e.vox_offset,a=1,n=1;e.dims[4]&&(a=e.dims[4]),e.dims[5]&&(n=e.dims[5]);var r=e.dims[1]*e.dims[2]*e.dims[3]*a*n*(e.numBitsPerVoxel/8);return t.slice(i,i+r)},a.readExtension=function(e,t){var i=e.getExtensionLocation(),a=e.extensionSize;return t.slice(i,i+a)},a.readExtensionData=function(e,t){var i=e.getExtensionLocation(),a=e.extensionSize;return t.slice(i+8,i+a-8)},"undefined"!==typeof t&&t.exports&&(t.exports=a)},{"./nifti1.js":18,"./nifti2.js":19,"./utilities.js":20,pako:1}],18:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.NIFTI1=a.NIFTI1||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.isHDR=!1,this.extensionFlag=[0,0,0,0],this.extensionSize=0,this.extensionCode=0},a.NIFTI1.TYPE_NONE=0,a.NIFTI1.TYPE_BINARY=1,a.NIFTI1.TYPE_UINT8=2,a.NIFTI1.TYPE_INT16=4,a.NIFTI1.TYPE_INT32=8,a.NIFTI1.TYPE_FLOAT32=16,a.NIFTI1.TYPE_COMPLEX64=32,a.NIFTI1.TYPE_FLOAT64=64,a.NIFTI1.TYPE_RGB24=128,a.NIFTI1.TYPE_INT8=256,a.NIFTI1.TYPE_UINT16=512,a.NIFTI1.TYPE_UINT32=768,a.NIFTI1.TYPE_INT64=1024,a.NIFTI1.TYPE_UINT64=1280,a.NIFTI1.TYPE_FLOAT128=1536,a.NIFTI1.TYPE_COMPLEX128=1792,a.NIFTI1.TYPE_COMPLEX256=2048,a.NIFTI1.XFORM_UNKNOWN=0,a.NIFTI1.XFORM_SCANNER_ANAT=1,a.NIFTI1.XFORM_ALIGNED_ANAT=2,a.NIFTI1.XFORM_TALAIRACH=3,a.NIFTI1.XFORM_MNI_152=4,a.NIFTI1.SPATIAL_UNITS_MASK=7,a.NIFTI1.TEMPORAL_UNITS_MASK=56,a.NIFTI1.UNITS_UNKNOWN=0,a.NIFTI1.UNITS_METER=1,a.NIFTI1.UNITS_MM=2,a.NIFTI1.UNITS_MICRON=3,a.NIFTI1.UNITS_SEC=8,a.NIFTI1.UNITS_MSEC=16,a.NIFTI1.UNITS_USEC=24,a.NIFTI1.UNITS_HZ=32,a.NIFTI1.UNITS_PPM=40,a.NIFTI1.UNITS_RADS=48,a.NIFTI1.MAGIC_COOKIE=348,a.NIFTI1.STANDARD_HEADER_SIZE=348,a.NIFTI1.MAGIC_NUMBER_LOCATION=344,a.NIFTI1.MAGIC_NUMBER=[110,43,49],a.NIFTI1.MAGIC_NUMBER2=[110,105,49],a.NIFTI1.EXTENSION_HEADER_SIZE=8,a.NIFTI1.prototype.readHeader=function(e){var t,i,n,r,s=new DataView(e),o=a.Utils.getIntAt(s,0,this.littleEndian);if(o!==a.NIFTI1.MAGIC_COOKIE&&(this.littleEndian=!0,o=a.Utils.getIntAt(s,0,this.littleEndian)),o!==a.NIFTI1.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=a.Utils.getByteAt(s,39),t=0;t<8;t+=1)r=40+2*t,this.dims[t]=a.Utils.getShortAt(s,r,this.littleEndian);for(this.intent_p1=a.Utils.getFloatAt(s,56,this.littleEndian),this.intent_p2=a.Utils.getFloatAt(s,60,this.littleEndian),this.intent_p3=a.Utils.getFloatAt(s,64,this.littleEndian),this.intent_code=a.Utils.getShortAt(s,68,this.littleEndian),this.datatypeCode=a.Utils.getShortAt(s,70,this.littleEndian),this.numBitsPerVoxel=a.Utils.getShortAt(s,72,this.littleEndian),this.slice_start=a.Utils.getShortAt(s,74,this.littleEndian),t=0;t<8;t+=1)r=76+4*t,this.pixDims[t]=a.Utils.getFloatAt(s,r,this.littleEndian);for(this.vox_offset=a.Utils.getFloatAt(s,108,this.littleEndian),this.scl_slope=a.Utils.getFloatAt(s,112,this.littleEndian),this.scl_inter=a.Utils.getFloatAt(s,116,this.littleEndian),this.slice_end=a.Utils.getShortAt(s,120,this.littleEndian),this.slice_code=a.Utils.getByteAt(s,122),this.xyzt_units=a.Utils.getByteAt(s,123),this.cal_max=a.Utils.getFloatAt(s,124,this.littleEndian),this.cal_min=a.Utils.getFloatAt(s,128,this.littleEndian),this.slice_duration=a.Utils.getFloatAt(s,132,this.littleEndian),this.toffset=a.Utils.getFloatAt(s,136,this.littleEndian),this.description=a.Utils.getStringAt(s,148,228),this.aux_file=a.Utils.getStringAt(s,228,252),this.qform_code=a.Utils.getShortAt(s,252,this.littleEndian),this.sform_code=a.Utils.getShortAt(s,254,this.littleEndian),this.quatern_b=a.Utils.getFloatAt(s,256,this.littleEndian),this.quatern_c=a.Utils.getFloatAt(s,260,this.littleEndian),this.quatern_d=a.Utils.getFloatAt(s,264,this.littleEndian),this.qoffset_x=a.Utils.getFloatAt(s,268,this.littleEndian),this.qoffset_y=a.Utils.getFloatAt(s,272,this.littleEndian),this.qoffset_z=a.Utils.getFloatAt(s,276,this.littleEndian),i=0;i<3;i+=1)for(n=0;n<4;n+=1)r=280+4*(4*i+n),this.affine[i][n]=a.Utils.getFloatAt(s,r,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=a.Utils.getStringAt(s,328,344),this.magic=a.Utils.getStringAt(s,344,348),this.isHDR=this.magic===a.NIFTI1.MAGIC_NUMBER2,s.byteLength>a.NIFTI1.MAGIC_COOKIE&&(this.extensionFlag[0]=a.Utils.getByteAt(s,348),this.extensionFlag[1]=a.Utils.getByteAt(s,349),this.extensionFlag[2]=a.Utils.getByteAt(s,350),this.extensionFlag[3]=a.Utils.getByteAt(s,351),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(s),this.extensionCode=this.getExtensionCode(s)))},a.NIFTI1.prototype.toFormattedString=function(){var e=a.Utils.formatNumber,t="";return t+="Dim Info = "+this.dim_info+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Intent Code = "+this.intent_code+"\n",t+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel = "+this.numBitsPerVoxel+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Slice End = "+this.slice_end+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(a.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(a.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+='Description: "'+this.description+'"\n',t+='Auxiliary File: "'+this.aux_file+'"\n',t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+='Intent Name: "'+this.intent_name+'"\n',this.extensionFlag[0]&&(t+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+"\n"),t},a.NIFTI1.prototype.getDatatypeCodeString=function(e){return e===a.NIFTI1.TYPE_UINT8?"1-Byte Unsigned Integer":e===a.NIFTI1.TYPE_INT16?"2-Byte Signed Integer":e===a.NIFTI1.TYPE_INT32?"4-Byte Signed Integer":e===a.NIFTI1.TYPE_FLOAT32?"4-Byte Float":e===a.NIFTI1.TYPE_FLOAT64?"8-Byte Float":e===a.NIFTI1.TYPE_RGB24?"RGB":e===a.NIFTI1.TYPE_INT8?"1-Byte Signed Integer":e===a.NIFTI1.TYPE_UINT16?"2-Byte Unsigned Integer":e===a.NIFTI1.TYPE_UINT32?"4-Byte Unsigned Integer":e===a.NIFTI1.TYPE_INT64?"8-Byte Signed Integer":e===a.NIFTI1.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"},a.NIFTI1.prototype.getTransformCodeString=function(e){return e===a.NIFTI1.XFORM_SCANNER_ANAT?"Scanner":e===a.NIFTI1.XFORM_ALIGNED_ANAT?"Aligned":e===a.NIFTI1.XFORM_TALAIRACH?"Talairach":e===a.NIFTI1.XFORM_MNI_152?"MNI":"Unknown"},a.NIFTI1.prototype.getUnitsCodeString=function(e){return e===a.NIFTI1.UNITS_METER?"Meters":e===a.NIFTI1.UNITS_MM?"Millimeters":e===a.NIFTI1.UNITS_MICRON?"Microns":e===a.NIFTI1.UNITS_SEC?"Seconds":e===a.NIFTI1.UNITS_MSEC?"Milliseconds":e===a.NIFTI1.UNITS_USEC?"Microseconds":e===a.NIFTI1.UNITS_HZ?"Hz":e===a.NIFTI1.UNITS_PPM?"PPM":e===a.NIFTI1.UNITS_RADS?"Rads":"Unknown"},a.NIFTI1.prototype.getQformMat=function(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])},a.NIFTI1.prototype.convertNiftiQFormToNiftiSForm=function(e,t,i,a,n,r,s,o,l,u){var c,h,f,d,p=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],m=e,S=t,g=i;return p[3][0]=p[3][1]=p[3][2]=0,p[3][3]=1,(c=1-(m*m+S*S+g*g))<1e-7?(m*=c=1/Math.sqrt(m*m+S*S+g*g),S*=c,g*=c,c=0):c=Math.sqrt(c),h=s>0?s:1,f=o>0?o:1,d=l>0?l:1,u<0&&(d=-d),p[0][0]=(c*c+m*m-S*S-g*g)*h,p[0][1]=2*(m*S-c*g)*f,p[0][2]=2*(m*g+c*S)*d,p[1][0]=2*(m*S+c*g)*h,p[1][1]=(c*c+S*S-m*m-g*g)*f,p[1][2]=2*(S*g-c*m)*d,p[2][0]=2*(m*g-c*S)*h,p[2][1]=2*(S*g+c*m)*f,p[2][2]=(c*c+g*g-S*S-m*m)*d,p[0][3]=a,p[1][3]=n,p[2][3]=r,p},a.NIFTI1.prototype.convertNiftiSFormToNEMA=function(e){var t,i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C,E,w,P,N,O,x,R;if(p=0,C=[[0,0,0],[0,0,0],[0,0,0]],E=[[0,0,0],[0,0,0],[0,0,0]],t=e[0][0],i=e[0][1],a=e[0][2],n=e[1][0],r=e[1][1],s=e[1][2],o=e[2][0],l=e[2][1],u=e[2][2],0===(c=Math.sqrt(t*t+n*n+o*o)))return null;if(t/=c,n/=c,o/=c,0===(c=Math.sqrt(i*i+r*r+l*l)))return null;if(i/=c,r/=c,l/=c,c=t*i+n*r+o*l,Math.abs(c)>1e-4){if(i-=c*t,r-=c*n,l-=c*o,0===(c=Math.sqrt(i*i+r*r+l*l)))return null;i/=c,r/=c,l/=c}if(0===(c=Math.sqrt(a*a+s*s+u*u))?(a=n*l-o*r,s=o*i-l*t,u=t*r-n*i):(a/=c,s/=c,u/=c),c=t*a+n*s+o*u,Math.abs(c)>1e-4){if(a-=c*t,s-=c*n,u-=c*o,0===(c=Math.sqrt(a*a+s*s+u*u)))return null;a/=c,s/=c,u/=c}if(c=i*a+r*s+l*u,Math.abs(c)>1e-4){if(a-=c*i,s-=c*r,u-=c*l,0===(c=Math.sqrt(a*a+s*s+u*u)))return null;a/=c,s/=c,u/=c}if(C[0][0]=t,C[0][1]=i,C[0][2]=a,C[1][0]=n,C[1][1]=r,C[1][2]=s,C[2][0]=o,C[2][1]=l,C[2][2]=u,0===(h=this.nifti_mat33_determ(C)))return null;for(A=-666,T=I=D=v=1,_=2,y=3,f=1;f<=3;f+=1)for(d=1;d<=3;d+=1)if(f!==d)for(p=1;p<=3;p+=1)if(f!==p&&d!==p)for(E[0][0]=E[0][1]=E[0][2]=E[1][0]=E[1][1]=E[1][2]=E[2][0]=E[2][1]=E[2][2]=0,m=-1;m<=1;m+=2)for(S=-1;S<=1;S+=2)for(g=-1;g<=1;g+=2)E[0][f-1]=m,E[1][d-1]=S,E[2][p-1]=g,this.nifti_mat33_determ(E)*h>0&&(c=(b=this.nifti_mat33_mul(E,C))[0][0]+b[1][1]+b[2][2])>A&&(A=c,T=f,_=d,y=p,I=m,D=S,v=g);switch(w=P=N=O=x=R=0,T*I){case 1:w="X",O="+";break;case-1:w="X",O="-";break;case 2:w="Y",O="+";break;case-2:w="Y",O="-";break;case 3:w="Z",O="+";break;case-3:w="Z",O="-"}switch(_*D){case 1:P="X",x="+";break;case-1:P="X",x="-";break;case 2:P="Y",x="+";break;case-2:P="Y",x="-";break;case 3:P="Z",x="+";break;case-3:P="Z",x="-"}switch(y*v){case 1:N="X",R="+";break;case-1:N="X",R="-";break;case 2:N="Y",R="+";break;case-2:N="Y",R="-";break;case 3:N="Z",R="+";break;case-3:N="Z",R="-"}return w+P+N+O+x+R},a.NIFTI1.prototype.nifti_mat33_mul=function(e,t){var i,a,n=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<3;i+=1)for(a=0;a<3;a+=1)n[i][a]=e[i][0]*t[0][a]+e[i][1]*t[1][a]+e[i][2]*t[2][a];return n},a.NIFTI1.prototype.nifti_mat33_determ=function(e){var t,i,a,n,r,s,o,l,u;return t=e[0][0],i=e[0][1],a=e[0][2],n=e[1][0],r=e[1][1],s=e[1][2],o=e[2][0],l=e[2][1],u=e[2][2],t*r*u-t*l*s-n*i*u+n*l*a+o*i*s-o*r*a},a.NIFTI1.prototype.getExtensionLocation=function(){return a.NIFTI1.MAGIC_COOKIE+4},a.NIFTI1.prototype.getExtensionSize=function(e){return a.Utils.getIntAt(e,this.getExtensionLocation(),this.littleEndian)},a.NIFTI1.prototype.getExtensionCode=function(e){return a.Utils.getIntAt(e,this.getExtensionLocation()+4,this.littleEndian)},"undefined"!==typeof t&&t.exports&&(t.exports=a.NIFTI1)},{"./utilities.js":20}],19:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.NIFTI1=a.NIFTI1||(void 0!==e?e("./nifti1.js"):null),a.NIFTI2=a.NIFTI2||function(){this.littleEndian=!1,this.dim_info=0,this.dims=[],this.intent_p1=0,this.intent_p2=0,this.intent_p3=0,this.intent_code=0,this.datatypeCode=0,this.numBitsPerVoxel=0,this.slice_start=0,this.slice_end=0,this.slice_code=0,this.pixDims=[],this.vox_offset=0,this.scl_slope=1,this.scl_inter=0,this.xyzt_units=0,this.cal_max=0,this.cal_min=0,this.slice_duration=0,this.toffset=0,this.description="",this.aux_file="",this.intent_name="",this.qform_code=0,this.sform_code=0,this.quatern_b=0,this.quatern_c=0,this.quatern_d=0,this.qoffset_x=0,this.qoffset_y=0,this.qoffset_z=0,this.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.magic=0,this.extensionFlag=[0,0,0,0]},a.NIFTI2.MAGIC_COOKIE=540,a.NIFTI2.MAGIC_NUMBER_LOCATION=4,a.NIFTI2.MAGIC_NUMBER=[110,43,50,0,13,10,26,10],a.NIFTI2.prototype.readHeader=function(e){var t,i,n,r,s=new DataView(e),o=a.Utils.getIntAt(s,0,this.littleEndian);if(o!==a.NIFTI2.MAGIC_COOKIE&&(this.littleEndian=!0,o=a.Utils.getIntAt(s,0,this.littleEndian)),o!==a.NIFTI2.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.datatypeCode=a.Utils.getShortAt(s,12,this.littleEndian),this.numBitsPerVoxel=a.Utils.getShortAt(s,14,this.littleEndian),t=0;t<8;t+=1)r=16+8*t,this.dims[t]=a.Utils.getLongAt(s,r,this.littleEndian);for(this.intent_p1=a.Utils.getDoubleAt(s,80,this.littleEndian),this.intent_p2=a.Utils.getDoubleAt(s,88,this.littleEndian),this.intent_p3=a.Utils.getDoubleAt(s,96,this.littleEndian),t=0;t<8;t+=1)r=104+8*t,this.pixDims[t]=a.Utils.getDoubleAt(s,r,this.littleEndian);for(this.vox_offset=a.Utils.getLongAt(s,168,this.littleEndian),this.scl_slope=a.Utils.getDoubleAt(s,176,this.littleEndian),this.scl_inter=a.Utils.getDoubleAt(s,184,this.littleEndian),this.cal_max=a.Utils.getDoubleAt(s,192,this.littleEndian),this.cal_min=a.Utils.getDoubleAt(s,200,this.littleEndian),this.slice_duration=a.Utils.getDoubleAt(s,208,this.littleEndian),this.toffset=a.Utils.getDoubleAt(s,216,this.littleEndian),this.slice_start=a.Utils.getLongAt(s,224,this.littleEndian),this.slice_end=a.Utils.getLongAt(s,232,this.littleEndian),this.description=a.Utils.getStringAt(s,240,320),this.aux_file=a.Utils.getStringAt(s,320,344),this.qform_code=a.Utils.getIntAt(s,344,this.littleEndian),this.sform_code=a.Utils.getIntAt(s,348,this.littleEndian),this.quatern_b=a.Utils.getDoubleAt(s,352,this.littleEndian),this.quatern_c=a.Utils.getDoubleAt(s,360,this.littleEndian),this.quatern_d=a.Utils.getDoubleAt(s,368,this.littleEndian),this.qoffset_x=a.Utils.getDoubleAt(s,376,this.littleEndian),this.qoffset_y=a.Utils.getDoubleAt(s,384,this.littleEndian),this.qoffset_z=a.Utils.getDoubleAt(s,392,this.littleEndian),i=0;i<3;i+=1)for(n=0;n<4;n+=1)r=400+8*(4*i+n),this.affine[i][n]=a.Utils.getDoubleAt(s,r,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=a.Utils.getIntAt(s,496,this.littleEndian),this.xyzt_units=a.Utils.getIntAt(s,500,this.littleEndian),this.intent_code=a.Utils.getIntAt(s,504,this.littleEndian),this.intent_name=a.Utils.getStringAt(s,508,524),this.dim_info=a.Utils.getByteAt(s,524),s.byteLength>a.NIFTI2.MAGIC_COOKIE&&(this.extensionFlag[0]=a.Utils.getByteAt(s,540),this.extensionFlag[1]=a.Utils.getByteAt(s,541),this.extensionFlag[2]=a.Utils.getByteAt(s,542),this.extensionFlag[3]=a.Utils.getByteAt(s,543),this.extensionFlag[0]&&(this.extensionSize=this.getExtensionSize(s),this.extensionCode=this.getExtensionCode(s)))},a.NIFTI2.prototype.toFormattedString=function(){var e=a.Utils.formatNumber,t="";return t+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+")\n",t+="Bits Per Voxel =  = "+this.numBitsPerVoxel+"\n",t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+"\n",t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+"\n",t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+"\n",t+="Image Offset = "+this.vox_offset+"\n",t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+"\n",t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+"\n",t+="Slice Duration = "+this.slice_duration+"\n",t+="Time Axis Shift = "+this.toffset+"\n",t+="Slice Start = "+this.slice_start+"\n",t+="Slice End = "+this.slice_end+"\n",t+='Description: "'+this.description+'"\n',t+='Auxiliary File: "'+this.aux_file+'"\n',t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+")\n",t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+")\n",t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+"\n",t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+"\n",t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+"\n",t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+"\n",t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+"\n",t+="Slice Code = "+this.slice_code+"\n",t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(a.NIFTI1.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(a.NIFTI1.TEMPORAL_UNITS_MASK&this.xyzt_units)+")\n",t+="Intent Code = "+this.intent_code+"\n",t+='Intent Name: "'+this.intent_name+'"\n',t+="Dim Info = "+this.dim_info+"\n"},a.NIFTI2.prototype.getExtensionLocation=function(){return a.NIFTI2.MAGIC_COOKIE+4},a.NIFTI2.prototype.getExtensionSize=a.NIFTI1.prototype.getExtensionSize,a.NIFTI2.prototype.getExtensionCode=a.NIFTI1.prototype.getExtensionCode,a.NIFTI2.prototype.getDatatypeCodeString=a.NIFTI1.prototype.getDatatypeCodeString,a.NIFTI2.prototype.getTransformCodeString=a.NIFTI1.prototype.getTransformCodeString,a.NIFTI2.prototype.getUnitsCodeString=a.NIFTI1.prototype.getUnitsCodeString,a.NIFTI2.prototype.getQformMat=a.NIFTI1.prototype.getQformMat,a.NIFTI2.prototype.convertNiftiQFormToNiftiSForm=a.NIFTI1.prototype.convertNiftiQFormToNiftiSForm,a.NIFTI2.prototype.convertNiftiSFormToNEMA=a.NIFTI1.prototype.convertNiftiSFormToNEMA,a.NIFTI2.prototype.nifti_mat33_mul=a.NIFTI1.prototype.nifti_mat33_mul,a.NIFTI2.prototype.nifti_mat33_determ=a.NIFTI1.prototype.nifti_mat33_determ,"undefined"!==typeof t&&t.exports&&(t.exports=a.NIFTI2)},{"./nifti1.js":18,"./utilities.js":20}],20:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||{},a.Utils.crcTable=null,a.Utils.GUNZIP_MAGIC_COOKIE1=31,a.Utils.GUNZIP_MAGIC_COOKIE2=139,a.Utils.getStringAt=function(e,t,i){var a,n,r="";for(a=t;a<i;a+=1)0!==(n=e.getUint8(a))&&(r+=String.fromCharCode(n));return r},a.Utils.getByteAt=function(e,t){return e.getInt8(t)},a.Utils.getShortAt=function(e,t,i){return e.getInt16(t,i)},a.Utils.getIntAt=function(e,t,i){return e.getInt32(t,i)},a.Utils.getFloatAt=function(e,t,i){return e.getFloat32(t,i)},a.Utils.getDoubleAt=function(e,t,i){return e.getFloat64(t,i)},a.Utils.getLongAt=function(e,t,i){var n,r=[],s=0;for(n=0;n<8;n+=1)r[n]=a.Utils.getByteAt(e,t+n,i);for(n=r.length-1;n>=0;n--)s=256*s+r[n];return s},a.Utils.toArrayBuffer=function(e){var t,i,a;for(t=new ArrayBuffer(e.length),i=new Uint8Array(t),a=0;a<e.length;a+=1)i[a]=e[a];return t},a.Utils.isString=function(e){return"string"==typeof e||e instanceof String},a.Utils.formatNumber=function(e,t){var i=0;return i=a.Utils.isString(e)?Number(e):e,i=t?i.toPrecision(5):i.toPrecision(7),parseFloat(i)},a.Utils.makeCRCTable=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t},a.Utils.crc32=function(e){for(var t=a.Utils.crcTable||(a.Utils.crcTable=a.Utils.makeCRCTable()),i=-1,n=0;n<e.byteLength;n++)i=i>>>8^t[255&(i^e.getUint8(n))];return(-1^i)>>>0},"undefined"!==typeof t&&t.exports&&(t.exports=a.Utils)},{}]},{},[17])(17)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).gifti=e()}}(function(){return function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return n(i||e)},c,c.exports,e,t,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(e,t,i){"use strict";var a={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(e){var t=this._keyStr.indexOf(e.charAt(e.length-1)),i=this._keyStr.indexOf(e.charAt(e.length-2)),a=e.length/4*3;64==t&&a--,64==i&&a--;var n=new ArrayBuffer(a);return this.decode(e,n,a),n},decode:function(e,t,i){var a,n,r,s,o,l,u,c=0,h=0;for(a=t?new Uint8Array(t):new Uint8Array(i),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),c=0;c<i;c+=3)n=this._keyStr.indexOf(e.charAt(h++))<<2|(o=this._keyStr.indexOf(e.charAt(h++)))>>4,r=(15&o)<<4|(l=this._keyStr.indexOf(e.charAt(h++)))>>2,s=(3&l)<<6|(u=this._keyStr.indexOf(e.charAt(h++))),a[c]=n,64!=l&&(a[c+1]=r),64!=u&&(a[c+2]=s);return a}};"undefined"!==typeof t&&t.exports&&(t.exports=a)},{}],2:[function(e,t,i){},{}],3:[function(e,t,i){(function(t){"use strict";function a(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e){return this instanceof n?(n.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?r(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):o(this,e)):arguments.length>1?new n(e,arguments[1]):new n(e)}function r(e,t){if(e=p(e,t<0?0:0|m(t)),!n.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;i++)e[i]=0;return e}function s(e,t,i){return"string"==typeof i&&""!==i||(i="utf8"),(e=p(e,0|g(t,i))).write(t,i),e}function o(e,t){if(n.isBuffer(t))return l(e,t);if(Z(t))return u(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return c(e,t);if(t instanceof ArrayBuffer)return h(e,t)}return t.length?f(e,t):d(e,t)}function l(e,t){var i=0|m(t.length);return e=p(e,i),t.copy(e,0,0,i),e}function u(e,t){var i=0|m(t.length);e=p(e,i);for(var a=0;a<i;a+=1)e[a]=255&t[a];return e}function c(e,t){var i=0|m(t.length);e=p(e,i);for(var a=0;a<i;a+=1)e[a]=255&t[a];return e}function h(e,t){return t.byteLength,n.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=n.prototype:e=c(e,new Uint8Array(t)),e}function f(e,t){var i=0|m(t.length);e=p(e,i);for(var a=0;a<i;a+=1)e[a]=255&t[a];return e}function d(e,t){var i,a=0;"Buffer"===t.type&&Z(t.data)&&(a=0|m((i=t.data).length)),e=p(e,a);for(var n=0;n<a;n+=1)e[n]=255&i[n];return e}function p(e,t){return n.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=n.prototype:e.length=t,0!==t&&t<=n.poolSize>>>1&&(e.parent=W),e}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function S(e,t){if(!(this instanceof S))return new S(e,t);var i=new n(e,t);return delete i.parent,i}function g(e,t){"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var a=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(e).length;default:if(a)return V(e).length;t=(""+t).toLowerCase(),a=!0}}function T(e,t,i){var a=!1;if(t|=0,i=void 0===i||i===1/0?this.length:0|i,e||(e="utf8"),t<0&&(t=0),i>this.length&&(i=this.length),i<=t)return"";for(;;)switch(e){case"hex":return N(this,t,i);case"utf8":case"utf-8":return C(this,t,i);case"ascii":return w(this,t,i);case"binary":return P(this,t,i);case"base64":return A(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,i);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function _(e,t,i,a){i=Number(i)||0;var n=e.length-i;a?(a=Number(a))>n&&(a=n):a=n;var r=t.length;if(r%2!=0)throw new Error("Invalid hex string");a>r/2&&(a=r/2);for(var s=0;s<a;s++){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[i+s]=o}return s}function y(e,t,i,a){return Y(V(t,e.length-i),e,i,a)}function I(e,t,i,a){return Y(z(t),e,i,a)}function D(e,t,i,a){return I(e,t,i,a)}function v(e,t,i,a){return Y(H(t),e,i,a)}function b(e,t,i,a){return Y(Q(t,e.length-i),e,i,a)}function A(e,t,i){return 0===t&&i===e.length?j.fromByteArray(e):j.fromByteArray(e.slice(t,i))}function C(e,t,i){i=Math.min(e.length,i);for(var a=[],n=t;n<i;){var r=e[n],s=null,o=r>239?4:r>223?3:r>191?2:1;if(n+o<=i){var l,u,c,h;switch(o){case 1:r<128&&(s=r);break;case 2:128==(192&(l=e[n+1]))&&(h=(31&r)<<6|63&l)>127&&(s=h);break;case 3:l=e[n+1],u=e[n+2],128==(192&l)&&128==(192&u)&&(h=(15&r)<<12|(63&l)<<6|63&u)>2047&&(h<55296||h>57343)&&(s=h);break;case 4:l=e[n+1],u=e[n+2],c=e[n+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(h=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&h<1114112&&(s=h)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,a.push(s>>>10&1023|55296),s=56320|1023&s),a.push(s),n+=o}return E(a)}function E(e){var t=e.length;if(t<=K)return String.fromCharCode.apply(String,e);for(var i="",a=0;a<t;)i+=String.fromCharCode.apply(String,e.slice(a,a+=K));return i}function w(e,t,i){var a="";i=Math.min(e.length,i);for(var n=t;n<i;n++)a+=String.fromCharCode(127&e[n]);return a}function P(e,t,i){var a="";i=Math.min(e.length,i);for(var n=t;n<i;n++)a+=String.fromCharCode(e[n]);return a}function N(e,t,i){var a=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>a)&&(i=a);for(var n="",r=t;r<i;r++)n+=G(e[r]);return n}function O(e,t,i){for(var a=e.slice(t,i),n="",r=0;r<a.length;r+=2)n+=String.fromCharCode(a[r]+256*a[r+1]);return n}function x(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,i,a,r,s){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>r||t<s)throw new RangeError("value is out of bounds");if(i+a>e.length)throw new RangeError("index out of range")}function L(e,t,i,a){t<0&&(t=65535+t+1);for(var n=0,r=Math.min(e.length-i,2);n<r;n++)e[i+n]=(t&255<<8*(a?n:1-n))>>>8*(a?n:1-n)}function M(e,t,i,a){t<0&&(t=4294967295+t+1);for(var n=0,r=Math.min(e.length-i,4);n<r;n++)e[i+n]=t>>>8*(a?n:3-n)&255}function F(e,t,i,a,n,r){if(i+a>e.length)throw new RangeError("index out of range");if(i<0)throw new RangeError("index out of range")}function U(e,t,i,a,n){return n||F(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,i,a,23,4),i+4}function k(e,t,i,a,n){return n||F(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,i,a,52,8),i+8}function B(e){if((e=q(e).replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var i,a=e.length,n=null,r=[],s=0;s<a;s++){if((i=e.charCodeAt(s))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===a){(t-=3)>-1&&r.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&r.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function z(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t}function Q(e,t){for(var i,a,n,r=[],s=0;s<e.length&&!((t-=2)<0);s++)a=(i=e.charCodeAt(s))>>8,n=i%256,r.push(n),r.push(a);return r}function H(e){return j.toByteArray(B(e))}function Y(e,t,i,a){for(var n=0;n<a&&!(n+i>=t.length||n>=e.length);n++)t[n+i]=e[n];return n}var j=e("base64-js"),X=e("ieee754"),Z=e("isarray");i.Buffer=n,i.SlowBuffer=S,i.INSPECT_MAX_BYTES=50,n.poolSize=8192;var W={};n.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n._augment=function(e){return e.__proto__=n.prototype,e},n.TYPED_ARRAY_SUPPORT?(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})):(n.prototype.length=void 0,n.prototype.parent=void 0),n.isBuffer=function(e){return!(null==e||!e._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,a=t.length,r=0,s=Math.min(i,a);r<s&&e[r]===t[r];)++r;return r!==s&&(i=e[r],a=t[r]),i<a?-1:a<i?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!Z(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new n(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;i++)t+=e[i].length;var a=new n(t),r=0;for(i=0;i<e.length;i++){var s=e[i];s.copy(a,r),r+=s.length}return a},n.byteLength=g,n.prototype._isBuffer=!0,n.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):T.apply(this,arguments)},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===n.compare(this,e)},n.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},n.prototype.compare=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:n.compare(this,e)},n.prototype.indexOf=function(e,t){function i(e,t,i){for(var a=-1,n=0;i+n<e.length;n++)if(e[i+n]===t[-1===a?0:n-a]){if(-1===a&&(a=n),n-a+1===t.length)return i+a}else a=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(n.isBuffer(e))return i(this,e,t);if("number"==typeof e)return n.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):i(this,[e],t);throw new TypeError("val must be string, number or Buffer")},n.prototype.write=function(e,t,i,a){if(void 0===t)a="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)a=t,i=this.length,t=0;else if(isFinite(t))t|=0,isFinite(i)?(i|=0,void 0===a&&(a="utf8")):(a=i,i=void 0);else{var n=a;a=t,t=0|i,i=n}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");a||(a="utf8");for(var s=!1;;)switch(a){case"hex":return _(this,e,t,i);case"utf8":case"utf-8":return y(this,e,t,i);case"ascii":return I(this,e,t,i);case"binary":return D(this,e,t,i);case"base64":return v(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),s=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;n.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var a;if(n.TYPED_ARRAY_SUPPORT)(a=this.subarray(e,t)).__proto__=n.prototype;else{var r=t-e;a=new n(r,void 0);for(var s=0;s<r;s++)a[s]=this[s+e]}return a.length&&(a.parent=this.parent||this),a},n.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||x(e,t,this.length);for(var a=this[e],n=1,r=0;++r<t&&(n*=256);)a+=this[e+r]*n;return a},n.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||x(e,t,this.length);for(var a=this[e+--t],n=1;t>0&&(n*=256);)a+=this[e+--t]*n;return a},n.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},n.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||x(e,t,this.length);for(var a=this[e],n=1,r=0;++r<t&&(n*=256);)a+=this[e+r]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*t)),a},n.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||x(e,t,this.length);for(var a=t,n=1,r=this[e+--a];a>0&&(n*=256);)r+=this[e+--a]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*t)),r},n.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},n.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),X.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),X.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),X.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),X.read(this,e,!1,52,8)},n.prototype.writeUIntLE=function(e,t,i,a){e=+e,t|=0,i|=0,a||R(this,e,t,i,Math.pow(2,8*i),0);var n=1,r=0;for(this[t]=255&e;++r<i&&(n*=256);)this[t+r]=e/n&255;return t+i},n.prototype.writeUIntBE=function(e,t,i,a){e=+e,t|=0,i|=0,a||R(this,e,t,i,Math.pow(2,8*i),0);var n=i-1,r=1;for(this[t+n]=255&e;--n>=0&&(r*=256);)this[t+n]=e/r&255;return t+i},n.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},n.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},n.prototype.writeIntLE=function(e,t,i,a){if(e=+e,t|=0,!a){var n=Math.pow(2,8*i-1);R(this,e,t,i,n-1,-n)}var r=0,s=1,o=e<0?1:0;for(this[t]=255&e;++r<i&&(s*=256);)this[t+r]=(e/s>>0)-o&255;return t+i},n.prototype.writeIntBE=function(e,t,i,a){if(e=+e,t|=0,!a){var n=Math.pow(2,8*i-1);R(this,e,t,i,n-1,-n)}var r=i-1,s=1,o=e<0?1:0;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=(e/s>>0)-o&255;return t+i},n.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},n.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(e,t,i){return U(this,e,t,!0,i)},n.prototype.writeFloatBE=function(e,t,i){return U(this,e,t,!1,i)},n.prototype.writeDoubleLE=function(e,t,i){return k(this,e,t,!0,i)},n.prototype.writeDoubleBE=function(e,t,i){return k(this,e,t,!1,i)},n.prototype.copy=function(e,t,i,a){if(i||(i=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-i&&(a=e.length-t+i);var r,s=a-i;if(this===e&&i<t&&t<a)for(r=s-1;r>=0;r--)e[r+t]=this[r+i];else if(s<1e3||!n.TYPED_ARRAY_SUPPORT)for(r=0;r<s;r++)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},n.prototype.fill=function(e,t,i){if(e||(e=0),t||(t=0),i||(i=this.length),i<t)throw new RangeError("end < start");if(i!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(i<0||i>this.length)throw new RangeError("end out of bounds");var a;if("number"==typeof e)for(a=t;a<i;a++)this[a]=e;else{var n=V(e.toString()),r=n.length;for(a=t;a<i;a++)this[a]=n[a%r]}return this}};var J=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":4,ieee754:5,isarray:6}],4:[function(e,t,i){!function(e){"use strict";function t(e){var t=l[e.charCodeAt(0)];return void 0!==t?t:-1}function i(e){return o[e]}function a(e){return i(e>>18&63)+i(e>>12&63)+i(e>>6&63)+i(63&e)}function n(e,t,i){for(var n,r=[],s=t;s<i;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(a(n));return r.join("")}var r,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=[];for(r=0;r<s.length;r++)o[r]=s[r];var l=[];for(r=0;r<s.length;++r)l[s.charCodeAt(r)]=r;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;var u="undefined"!=typeof Uint8Array?Uint8Array:Array;e.toByteArray=function(e){function i(e){l[h++]=e}var a,n,r,s,o,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;o="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new u(3*e.length/4-o),r=o>0?e.length-4:e.length;var h=0;for(a=0,n=0;a<r;a+=4,n+=3)i((16711680&(s=t(e.charAt(a))<<18|t(e.charAt(a+1))<<12|t(e.charAt(a+2))<<6|t(e.charAt(a+3))))>>16),i((65280&s)>>8),i(255&s);return 2===o?i(255&(s=t(e.charAt(a))<<2|t(e.charAt(a+1))>>4)):1===o&&(i((s=t(e.charAt(a))<<10|t(e.charAt(a+1))<<4|t(e.charAt(a+2))>>2)>>8&255),i(255&s)),l},e.fromByteArray=function(e){var t,a,r,s=e.length%3,o="",l=[];for(t=0,r=e.length-s;t<r;t+=16383)l.push(n(e,t,t+16383>r?r:t+16383));switch(s){case 1:o+=i((a=e[e.length-1])>>2),o+=i(a<<4&63),o+="==";break;case 2:o+=i((a=(e[e.length-2]<<8)+e[e.length-1])>>10),o+=i(a>>4&63),o+=i(a<<2&63),o+="="}return l.push(o),l.join("")}}(void 0===i?this.base64js={}:i)},{}],5:[function(e,t,i){i.read=function(e,t,i,a,n){var r,s,o=8*n-a-1,l=(1<<o)-1,u=l>>1,c=-7,h=i?n-1:0,f=i?-1:1,d=e[t+h];for(h+=f,r=d&(1<<-c)-1,d>>=-c,c+=o;c>0;r=256*r+e[t+h],h+=f,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=f,c-=8);if(0===r)r=1-u;else{if(r===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,a),r-=u}return(d?-1:1)*s*Math.pow(2,r-a)},i.write=function(e,t,i,a,n,r){var s,o,l,u=8*r-n-1,c=(1<<u)-1,h=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=a?0:r-1,p=a?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,n),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;e[i+d]=255&o,d+=p,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;e[i+d]=255&s,d+=p,s/=256,u-=8);e[i+d-p]|=128*m}},{}],6:[function(e,t,i){var a={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==a.call(e)}},{}],7:[function(e,t,i){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},a.prototype.emit=function(e){var t,i,a,r,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),i.apply(this,r)}else if(s(i))for(r=Array.prototype.slice.call(arguments,1),a=(u=i.slice()).length,l=0;l<a;l++)u[l].apply(this,r);return!0},a.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=o(this._maxListeners)?a.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(e,t){function i(){this.removeListener(e,i),a||(a=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var a=!1;return i.listener=t,this.on(e,i),this},a.prototype.removeListener=function(e,t){var i,a,r,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],r=i.length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(o=r;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){a=o;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},a.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},a.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},a.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},a.listenerCount=function(e,t){return e.listenerCount(t)}},{}],8:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],9:[function(e,t,i){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],10:[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],11:[function(e,t,i){function a(){c=!1,o.length?u=o.concat(u):h=-1,u.length&&n()}function n(){if(!c){var e=setTimeout(a);c=!0;for(var t=u.length;t;){for(o=u,u=[];++h<t;)o&&o[h].run();h=-1,t=u.length}o=null,c=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function s(){}var o,l=t.exports={},u=[],c=!1,h=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new r(e,t)),1!==u.length||c||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],12:[function(e,t,i){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(e,t,i){"use strict";function a(e){if(!(this instanceof a))return new a(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",n)}function n(){this.allowHalfOpen||this._writableState.ended||o(r,this)}function r(e){e.end()}var s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};t.exports=a;var o=e("process-nextick-args"),l=e("core-util-is");l.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");l.inherits(a,u);for(var h=s(c.prototype),f=0;f<h.length;f++){var d=h[f];a.prototype[d]||(a.prototype[d]=c.prototype[d])}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":18,inherits:8,"process-nextick-args":19}],14:[function(e,t,i){"use strict";function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}t.exports=a;var n=e("./_stream_transform"),r=e("core-util-is");r.inherits=e("inherits"),r.inherits(a,n),a.prototype._transform=function(e,t,i){i(null,e)}},{"./_stream_transform":16,"core-util-is":18,inherits:8}],15:[function(e,t,i){(function(i){"use strict";function a(t,i){L=L||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,i instanceof L&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var a=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(R||(R=e("string_decoder/").StringDecoder),this.decoder=new R(t.encoding),this.encoding=t.encoding)}function n(t){if(L=L||e("./_stream_duplex"),!(this instanceof n))return new n(t);this._readableState=new a(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),w.call(this)}function r(e,t,i,a,n){var r=u(t,i);if(r)e.emit("error",r);else if(null===i)t.reading=!1,c(e,t);else if(t.objectMode||i&&i.length>0)if(t.ended&&!n){o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&n){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||n||a||(i=t.decoder.write(i)),n||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&h(e)),d(e,t);else n||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function o(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=o(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var i=null;return E.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function c(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,h(e)}}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(O("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A(f,e):f(e))}function f(e){O("emit readable"),e.emit("readable"),_(e)}function d(e,t){t.readingMore||(t.readingMore=!0,A(p,e,t))}function p(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(O("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;O("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&P(e,"data")&&(t.flowing=!0,_(e))}}function S(e){O("readable nexttick read 0"),e.read(0)}function g(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A(T,e,t))}function T(e,t){t.reading||(O("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;if(O("flow",t.flowing),t.flowing)do{var i=e.read()}while(null!==i&&t.flowing)}function y(e,t){var i,a=t.buffer,n=t.length,r=!!t.decoder,s=!!t.objectMode;if(0===a.length)return null;if(0===n)i=null;else if(s)i=a.shift();else if(!e||e>=n)i=r?a.join(""):1===a.length?a[0]:E.concat(a,n),a.length=0;else if(e<a[0].length)i=(c=a[0]).slice(0,e),a[0]=c.slice(e);else if(e===a[0].length)i=a.shift();else{i=r?"":new E(e);for(var o=0,l=0,u=a.length;l<u&&o<e;l++){var c=a[0],h=Math.min(e-o,c.length);r?i+=c.slice(0,h):c.copy(i,o,0,h),h<c.length?a[0]=c.slice(h):a.shift(),o+=h}}return i}function I(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,A(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function v(e,t){for(var i=0,a=e.length;i<a;i++)t(e[i],i)}function b(e,t){for(var i=0,a=e.length;i<a;i++)if(e[i]===t)return i;return-1}t.exports=n;var A=e("process-nextick-args"),C=e("isarray"),E=e("buffer").Buffer;n.ReadableState=a;e("events");var w,P=function(e,t){return e.listeners(t).length};!function(){try{w=e("stream")}catch(e){}finally{w||(w=e("events").EventEmitter)}}();var E=e("buffer").Buffer,N=e("core-util-is");N.inherits=e("inherits");var O,x=e("util");O=x&&x.debuglog?x.debuglog("stream"):function(){};var R;N.inherits(n,w);var L;n.prototype.push=function(e,t){var i=this._readableState;return i.objectMode||"string"!=typeof e||(t=t||i.defaultEncoding)!==i.encoding&&(e=new E(e,t),t=""),r(this,i,e,t,!1)},n.prototype.unshift=function(e){return r(this,this._readableState,e,"",!0)},n.prototype.isPaused=function(){return!1===this._readableState.flowing},n.prototype.setEncoding=function(t){return R||(R=e("string_decoder/").StringDecoder),this._readableState.decoder=new R(t),this._readableState.encoding=t,this};var M=8388608;n.prototype.read=function(e){O("read",e);var t=this._readableState,i=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return O("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):h(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&I(this),null;var a=t.needReadable;O("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&O("length less than watermark",a=!0),(t.ended||t.reading)&&O("reading or ended",a=!1),a&&(O("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=l(i,t));var n;return null===(n=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),i!==e&&t.ended&&0===t.length&&I(this),null!==n&&this.emit("data",n),n},n.prototype._read=function(e){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(e,t){function a(e){O("onunpipe"),e===h&&r()}function n(){O("onend"),e.end()}function r(){O("cleanup"),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("drain",p),e.removeListener("error",o),e.removeListener("unpipe",a),h.removeListener("end",n),h.removeListener("end",r),h.removeListener("data",s),S=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||p()}function s(t){O("ondata"),!1===e.write(t)&&(1!==f.pipesCount||f.pipes[0]!==e||1!==h.listenerCount("data")||S||(O("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++),h.pause())}function o(t){O("onerror",t),c(),e.removeListener("error",o),0===P(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",u),c()}function u(){O("onfinish"),e.removeListener("close",l),c()}function c(){O("unpipe"),h.unpipe(e)}var h=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,O("pipe count=%d opts=%j",f.pipesCount,t);var d=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?n:r;f.endEmitted?A(d):h.once("end",d),e.on("unpipe",a);var p=m(h);e.on("drain",p);var S=!1;return h.on("data",s),e._events&&e._events.error?C(e._events.error)?e._events.error.unshift(o):e._events.error=[o,e._events.error]:e.on("error",o),e.once("close",l),e.once("finish",u),e.emit("pipe",h),f.flowing||(O("pipe resume"),h.resume()),e},n.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var i=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<a;n++)i[n].emit("unpipe",this);return this}return-1===(n=b(t.pipes,e))?this:(t.pipes.splice(n,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},n.prototype.on=function(e,t){var i=w.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var a=this._readableState;a.readableListening||(a.readableListening=!0,a.emittedReadable=!1,a.needReadable=!0,a.reading?a.length&&h(this):A(S,this))}return i},n.prototype.addListener=n.prototype.on,n.prototype.resume=function(){var e=this._readableState;return e.flowing||(O("resume"),e.flowing=!0,g(this,e)),this},n.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var t=this._readableState,i=!1,a=this;e.on("end",function(){if(O("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&a.push(e)}a.push(null)}),e.on("data",function(n){O("wrapped data"),t.decoder&&(n=t.decoder.write(n)),(!t.objectMode||null!==n&&void 0!==n)&&(t.objectMode||n&&n.length)&&(a.push(n)||(i=!0,e.pause()))});for(var n in e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));return v(["error","close","destroy","pause","resume"],function(t){e.on(t,a.emit.bind(a,t))}),a._read=function(t){O("wrapped _read",t),i&&(i=!1,e.resume())},a},n._fromList=y}).call(this,e("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":18,events:7,inherits:8,isarray:10,"process-nextick-args":19,"string_decoder/":26,util:2}],16:[function(e,t,i){"use strict";function a(e){this.afterTransform=function(t,i){return n(e,t,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(e,t,i){var a=e._transformState;a.transforming=!1;var n=a.writecb;if(!n)return e.emit("error",new Error("no writecb in Transform class"));a.writechunk=null,a.writecb=null,null!==i&&void 0!==i&&e.push(i),n&&n(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}function r(e){if(!(this instanceof r))return new r(e);o.call(this,e),this._transformState=new a(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var i=e._writableState,a=e._transformState;if(i.length)throw new Error("calling transform done when ws.length != 0");if(a.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=r;var o=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(r,o),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,i){throw new Error("not implemented")},r.prototype._write=function(e,t,i){var a=this._transformState;if(a.writecb=i,a.writechunk=e,a.writeencoding=t,!a.transforming){var n=this._readableState;(a.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":13,"core-util-is":18,inherits:8}],17:[function(e,t,i){"use strict";function a(){}function n(e,t,i){this.chunk=e,this.encoding=t,this.callback=i,this.next=null}function r(t,i){E=E||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,i instanceof E&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var a=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=!1===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(i,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function s(t){if(E=E||e("./_stream_duplex"),!(this instanceof s||this instanceof E))return new s(t);this._writableState=new r(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),A.call(this)}function o(e,t){var i=new Error("write after end");e.emit("error",i),D(t,i)}function l(e,t,i,a){var n=!0;if(!v.isBuffer(i)&&"string"!=typeof i&&null!==i&&void 0!==i&&!t.objectMode){var r=new TypeError("Invalid non-string/buffer chunk");e.emit("error",r),D(a,r),n=!1}return n}function u(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new v(t,i)),t}function c(e,t,i,a,r){i=u(t,i,a),v.isBuffer(i)&&(a="buffer");var s=t.objectMode?1:i.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new n(i,a,r),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest}else h(e,t,!1,s,i,a,r);return o}function h(e,t,i,a,n,r,s){t.writelen=a,t.writecb=s,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,r,t.onwrite),t.sync=!1}function f(e,t,i,a,n){--t.pendingcb,i?D(n,a):n(a),e._writableState.errorEmitted=!0,e.emit("error",a)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var i=e._writableState,a=i.sync,n=i.writecb;if(d(i),t)f(e,i,a,t,n);else{var r=T(i);r||i.corked||i.bufferProcessing||!i.bufferedRequest||g(e,i),a?D(m,e,i,r,n):m(e,i,r,n)}}function m(e,t,i,a){i||S(e,t),t.pendingcb--,a(),y(e,t)}function S(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){for(var a=[],n=[];i;)n.push(i.callback),a.push(i),i=i.next;t.pendingcb++,t.lastBufferedRequest=null,h(e,t,!0,t.length,a,"",function(e){for(var i=0;i<n.length;i++)t.pendingcb--,n[i](e)})}else{for(;i;){var r=i.chunk,s=i.encoding,o=i.callback,l=t.objectMode?1:r.length;if(h(e,t,!1,l,r,s,o),i=i.next,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var i=T(t);return i&&(0===t.pendingcb?(_(e,t),t.finished=!0,e.emit("finish")):_(e,t)),i}function I(e,t,i){t.ending=!0,y(e,t),i&&(t.finished?D(i):e.once("finish",i)),t.ended=!0}t.exports=s;var D=e("process-nextick-args"),v=e("buffer").Buffer;s.WritableState=r;var b=e("core-util-is");b.inherits=e("inherits");var A,C={deprecate:e("util-deprecate")};!function(){try{A=e("stream")}catch(e){}finally{A||(A=e("events").EventEmitter)}}();v=e("buffer").Buffer;b.inherits(s,A);r.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(r.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var E;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,i){var n=this._writableState,r=!1;return"function"==typeof t&&(i=t,t=null),v.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof i&&(i=a),n.ended?o(this,i):l(this,n,e,i)&&(n.pendingcb++,r=c(this,n,e,t,i)),r},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(e,t,i){i(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,i){var a=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||I(this,a,i)}},{"./_stream_duplex":13,buffer:3,"core-util-is":18,events:7,inherits:8,"process-nextick-args":19,"util-deprecate":20}],18:[function(e,t,i){(function(e){function t(e){return Object.prototype.toString.call(e)}i.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},i.isBoolean=function(e){return"boolean"==typeof e},i.isNull=function(e){return null===e},i.isNullOrUndefined=function(e){return null==e},i.isNumber=function(e){return"number"==typeof e},i.isString=function(e){return"string"==typeof e},i.isSymbol=function(e){return"symbol"==typeof e},i.isUndefined=function(e){return void 0===e},i.isRegExp=function(e){return"[object RegExp]"===t(e)},i.isObject=function(e){return"object"==typeof e&&null!==e},i.isDate=function(e){return"[object Date]"===t(e)},i.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},i.isFunction=function(e){return"function"==typeof e},i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},i.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":9}],19:[function(e,t,i){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t){for(var i=new Array(arguments.length-1),a=0;a<i.length;)i[a++]=arguments[a];e.nextTick(function(){t.apply(null,i)})}:t.exports=e.nextTick}).call(this,e("_process"))},{_process:11}],20:[function(e,t,i){(function(e){function i(t){try{if(!e.localStorage)return!1}catch(e){return!1}var i=e.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=function(e,t){if(i("noDeprecation"))return e;var a=!1;return function(){if(!a){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),a=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,i){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":14}],22:[function(e,t,i){var a=function(){try{return e("stream")}catch(e){}}();(i=t.exports=e("./lib/_stream_readable.js")).Stream=a||i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],23:[function(e,t,i){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":16}],24:[function(e,t,i){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],25:[function(e,t,i){function a(){n.call(this)}t.exports=a;var n=e("events").EventEmitter;e("inherits")(a,n),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function a(){u.readable&&u.resume&&u.resume()}function r(){c||(c=!0,e.end())}function s(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function o(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",i),e.removeListener("drain",a),u.removeListener("end",r),u.removeListener("close",s),u.removeListener("error",o),e.removeListener("error",o),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(u.on("end",r),u.on("close",s));var c=!1;return u.on("error",o),e.on("error",o),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},{events:7,inherits:8,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":21,"readable-stream/readable.js":22,"readable-stream/transform.js":23,"readable-stream/writable.js":24}],26:[function(e,t,i){function a(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function n(e){return e.toString(this.encoding)}function r(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var o=e("buffer").Buffer,l=o.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=i.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),a(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=r;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=n)}this.charBuffer=new o(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var i=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,i),this.charReceived+=i,this.charReceived<this.charLength)return"";if(e=e.slice(i,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);a=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,a),a-=this.charReceived);var a=(t+=e.toString(this.encoding,0,a)).length-1,n=t.charCodeAt(a);if(n>=55296&&n<=56319){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),e.copy(this.charBuffer,0,0,r),t.substring(0,a)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var i=e[e.length-t];if(1==t&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var i=this.charReceived,a=this.charBuffer,n=this.encoding;t+=a.slice(0,i).toString(n)}return t}},{buffer:3}],27:[function(e,t,i){"use strict";var a={};(0,e("./lib/utils/common").assign)(a,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=a},{"./lib/deflate":28,"./lib/inflate":29,"./lib/utils/common":30,"./lib/zlib/constants":33}],28:[function(e,t,i){"use strict";function a(e){if(!(this instanceof a))return new a(e);this.options=s.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var i=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==h)throw new Error(l[i]);t.header&&r.deflateSetHeader(this.strm,t.header)}function n(e,t){var i=new a(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var r=e("./zlib/deflate"),s=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/messages"),u=e("./zlib/zstream"),c=Object.prototype.toString,h=0,f=-1,d=0,p=8;a.prototype.push=function(e,t){var i,a,n=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new s.Buf8(l),n.next_out=0,n.avail_out=l),1!==(i=r.deflate(n,a))&&i!==h)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(n.output,n.next_out))):this.onData(s.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===a?(i=r.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h):2!==a||(this.onEnd(h),n.avail_out=0,!0)},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=a,i.deflate=n,i.deflateRaw=function(e,t){return t=t||{},t.raw=!0,n(e,t)},i.gzip=function(e,t){return t=t||{},t.gzip=!0,n(e,t)}},{"./utils/common":30,"./utils/strings":31,"./zlib/deflate":35,"./zlib/messages":40,"./zlib/zstream":42}],29:[function(e,t,i){"use strict";function a(e){if(!(this instanceof a))return new a(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==l.Z_OK)throw new Error(u[i]);this.header=new h,r.inflateGetHeader(this.strm,this.header)}function n(e,t){var i=new a(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}var r=e("./zlib/inflate"),s=e("./utils/common"),o=e("./utils/strings"),l=e("./zlib/constants"),u=e("./zlib/messages"),c=e("./zlib/zstream"),h=e("./zlib/gzheader"),f=Object.prototype.toString;a.prototype.push=function(e,t){var i,a,n,u,c,h=this.strm,d=this.options.chunkSize,p=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(d),h.next_out=0,h.avail_out=d),(i=r.inflate(h,l.Z_NO_FLUSH))===l.Z_BUF_ERROR&&!0===p&&(i=l.Z_OK,p=!1),i!==l.Z_STREAM_END&&i!==l.Z_OK)return this.onEnd(i),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&i!==l.Z_STREAM_END&&(0!==h.avail_in||a!==l.Z_FINISH&&a!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(n=o.utf8border(h.output,h.next_out),u=h.next_out-n,c=o.buf2string(h.output,n),h.next_out=u,h.avail_out=d-u,u&&s.arraySet(h.output,h.output,n,u,0),this.onData(c)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(p=!0)}while((h.avail_in>0||0===h.avail_out)&&i!==l.Z_STREAM_END);return i===l.Z_STREAM_END&&(a=l.Z_FINISH),a===l.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===l.Z_OK):a!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),h.avail_out=0,!0)},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=a,i.inflate=n,i.inflateRaw=function(e,t){return t=t||{},t.raw=!0,n(e,t)},i.ungzip=n},{"./utils/common":30,"./utils/strings":31,"./zlib/constants":33,"./zlib/gzheader":36,"./zlib/inflate":38,"./zlib/messages":40,"./zlib/zstream":42}],30:[function(e,t,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,i,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+a),n);else for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){var t,i,a,n,r,s;for(a=0,t=0,i=e.length;t<i;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,i=e.length;t<i;t++)r=e[t],s.set(r,n),n+=r.length;return s}},r={arraySet:function(e,t,i,a,n){for(var r=0;r<a;r++)e[n+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(a)},{}],31:[function(e,t,i){"use strict";function a(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}var n=e("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),l=0;l<256;l++)o[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;o[254]=o[254]=1,i.string2buf=function(e){var t,i,a,r,s,o=e.length,l=0;for(r=0;r<o;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),s=0,r=0;s<l;r++)55296==(64512&(i=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(a=e.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(a-56320),r++),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},i.buf2binstring=function(e){return a(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,a=t.length;i<a;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,s,l=t||e.length,u=new Array(2*l);for(n=0,i=0;i<l;)if((r=e[i++])<128)u[n++]=r;else if((s=o[r])>4)u[n++]=65533,i+=s-1;else{for(r&=2===s?31:3===s?15:7;s>1&&i<l;)r=r<<6|63&e[i++],s--;s>1?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return a(u,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0?t:0===i?t:i+o[e[i]]>t?i:t}},{"./common":30}],32:[function(e,t,i){"use strict";t.exports=function(e,t,i,a){for(var n=65535&e|0,r=e>>>16&65535|0,s=0;0!==i;){i-=s=i>2e3?2e3:i;do{r=r+(n=n+t[a++]|0)|0}while(--s);n%=65521,r%=65521}return n|r<<16|0}},{}],33:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],34:[function(e,t,i){"use strict";var a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,n){var r=a,s=n+i;e^=-1;for(var o=n;o<s;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],35:[function(e,t,i){"use strict";function a(e,t){return e.msg=w[t],t}function n(e){return(e<<1)-(e>4?9:0)}function r(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(b.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function o(e,t){A._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,i,a){var n=e.avail_in;return n>a&&(n=a),0===n?0:(e.avail_in-=n,b.arraySet(t,e.input,e.next_in,n,i),1===e.state.wrap?e.adler=C(e.adler,t,n,i):2===e.state.wrap&&(e.adler=E(e.adler,t,n,i)),e.next_in+=n,e.total_in+=n,n)}function h(e,t){var i,a,n=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-ae?e.strstart-(e.w_size-ae):0,u=e.window,c=e.w_mask,h=e.prev,f=e.strstart+ie,d=u[r+s-1],p=u[r+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,u[i+s]===p&&u[i+s-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<f);if(a=ie-(f-r),r=f-ie,a>s){if(e.match_start=t,s=a,a>=o)break;d=u[r+s-1],p=u[r+s]}}}while((t=h[t&c])>l&&0!=--n);return s<=e.lookahead?s:e.lookahead}function f(e){var t,i,a,n,r,s=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-ae)){b.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=i=e.hash_size;do{a=e.head[--t],e.head[t]=a>=s?a-s:0}while(--i);t=i=s;do{a=e.prev[--t],e.prev[t]=a>=s?a-s:0}while(--i);n+=s}if(0===e.strm.avail_in)break;if(i=c(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=te)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+te-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<te)););}while(e.lookahead<ae&&0!==e.strm.avail_in)}function d(e,t){for(var i,a;;){if(e.lookahead<ae){if(f(e),e.lookahead<ae&&t===P)return fe;if(0===e.lookahead)break}if(i=0,e.lookahead>=te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ae&&(e.match_length=h(e,i)),e.match_length>=te)if(a=A._tr_tally(e,e.strstart-e.match_start,e.match_length-te),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=te){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else a=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(o(e,!1),0===e.strm.avail_out))return fe}return e.insert=e.strstart<te-1?e.strstart:te-1,t===x?(o(e,!0),0===e.strm.avail_out?pe:me):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?fe:de}function p(e,t){for(var i,a,n;;){if(e.lookahead<ae){if(f(e),e.lookahead<ae&&t===P)return fe;if(0===e.lookahead)break}if(i=0,e.lookahead>=te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=te-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ae&&(e.match_length=h(e,i),e.match_length<=5&&(e.strategy===q||e.match_length===te&&e.strstart-e.match_start>4096)&&(e.match_length=te-1)),e.prev_length>=te&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-te,a=A._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-te),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=te-1,e.strstart++,a&&(o(e,!1),0===e.strm.avail_out))return fe}else if(e.match_available){if((a=A._tr_tally(e,0,e.window[e.strstart-1]))&&o(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return fe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=A._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<te-1?e.strstart:te-1,t===x?(o(e,!0),0===e.strm.avail_out?pe:me):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?fe:de}function m(e,t){for(var i,a,n,r,s=e.window;;){if(e.lookahead<=ie){if(f(e),e.lookahead<=ie&&t===P)return fe;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=te&&e.strstart>0&&(n=e.strstart-1,(a=s[n])===s[++n]&&a===s[++n]&&a===s[++n])){r=e.strstart+ie;do{}while(a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&a===s[++n]&&n<r);e.match_length=ie-(r-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=te?(i=A._tr_tally(e,1,e.match_length-te),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(o(e,!1),0===e.strm.avail_out))return fe}return e.insert=0,t===x?(o(e,!0),0===e.strm.avail_out?pe:me):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?fe:de}function S(e,t){for(var i;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===P)return fe;break}if(e.match_length=0,i=A._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(o(e,!1),0===e.strm.avail_out))return fe}return e.insert=0,t===x?(o(e,!0),0===e.strm.avail_out?pe:me):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?fe:de}function g(e,t,i,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=a,this.func=n}function T(e){e.window_size=2*e.w_size,r(e.head),e.max_lazy_match=v[e.level].max_lazy,e.good_match=v[e.level].good_length,e.nice_match=v[e.level].nice_length,e.max_chain_length=v[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=te-1,e.match_available=0,e.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*$),this.dyn_dtree=new b.Buf16(2*(2*K+1)),this.bl_tree=new b.Buf16(2*(2*J+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(ee+1),this.heap=new b.Buf16(2*W+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*W+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=H,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?re:ce,e.adler=2===t.wrap?0:1,t.last_flush=P,A._tr_init(t),L):a(e,F)}function I(e){var t=y(e);return t===L&&T(e.state),t}function D(e,t,i,n,r,s){if(!e)return F;var o=1;if(t===B&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>j||i!==Y||n<8||n>15||t<0||t>9||s<0||s>z)return a(e,F);8===n&&(n=9);var l=new _;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+te-1)/te),l.window=new b.Buf8(2*l.w_size),l.head=new b.Buf16(l.hash_size),l.prev=new b.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new b.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=i,I(e)}var v,b=e("../utils/common"),A=e("./trees"),C=e("./adler32"),E=e("./crc32"),w=e("./messages"),P=0,N=1,O=3,x=4,R=5,L=0,M=1,F=-2,U=-3,k=-5,B=-1,q=1,G=2,V=3,z=4,Q=0,H=2,Y=8,j=9,X=15,Z=8,W=286,K=30,J=19,$=2*W+1,ee=15,te=3,ie=258,ae=ie+te+1,ne=32,re=42,se=69,oe=73,le=91,ue=103,ce=113,he=666,fe=1,de=2,pe=3,me=4,Se=3;v=[new g(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===P)return fe;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+i;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,o(e,!1),0===e.strm.avail_out))return fe;if(e.strstart-e.block_start>=e.w_size-ae&&(o(e,!1),0===e.strm.avail_out))return fe}return e.insert=0,t===x?(o(e,!0),0===e.strm.avail_out?pe:me):(e.strstart>e.block_start&&(o(e,!1),e.strm.avail_out),fe)}),new g(4,4,8,4,d),new g(4,5,16,8,d),new g(4,6,32,32,d),new g(4,4,16,16,p),new g(8,16,32,32,p),new g(8,16,128,128,p),new g(8,32,128,256,p),new g(32,128,258,1024,p),new g(32,258,258,4096,p)],i.deflateInit=function(e,t){return D(e,t,Y,X,Z,Q)},i.deflateInit2=D,i.deflateReset=I,i.deflateResetKeep=y,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?F:(e.state.gzhead=t,L):F},i.deflate=function(e,t){var i,o,c,h;if(!e||!e.state||t>R||t<0)return e?a(e,F):F;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===he&&t!==x)return a(e,0===e.avail_out?k:F);if(o.strm=e,i=o.last_flush,o.last_flush=t,o.status===re)if(2===o.wrap)e.adler=0,l(o,31),l(o,139),l(o,8),o.gzhead?(l(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),l(o,255&o.gzhead.time),l(o,o.gzhead.time>>8&255),l(o,o.gzhead.time>>16&255),l(o,o.gzhead.time>>24&255),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(l(o,255&o.gzhead.extra.length),l(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=E(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=se):(l(o,0),l(o,0),l(o,0),l(o,0),l(o,0),l(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),l(o,Se),o.status=ce);else{var f=Y+(o.w_bits-8<<4)<<8;f|=(o.strategy>=G||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=ne),f+=31-f%31,o.status=ce,u(o,f),0!==o.strstart&&(u(o,e.adler>>>16),u(o,65535&e.adler)),e.adler=1}if(o.status===se)if(o.gzhead.extra){for(c=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending!==o.pending_buf_size));)l(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=oe)}else o.status=oe;if(o.status===oe)if(o.gzhead.name){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.gzindex=0,o.status=le)}else o.status=le;if(o.status===le)if(o.gzhead.comment){c=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),s(e),c=o.pending,o.pending===o.pending_buf_size)){h=1;break}h=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,l(o,h)}while(0!==h);o.gzhead.hcrc&&o.pending>c&&(e.adler=E(e.adler,o.pending_buf,o.pending-c,c)),0===h&&(o.status=ue)}else o.status=ue;if(o.status===ue&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(e),o.pending+2<=o.pending_buf_size&&(l(o,255&e.adler),l(o,e.adler>>8&255),e.adler=0,o.status=ce)):o.status=ce),0!==o.pending){if(s(e),0===e.avail_out)return o.last_flush=-1,L}else if(0===e.avail_in&&n(t)<=n(i)&&t!==x)return a(e,k);if(o.status===he&&0!==e.avail_in)return a(e,k);if(0!==e.avail_in||0!==o.lookahead||t!==P&&o.status!==he){var d=o.strategy===G?S(o,t):o.strategy===V?m(o,t):v[o.level].func(o,t);if(d!==pe&&d!==me||(o.status=he),d===fe||d===pe)return 0===e.avail_out&&(o.last_flush=-1),L;if(d===de&&(t===N?A._tr_align(o):t!==R&&(A._tr_stored_block(o,0,0,!1),t===O&&(r(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(e),0===e.avail_out))return o.last_flush=-1,L}return t!==x?L:o.wrap<=0?M:(2===o.wrap?(l(o,255&e.adler),l(o,e.adler>>8&255),l(o,e.adler>>16&255),l(o,e.adler>>24&255),l(o,255&e.total_in),l(o,e.total_in>>8&255),l(o,e.total_in>>16&255),l(o,e.total_in>>24&255)):(u(o,e.adler>>>16),u(o,65535&e.adler)),s(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?L:M)},i.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==re&&t!==se&&t!==oe&&t!==le&&t!==ue&&t!==ce&&t!==he?a(e,F):(e.state=null,t===ce?a(e,U):L):F},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":30,"./adler32":32,"./crc32":34,"./messages":40,"./trees":41}],36:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],37:[function(e,t,i){"use strict";t.exports=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C;i=e.state,a=e.next_in,A=e.input,n=a+(e.avail_in-5),r=e.next_out,C=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),l=i.dmax,u=i.wsize,c=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,m=i.lencode,S=i.distcode,g=(1<<i.lenbits)-1,T=(1<<i.distbits)-1;e:do{p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=m[d&g];t:for(;;){if(y=_>>>24,d>>>=y,p-=y,0===(y=_>>>16&255))C[r++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=m[(65535&_)+(d&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}I=65535&_,(y&=15)&&(p<y&&(d+=A[a++]<<p,p+=8),I+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=A[a++]<<p,p+=8,d+=A[a++]<<p,p+=8),_=S[d&T];i:for(;;){if(y=_>>>24,d>>>=y,p-=y,!(16&(y=_>>>16&255))){if(0==(64&y)){_=S[(65535&_)+(d&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(D=65535&_,y&=15,p<y&&(d+=A[a++]<<p,(p+=8)<y&&(d+=A[a++]<<p,p+=8)),(D+=d&(1<<y)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=y,p-=y,y=r-s,D>y){if((y=D-y)>c&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(v=0,b=f,0===h){if(v+=u-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}else if(h<y){if(v+=u+h-y,(y-=h)<I){I-=y;do{C[r++]=f[v++]}while(--y);if(v=0,h<I){I-=y=h;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}}}else if(v+=h-y,y<I){I-=y;do{C[r++]=f[v++]}while(--y);v=r-D,b=C}for(;I>2;)C[r++]=b[v++],C[r++]=b[v++],C[r++]=b[v++],I-=3;I&&(C[r++]=b[v++],I>1&&(C[r++]=b[v++]))}else{v=r-D;do{C[r++]=C[v++],C[r++]=C[v++],C[r++]=C[v++],I-=3}while(I>2);I&&(C[r++]=C[v++],I>1&&(C[r++]=C[v++]))}break}}break}}while(a<n&&r<o);a-=I=p>>3,d&=(1<<(p-=I<<3))-1,e.next_in=a,e.next_out=r,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=r<o?o-r+257:257-(r-o),i.hold=d,i.bits=p}},{}],38:[function(e,t,i){"use strict";function a(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new d.Buf32(ce),t.distcode=t.distdyn=new d.Buf32(he),t.sane=1,t.back=-1,b):E}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):E}function o(e,t){var i,a;return e&&e.state?(a=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,s(e))):E}function l(e,t){var i,a;return e?(a=new n,e.state=a,a.window=null,(i=o(e,t))!==b&&(e.state=null),i):E}function u(e){if(de){var t;for(h=new d.Buf32(512),f=new d.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(g(_,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;g(y,e.lens,0,32,f,0,e.work,{bits:5}),de=!1}e.lencode=h,e.lenbits=9,e.distcode=f,e.distbits=5}function c(e,t,i,a){var n,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new d.Buf8(r.wsize)),a>=r.wsize?(d.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>a&&(n=a),d.arraySet(r.window,t,i-a,n,r.wnext),(a-=n)?(d.arraySet(r.window,t,i-a,a,0),r.wnext=a,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}var h,f,d=e("../utils/common"),p=e("./adler32"),m=e("./crc32"),S=e("./inffast"),g=e("./inftrees"),T=0,_=1,y=2,I=4,D=5,v=6,b=0,A=1,C=2,E=-2,w=-3,P=-4,N=-5,O=8,x=1,R=2,L=3,M=4,F=5,U=6,k=7,B=8,q=9,G=10,V=11,z=12,Q=13,H=14,Y=15,j=16,X=17,Z=18,W=19,K=20,J=21,$=22,ee=23,te=24,ie=25,ae=26,ne=27,re=28,se=29,oe=30,le=31,ue=32,ce=852,he=592,fe=15,de=!0;i.inflateReset=s,i.inflateReset2=o,i.inflateResetKeep=r,i.inflateInit=function(e){return l(e,fe)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,r,s,o,l,h,f,ce,he,fe,de,pe,me,Se,ge,Te,_e,ye,Ie,De,ve,be,Ae,Ce=0,Ee=new d.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(i=e.state).mode===z&&(i.mode=Q),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,he=l,fe=h,ve=b;e:for(;;)switch(i.mode){case x:if(0===i.wrap){i.mode=Q;break}for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(2&i.wrap&&35615===f){i.check=0,Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0),f=0,ce=0,i.mode=R;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",i.mode=oe;break}if((15&f)!==O){e.msg="unknown compression method",i.mode=oe;break}if(f>>>=4,ce-=4,De=8+(15&f),0===i.wbits)i.wbits=De;else if(De>i.wbits){e.msg="invalid window size",i.mode=oe;break}i.dmax=1<<De,e.adler=i.check=1,i.mode=512&f?G:z,f=0,ce=0;break;case R:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.flags=f,(255&i.flags)!==O){e.msg="unknown compression method",i.mode=oe;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=oe;break}i.head&&(i.head.text=f>>8&1),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=L;case L:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.time=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,Ee[2]=f>>>16&255,Ee[3]=f>>>24&255,i.check=m(i.check,Ee,4,0)),f=0,ce=0,i.mode=M;case M:for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.head&&(i.head.xflags=255&f,i.head.os=f>>8),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0,i.mode=F;case F:if(1024&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length=f,i.head&&(i.head.extra_len=f),512&i.flags&&(Ee[0]=255&f,Ee[1]=f>>>8&255,i.check=m(i.check,Ee,2,0)),f=0,ce=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&((de=i.length)>l&&(de=l),de&&(i.head&&(De=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),d.arraySet(i.head.extra,n,s,de,De)),512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,i.length-=de),i.length))break e;i.length=0,i.mode=k;case k:if(2048&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.name+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=B;case B:if(4096&i.flags){if(0===l)break e;de=0;do{De=n[s+de++],i.head&&De&&i.length<65536&&(i.head.comment+=String.fromCharCode(De))}while(De&&de<l);if(512&i.flags&&(i.check=m(i.check,n,de,s)),l-=de,s+=de,De)break e}else i.head&&(i.head.comment=null);i.mode=q;case q:if(512&i.flags){for(;ce<16;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(65535&i.check)){e.msg="header crc mismatch",i.mode=oe;break}f=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=z;break;case G:for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}e.adler=i.check=a(f),f=0,ce=0,i.mode=V;case V:if(0===i.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,C;e.adler=i.check=1,i.mode=z;case z:if(t===D||t===v)break e;case Q:if(i.last){f>>>=7&ce,ce-=7&ce,i.mode=ne;break}for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}switch(i.last=1&f,f>>>=1,ce-=1,3&f){case 0:i.mode=H;break;case 1:if(u(i),i.mode=K,t===v){f>>>=2,ce-=2;break e}break;case 2:i.mode=X;break;case 3:e.msg="invalid block type",i.mode=oe}f>>>=2,ce-=2;break;case H:for(f>>>=7&ce,ce-=7&ce;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",i.mode=oe;break}if(i.length=65535&f,f=0,ce=0,i.mode=Y,t===v)break e;case Y:i.mode=j;case j:if(de=i.length){if(de>l&&(de=l),de>h&&(de=h),0===de)break e;d.arraySet(r,n,s,de,o),l-=de,s+=de,h-=de,o+=de,i.length-=de;break}i.mode=z;break;case X:for(;ce<14;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(i.nlen=257+(31&f),f>>>=5,ce-=5,i.ndist=1+(31&f),f>>>=5,ce-=5,i.ncode=4+(15&f),f>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=oe;break}i.have=0,i.mode=Z;case Z:for(;i.have<i.ncode;){for(;ce<3;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.lens[we[i.have++]]=7&f,f>>>=3,ce-=3}for(;i.have<19;)i.lens[we[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,be={bits:i.lenbits},ve=g(T,i.lens,0,19,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid code lengths set",i.mode=oe;break}i.have=0,i.mode=W;case W:for(;i.have<i.nlen+i.ndist;){for(;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(Te<16)f>>>=Se,ce-=Se,i.lens[i.have++]=Te;else{if(16===Te){for(Ae=Se+2;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f>>>=Se,ce-=Se,0===i.have){e.msg="invalid bit length repeat",i.mode=oe;break}De=i.lens[i.have-1],de=3+(3&f),f>>>=2,ce-=2}else if(17===Te){for(Ae=Se+3;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=3+(7&(f>>>=Se)),f>>>=3,ce-=3}else{for(Ae=Se+7;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}ce-=Se,De=0,de=11+(127&(f>>>=Se)),f>>>=7,ce-=7}if(i.have+de>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=oe;break}for(;de--;)i.lens[i.have++]=De}}if(i.mode===oe)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=oe;break}if(i.lenbits=9,be={bits:i.lenbits},ve=g(_,i.lens,0,i.nlen,i.lencode,0,i.work,be),i.lenbits=be.bits,ve){e.msg="invalid literal/lengths set",i.mode=oe;break}if(i.distbits=6,i.distcode=i.distdyn,be={bits:i.distbits},ve=g(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,be),i.distbits=be.bits,ve){e.msg="invalid distances set",i.mode=oe;break}if(i.mode=K,t===v)break e;case K:i.mode=J;case J:if(l>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,S(e,fe),o=e.next_out,r=e.output,h=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,f=i.hold,ce=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;Ce=i.lencode[f&(1<<i.lenbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(ge&&0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.lencode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,i.length=Te,0===ge){i.mode=ae;break}if(32&ge){i.back=-1,i.mode=z;break}if(64&ge){e.msg="invalid literal/length code",i.mode=oe;break}i.extra=15&ge,i.mode=$;case $:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.length+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;Ce=i.distcode[f&(1<<i.distbits)-1],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(0==(240&ge)){for(_e=Se,ye=ge,Ie=Te;Ce=i.distcode[Ie+((f&(1<<_e+ye)-1)>>_e)],Se=Ce>>>24,ge=Ce>>>16&255,Te=65535&Ce,!(_e+Se<=ce);){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}f>>>=_e,ce-=_e,i.back+=_e}if(f>>>=Se,ce-=Se,i.back+=Se,64&ge){e.msg="invalid distance code",i.mode=oe;break}i.offset=Te,i.extra=15&ge,i.mode=te;case te:if(i.extra){for(Ae=i.extra;ce<Ae;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}i.offset+=f&(1<<i.extra)-1,f>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=oe;break}i.mode=ie;case ie:if(0===h)break e;if(de=fe-h,i.offset>de){if((de=i.offset-de)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=oe;break}de>i.wnext?(de-=i.wnext,pe=i.wsize-de):pe=i.wnext-de,de>i.length&&(de=i.length),me=i.window}else me=r,pe=o-i.offset,de=i.length;de>h&&(de=h),h-=de,i.length-=de;do{r[o++]=me[pe++]}while(--de);0===i.length&&(i.mode=J);break;case ae:if(0===h)break e;r[o++]=i.length,h--,i.mode=J;break;case ne:if(i.wrap){for(;ce<32;){if(0===l)break e;l--,f|=n[s++]<<ce,ce+=8}if(fe-=h,e.total_out+=fe,i.total+=fe,fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,o-fe):p(i.check,r,fe,o-fe)),fe=h,(i.flags?f:a(f))!==i.check){e.msg="incorrect data check",i.mode=oe;break}f=0,ce=0}i.mode=re;case re:if(i.wrap&&i.flags){for(;ce<32;){if(0===l)break e;l--,f+=n[s++]<<ce,ce+=8}if(f!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=oe;break}f=0,ce=0}i.mode=se;case se:ve=A;break e;case oe:ve=w;break e;case le:return P;case ue:default:return E}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=l,i.hold=f,i.bits=ce,(i.wsize||fe!==e.avail_out&&i.mode<oe&&(i.mode<ne||t!==I))&&c(e,e.output,e.next_out,fe-e.avail_out)?(i.mode=le,P):(he-=e.avail_in,fe-=e.avail_out,e.total_in+=he,e.total_out+=fe,i.total+=fe,i.wrap&&fe&&(e.adler=i.check=i.flags?m(i.check,r,fe,e.next_out-fe):p(i.check,r,fe,e.next_out-fe)),e.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===K||i.mode===Y?256:0),(0===he&&0===fe||t===I)&&ve===b&&(ve=N),ve)},i.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,b},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?E:(i.head=t,t.done=!1,b):E},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":30,"./adler32":32,"./crc32":34,"./inffast":37,"./inftrees":39}],39:[function(e,t,i){"use strict";var a=e("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,u,c,h,f){var d,p,m,S,g,T,_,y,I,D=f.bits,v=0,b=0,A=0,C=0,E=0,w=0,P=0,N=0,O=0,x=0,R=null,L=0,M=new a.Buf16(16),F=new a.Buf16(16),U=null,k=0;for(v=0;v<=15;v++)M[v]=0;for(b=0;b<l;b++)M[t[i+b]]++;for(E=D,C=15;C>=1&&0===M[C];C--);if(E>C&&(E=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(A=1;A<C&&0===M[A];A++);for(E<A&&(E=A),N=1,v=1;v<=15;v++)if(N<<=1,(N-=M[v])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(F[1]=0,v=1;v<15;v++)F[v+1]=F[v]+M[v];for(b=0;b<l;b++)0!==t[i+b]&&(h[F[t[i+b]]++]=b);if(0===e?(R=U=h,T=19):1===e?(R=n,L-=257,U=r,k-=257,T=256):(R=s,U=o,T=-1),x=0,b=0,v=A,g=c,w=E,P=0,m=-1,O=1<<E,S=O-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){0,_=v-P,h[b]<T?(y=0,I=h[b]):h[b]>T?(y=U[k+h[b]],I=R[L+h[b]]):(y=96,I=0),d=1<<v-P,A=p=1<<w;do{u[g+(x>>P)+(p-=d)]=_<<24|y<<16|I|0}while(0!==p);for(d=1<<v-1;x&d;)d>>=1;if(0!==d?(x&=d-1,x+=d):x=0,b++,0==--M[v]){if(v===C)break;v=t[i+h[b]]}if(v>E&&(x&S)!==m){for(0===P&&(P=E),g+=A,N=1<<(w=v-P);w+P<C&&!((N-=M[w+P])<=0);)w++,N<<=1;if(O+=1<<w,1===e&&O>852||2===e&&O>592)return 1;u[m=x&S]=E<<24|w<<16|g-c|0}}return 0!==x&&(u[g+x]=v-P<<24|64<<16|0),f.bits=E,0}},{"../utils/common":30}],40:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],41:[function(e,t,i){"use strict";function a(e){for(var t=e.length;--t>=0;)e[t]=0}function n(e,t,i,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=e&&e.length}function r(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?te[e]:te[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,i){e.bi_valid>z-i?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>z-e.bi_valid,e.bi_valid+=i-z):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function u(e,t,i){l(e,i[2*t],i[2*t+1])}function c(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function h(e){16===e.bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var i,a,n,r,s,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(r=0;r<=V;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<G;i++)(r=l[2*l[2*(a=e.heap[i])+1]+1]+1)>p&&(r=p,m++),l[2*a+1]=r,a>u||(e.bl_count[r]++,s=0,a>=d&&(s=f[a-d]),o=l[2*a],e.opt_len+=o*(r+s),h&&(e.static_len+=o*(c[2*a+1]+s)));if(0!==m){do{for(r=p-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(r=p;0!==r;r--)for(a=e.bl_count[r];0!==a;)(n=e.heap[--i])>u||(l[2*n+1]!==r&&(e.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),a--)}}function d(e,t,i){var a,n,r=new Array(V+1),s=0;for(a=1;a<=V;a++)r[a]=s=s+i[a-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=c(r[o]++,o))}}function p(){var e,t,i,a,r,s=new Array(V+1);for(i=0,a=0;a<F-1;a++)for(ae[a]=i,e=0;e<1<<Z[a];e++)ie[i++]=a;for(ie[i-1]=a,r=0,a=0;a<16;a++)for(ne[a]=r,e=0;e<1<<W[a];e++)te[r++]=a;for(r>>=7;a<B;a++)for(ne[a]=r<<7,e=0;e<1<<W[a]-7;e++)te[256+r++]=a;for(t=0;t<=V;t++)s[t]=0;for(e=0;e<=143;)$[2*e+1]=8,e++,s[8]++;for(;e<=255;)$[2*e+1]=9,e++,s[9]++;for(;e<=279;)$[2*e+1]=7,e++,s[7]++;for(;e<=287;)$[2*e+1]=8,e++,s[8]++;for(d($,k+1,s),e=0;e<B;e++)ee[2*e+1]=5,ee[2*e]=c(e,5);re=new n($,Z,U+1,k,V),se=new n(ee,W,0,B,V),oe=new n(new Array(0),K,0,q,Q)}function m(e){var t;for(t=0;t<k;t++)e.dyn_ltree[2*t]=0;for(t=0;t<B;t++)e.dyn_dtree[2*t]=0;for(t=0;t<q;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*H]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function S(e){e.bi_valid>8?o(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function g(e,t,i,a){S(e),a&&(o(e,i),o(e,~i)),w.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}function T(e,t,i,a){var n=2*t,r=2*i;return e[n]<e[r]||e[n]===e[r]&&a[t]<=a[i]}function _(e,t,i){for(var a=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&T(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!T(t,a,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=a}function y(e,t,i){var a,n,r,o,c=0;if(0!==e.last_lit)do{a=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],n=e.pending_buf[e.l_buf+c],c++,0===a?u(e,n,t):(u(e,(r=ie[n])+U+1,t),0!==(o=Z[r])&&l(e,n-=ae[r],o),u(e,r=s(--a),i),0!==(o=W[r])&&l(e,a-=ne[r],o))}while(c<e.last_lit);u(e,H,t)}function I(e,t){var i,a,n,r=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=G,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=s[2*n+1]);for(t.max_code=u,i=e.heap_len>>1;i>=1;i--)_(e,r,i);n=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=a,r[2*n]=r[2*i]+r[2*a],e.depth[n]=(e.depth[i]>=e.depth[a]?e.depth[i]:e.depth[a])+1,r[2*i+1]=r[2*a+1]=n,e.heap[1]=n++,_(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f(e,t),d(r,u,e.bl_count)}function D(e,t,i){var a,n,r=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(i+1)+1]=65535,a=0;a<=i;a++)n=s,s=t[2*(a+1)+1],++o<l&&n===s||(o<u?e.bl_tree[2*n]+=o:0!==n?(n!==r&&e.bl_tree[2*n]++,e.bl_tree[2*Y]++):o<=10?e.bl_tree[2*j]++:e.bl_tree[2*X]++,o=0,r=n,0===s?(l=138,u=3):n===s?(l=6,u=3):(l=7,u=4))}function v(e,t,i){var a,n,r=-1,s=t[1],o=0,c=7,h=4;for(0===s&&(c=138,h=3),a=0;a<=i;a++)if(n=s,s=t[2*(a+1)+1],!(++o<c&&n===s)){if(o<h)do{u(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==r&&(u(e,n,e.bl_tree),o--),u(e,Y,e.bl_tree),l(e,o-3,2)):o<=10?(u(e,j,e.bl_tree),l(e,o-3,3)):(u(e,X,e.bl_tree),l(e,o-11,7));o=0,r=n,0===s?(c=138,h=3):n===s?(c=6,h=3):(c=7,h=4)}}function b(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=q-1;t>=3&&0===e.bl_tree[2*J[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function A(e,t,i,a){var n;for(l(e,t-257,5),l(e,i-1,5),l(e,a-4,4),n=0;n<a;n++)l(e,e.bl_tree[2*J[n]+1],3);v(e,e.dyn_ltree,t-1),v(e,e.dyn_dtree,i-1)}function C(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return N;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return O;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return O;return N}function E(e,t,i,a){l(e,(R<<1)+(a?1:0),3),g(e,t,i,!0)}var w=e("../utils/common"),P=4,N=0,O=1,x=2,R=0,L=1,M=2,F=29,U=256,k=U+1+F,B=30,q=19,G=2*k+1,V=15,z=16,Q=7,H=256,Y=16,j=17,X=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(k+2));a($);var ee=new Array(2*B);a(ee);var te=new Array(512);a(te);var ie=new Array(256);a(ie);var ae=new Array(F);a(ae);var ne=new Array(B);a(ne);var re,se,oe,le=!1;i._tr_init=function(e){le||(p(),le=!0),e.l_desc=new r(e.dyn_ltree,re),e.d_desc=new r(e.dyn_dtree,se),e.bl_desc=new r(e.bl_tree,oe),e.bi_buf=0,e.bi_valid=0,m(e)},i._tr_stored_block=E,i._tr_flush_block=function(e,t,i,a){var n,r,s=0;e.level>0?(e.strm.data_type===x&&(e.strm.data_type=C(e)),I(e,e.l_desc),I(e,e.d_desc),s=b(e),n=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=n&&(n=r)):n=r=i+5,i+4<=n&&-1!==t?E(e,t,i,a):e.strategy===P||r===n?(l(e,(L<<1)+(a?1:0),3),y(e,$,ee)):(l(e,(M<<1)+(a?1:0),3),A(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),y(e,e.dyn_ltree,e.dyn_dtree)),m(e),a&&S(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(ie[i]+U+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){l(e,L<<1,3),u(e,H,$),h(e)}},{"../utils/common":30}],42:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],43:[function(e,t,i){(function(t){!function(i){function a(e,t){if(!(this instanceof a))return new a(e,t);var n=this;r(n),n.q=n.c="",n.bufferCheckPosition=i.MAX_BUFFER_LENGTH,n.opt=t||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!e,n.noscript=!(!e&&!n.opt.noscript),n.state=Q.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(B)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),f(n,"onready")}function n(e){for(var t=Math.max(i.MAX_BUFFER_LENGTH,10),a=0,n=0,r=E.length;n<r;n++){var s=e[E[n]].length;if(s>t)switch(E[n]){case"textNode":p(e);break;case"cdata":d(e,"oncdata",e.cdata),e.cdata="";break;case"script":d(e,"onscript",e.script),e.script="";break;default:S(e,"Max buffer length exceeded: "+E[n])}a=Math.max(a,s)}var o=i.MAX_BUFFER_LENGTH-a;e.bufferCheckPosition=o+e.position}function r(e){for(var t=0,i=E.length;t<i;t++)e[E[t]]=""}function s(e){p(e),""!==e.cdata&&(d(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(d(e,"onscript",e.script),e.script="")}function o(e,t){if(!(this instanceof o))return new o(e,t);w.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,P.forEach(function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})})}function l(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function u(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function c(e,t){return u(e)?!!t.match(e):e[t]}function h(e,t){return!c(e,t)}function f(e,t,i){e[t]&&e[t](i)}function d(e,t,i){e.textNode&&p(e),f(e,t,i)}function p(e){e.textNode=m(e.opt,e.textNode),e.textNode&&f(e,"ontext",e.textNode),e.textNode=""}function m(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function S(e,t){return p(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,f(e,"onerror",t),e}function g(e){return e.sawRoot&&!e.closedRoot&&T(e,"Unclosed root tag"),e.state!==Q.BEGIN&&e.state!==Q.BEGIN_WHITESPACE&&e.state!==Q.TEXT&&S(e,"Unexpected end"),p(e),e.c="",e.closed=!0,f(e,"onend"),a.call(e,e.strict,e.opt),e}function T(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&S(e,t)}function _(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,i=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(i.ns=t.ns),e.attribList.length=0}function y(e,t){var i=e.indexOf(":")<0?["",e]:e.split(":"),a=i[0],n=i[1];return t&&"xmlns"===e&&(a="xmlns",n=""),{prefix:a,local:n}}function I(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=y(e.attribName,!0),i=t.prefix,a=t.local;if("xmlns"===i)if("xml"===a&&e.attribValue!==U)T(e,"xml: prefix must be bound to "+U+"\nActual: "+e.attribValue);else if("xmlns"===a&&e.attribValue!==k)T(e,"xmlns: prefix must be bound to "+k+"\nActual: "+e.attribValue);else{var n=e.tag,r=e.tags[e.tags.length-1]||e;n.ns===r.ns&&(n.ns=Object.create(r.ns)),n.ns[a]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,d(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var i=e.tag,a=y(e.tagName);i.prefix=a.prefix,i.local=a.local,i.uri=i.ns[a.prefix]||"",i.prefix&&!i.uri&&(T(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),i.uri=a.prefix);var n=e.tags[e.tags.length-1]||e;i.ns&&n.ns!==i.ns&&Object.keys(i.ns).forEach(function(t){d(e,"onopennamespace",{prefix:t,uri:i.ns[t]})});for(var r=0,s=e.attribList.length;r<s;r++){var o=e.attribList[r],l=o[0],u=o[1],c=y(l,!0),h=c.prefix,f=c.local,p=""===h?"":i.ns[h]||"",m={name:l,value:u,prefix:h,local:f,uri:p};h&&"xmlns"!==h&&!p&&(T(e,"Unbound namespace prefix: "+JSON.stringify(h)),m.uri=h),e.tag.attributes[l]=m,d(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),d(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=Q.TEXT:e.state=Q.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function v(e){if(!e.tagName)return T(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=Q.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=Q.SCRIPT);d(e,"onscript",e.script),e.script=""}var t=e.tags.length,i=e.tagName;e.strict||(i=i[e.looseCase]());for(var a=i;t--&&e.tags[t].name!==a;)T(e,"Unexpected close tag");if(t<0)return T(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=Q.TEXT);e.tagName=i;for(var n=e.tags.length;n-- >t;){var r=e.tag=e.tags.pop();e.tagName=e.tag.name,d(e,"onclosetag",e.tagName);var s={};for(var o in r.ns)s[o]=r.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&r.ns!==l.ns&&Object.keys(r.ns).forEach(function(t){var i=r.ns[t];d(e,"onclosenamespace",{prefix:t,uri:i})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=Q.TEXT}function b(e){var t,i=e.entity,a=i.toLowerCase(),n="";return e.ENTITIES[i]?e.ENTITIES[i]:e.ENTITIES[a]?e.ENTITIES[a]:("#"===(i=a).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),n=(t=parseInt(i,16)).toString(16)):(i=i.slice(1),n=(t=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),n.toLowerCase()!==i?(T(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function A(e,t){"<"===t?(e.state=Q.OPEN_WAKA,e.startTagPosition=e.position):h(N,t)&&(T(e,"Non-whitespace before first tag."),e.textNode=t,e.state=Q.TEXT)}function C(e,t){var i="";return t<e.length&&(i=e.charAt(t)),i}i.parser=function(e,t){return new a(e,t)},i.SAXParser=a,i.SAXStream=o,i.createStream=function(e,t){return new o(e,t)},i.MAX_BUFFER_LENGTH=65536;var E=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}),a.prototype={end:function(){g(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return S(t,"Cannot write after close. Assign an onready handler.");if(null===e)return g(t);for(var i=0,a="";a=C(e,i++),t.c=a,a;)switch(t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++),t.state){case Q.BEGIN:if(t.state=Q.BEGIN_WHITESPACE,"\ufeff"===a)continue;A(t,a);continue;case Q.BEGIN_WHITESPACE:A(t,a);continue;case Q.TEXT:if(t.sawRoot&&!t.closedRoot){for(var r=i-1;a&&"<"!==a&&"&"!==a;)(a=C(e,i++))&&t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(r,i-1)}"<"!==a||t.sawRoot&&t.closedRoot&&!t.strict?(!h(N,a)||t.sawRoot&&!t.closedRoot||T(t,"Text data outside of root node."),"&"===a?t.state=Q.TEXT_ENTITY:t.textNode+=a):(t.state=Q.OPEN_WAKA,t.startTagPosition=t.position);continue;case Q.SCRIPT:"<"===a?t.state=Q.SCRIPT_ENDING:t.script+=a;continue;case Q.SCRIPT_ENDING:"/"===a?t.state=Q.CLOSE_TAG:(t.script+="<"+a,t.state=Q.SCRIPT);continue;case Q.OPEN_WAKA:if("!"===a)t.state=Q.SGML_DECL,t.sgmlDecl="";else if(c(N,a));else if(c(q,a))t.state=Q.OPEN_TAG,t.tagName=a;else if("/"===a)t.state=Q.CLOSE_TAG,t.tagName="";else if("?"===a)t.state=Q.PROC_INST,t.procInstName=t.procInstBody="";else{if(T(t,"Unencoded <"),t.startTagPosition+1<t.position){var s=t.position-t.startTagPosition;a=new Array(s).join(" ")+a}t.textNode+="<"+a,t.state=Q.TEXT}continue;case Q.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===M?(d(t,"onopencdata"),t.state=Q.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=Q.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===F?(t.state=Q.DOCTYPE,(t.doctype||t.sawRoot)&&T(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===a?(d(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=Q.TEXT):c(R,a)?(t.state=Q.SGML_DECL_QUOTED,t.sgmlDecl+=a):t.sgmlDecl+=a;continue;case Q.SGML_DECL_QUOTED:a===t.q&&(t.state=Q.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case Q.DOCTYPE:">"===a?(t.state=Q.TEXT,d(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,"["===a?t.state=Q.DOCTYPE_DTD:c(R,a)&&(t.state=Q.DOCTYPE_QUOTED,t.q=a));continue;case Q.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=Q.DOCTYPE);continue;case Q.DOCTYPE_DTD:t.doctype+=a,"]"===a?t.state=Q.DOCTYPE:c(R,a)&&(t.state=Q.DOCTYPE_DTD_QUOTED,t.q=a);continue;case Q.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=Q.DOCTYPE_DTD,t.q="");continue;case Q.COMMENT:"-"===a?t.state=Q.COMMENT_ENDING:t.comment+=a;continue;case Q.COMMENT_ENDING:"-"===a?(t.state=Q.COMMENT_ENDED,t.comment=m(t.opt,t.comment),t.comment&&d(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=Q.COMMENT);continue;case Q.COMMENT_ENDED:">"!==a?(T(t,"Malformed comment"),t.comment+="--"+a,t.state=Q.COMMENT):t.state=Q.TEXT;continue;case Q.CDATA:"]"===a?t.state=Q.CDATA_ENDING:t.cdata+=a;continue;case Q.CDATA_ENDING:"]"===a?t.state=Q.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=Q.CDATA);continue;case Q.CDATA_ENDING_2:">"===a?(t.cdata&&d(t,"oncdata",t.cdata),d(t,"onclosecdata"),t.cdata="",t.state=Q.TEXT):"]"===a?t.cdata+="]":(t.cdata+="]]"+a,t.state=Q.CDATA);continue;case Q.PROC_INST:"?"===a?t.state=Q.PROC_INST_ENDING:c(N,a)?t.state=Q.PROC_INST_BODY:t.procInstName+=a;continue;case Q.PROC_INST_BODY:if(!t.procInstBody&&c(N,a))continue;"?"===a?t.state=Q.PROC_INST_ENDING:t.procInstBody+=a;continue;case Q.PROC_INST_ENDING:">"===a?(d(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=Q.TEXT):(t.procInstBody+="?"+a,t.state=Q.PROC_INST_BODY);continue;case Q.OPEN_TAG:c(G,a)?t.tagName+=a:(_(t),">"===a?D(t):"/"===a?t.state=Q.OPEN_TAG_SLASH:(h(N,a)&&T(t,"Invalid character in tag name"),t.state=Q.ATTRIB));continue;case Q.OPEN_TAG_SLASH:">"===a?(D(t,!0),v(t)):(T(t,"Forward-slash in opening tag not followed by >"),t.state=Q.ATTRIB);continue;case Q.ATTRIB:if(c(N,a))continue;">"===a?D(t):"/"===a?t.state=Q.OPEN_TAG_SLASH:c(q,a)?(t.attribName=a,t.attribValue="",t.state=Q.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case Q.ATTRIB_NAME:"="===a?t.state=Q.ATTRIB_VALUE:">"===a?(T(t,"Attribute without value"),t.attribValue=t.attribName,I(t),D(t)):c(N,a)?t.state=Q.ATTRIB_NAME_SAW_WHITE:c(G,a)?t.attribName+=a:T(t,"Invalid attribute name");continue;case Q.ATTRIB_NAME_SAW_WHITE:if("="===a)t.state=Q.ATTRIB_VALUE;else{if(c(N,a))continue;T(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",d(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===a?D(t):c(q,a)?(t.attribName=a,t.state=Q.ATTRIB_NAME):(T(t,"Invalid attribute name"),t.state=Q.ATTRIB)}continue;case Q.ATTRIB_VALUE:if(c(N,a))continue;c(R,a)?(t.q=a,t.state=Q.ATTRIB_VALUE_QUOTED):(T(t,"Unquoted attribute value"),t.state=Q.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case Q.ATTRIB_VALUE_QUOTED:if(a!==t.q){"&"===a?t.state=Q.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}I(t),t.q="",t.state=Q.ATTRIB_VALUE_CLOSED;continue;case Q.ATTRIB_VALUE_CLOSED:c(N,a)?t.state=Q.ATTRIB:">"===a?D(t):"/"===a?t.state=Q.OPEN_TAG_SLASH:c(q,a)?(T(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=Q.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case Q.ATTRIB_VALUE_UNQUOTED:if(h(L,a)){"&"===a?t.state=Q.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}I(t),">"===a?D(t):t.state=Q.ATTRIB;continue;case Q.CLOSE_TAG:if(t.tagName)">"===a?v(t):c(G,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=Q.SCRIPT):(h(N,a)&&T(t,"Invalid tagname in closing tag"),t.state=Q.CLOSE_TAG_SAW_WHITE);else{if(c(N,a))continue;h(q,a)?t.script?(t.script+="</"+a,t.state=Q.SCRIPT):T(t,"Invalid tagname in closing tag."):t.tagName=a}continue;case Q.CLOSE_TAG_SAW_WHITE:if(c(N,a))continue;">"===a?v(t):T(t,"Invalid characters in closing tag");continue;case Q.TEXT_ENTITY:case Q.ATTRIB_VALUE_ENTITY_Q:case Q.ATTRIB_VALUE_ENTITY_U:var o,l;switch(t.state){case Q.TEXT_ENTITY:o=Q.TEXT,l="textNode";break;case Q.ATTRIB_VALUE_ENTITY_Q:o=Q.ATTRIB_VALUE_QUOTED,l="attribValue";break;case Q.ATTRIB_VALUE_ENTITY_U:o=Q.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===a?(t[l]+=b(t),t.entity="",t.state=o):c(t.entity.length?z:V,a)?t.entity+=a:(T(t,"Invalid character in entity name"),t[l]+="&"+t.entity+a,t.entity="",t.state=o);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&n(t),t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var w;try{w=e("stream").Stream}catch(e){w=function(){}}var P=i.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});o.prototype=Object.create(w.prototype,{constructor:{value:o}}),o.prototype.write=function(i){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(i)){if(!this._decoder){var a=e("string_decoder").StringDecoder;this._decoder=new a("utf8")}i=this._decoder.write(i)}return this._parser.write(i.toString()),this.emit("data",i),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===P.indexOf(e)||(i._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),w.prototype.on.call(i,e,t)};var N="\r\n\t ",O="0124356789",x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",R="'\"",L=N+">",M="[CDATA[",F="DOCTYPE",U="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",B={xml:U,xmlns:k};N=l(N),O=l(O),x=l(x);var q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,G=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,V=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;R=l(R),L=l(L);var Q=0;i.STATE={BEGIN:Q++,BEGIN_WHITESPACE:Q++,TEXT:Q++,TEXT_ENTITY:Q++,OPEN_WAKA:Q++,SGML_DECL:Q++,SGML_DECL_QUOTED:Q++,DOCTYPE:Q++,DOCTYPE_QUOTED:Q++,DOCTYPE_DTD:Q++,DOCTYPE_DTD_QUOTED:Q++,COMMENT_STARTING:Q++,COMMENT:Q++,COMMENT_ENDING:Q++,COMMENT_ENDED:Q++,CDATA:Q++,CDATA_ENDING:Q++,CDATA_ENDING_2:Q++,PROC_INST:Q++,PROC_INST_BODY:Q++,PROC_INST_ENDING:Q++,OPEN_TAG:Q++,OPEN_TAG_SLASH:Q++,ATTRIB:Q++,ATTRIB_NAME:Q++,ATTRIB_NAME_SAW_WHITE:Q++,ATTRIB_VALUE:Q++,ATTRIB_VALUE_QUOTED:Q++,ATTRIB_VALUE_CLOSED:Q++,ATTRIB_VALUE_UNQUOTED:Q++,ATTRIB_VALUE_ENTITY_Q:Q++,ATTRIB_VALUE_ENTITY_U:Q++,CLOSE_TAG:Q++,CLOSE_TAG_SAW_WHITE:Q++,SCRIPT:Q++,SCRIPT_ENDING:Q++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach(function(e){var t=i.ENTITIES[e],a="number"==typeof t?String.fromCharCode(t):t;i.ENTITIES[e]=a});for(var H in i.STATE)i.STATE[i.STATE[H]]=H;Q=i.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,i=function(){var i,a,n=[],r=-1,s=arguments.length;if(!s)return"";for(var o="";++r<s;){var l=Number(arguments[r]);if(!isFinite(l)||l<0||l>1114111||t(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?n.push(l):(i=55296+((l-=65536)>>10),a=l%1024+56320,n.push(i,a)),(r+1===s||n.length>16384)&&(o+=e.apply(null,n),n.length=0)}return o};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}()}(void 0===i?this.sax={}:i)}).call(this,e("buffer").Buffer)},{buffer:3,stream:25,string_decoder:26}],44:[function(e,t,i){"use strict";var a=a||{};a.Transform=a.Transform||(void 0!==e?e("./transform.js"):null);var n=n||(void 0!==e?e("../lib/base64-binary.js"):null),r=r||(void 0!==e?e("pako"):null);a.NIFTI_INTENT_GENMATRIX="NIFTI_INTENT_GENMATRIX",a.NIFTI_INTENT_LABEL="NIFTI_INTENT_LABEL",a.NIFTI_INTENT_NODE_INDEX="NIFTI_INTENT_NODE_INDEX",a.NIFTI_INTENT_POINTSET="NIFTI_INTENT_POINTSET",a.NIFTI_INTENT_RGB_VECTOR="NIFTI_INTENT_RGB_VECTOR",a.NIFTI_INTENT_RGBA_VECTOR="NIFTI_INTENT_RGBA_VECTOR",a.NIFTI_INTENT_SHAPE="NIFTI_INTENT_SHAPE",a.NIFTI_INTENT_TIME_SERIES="NIFTI_INTENT_TIME_SERIES",a.NIFTI_INTENT_TRIANGLE="NIFTI_INTENT_TRIANGLE",a.NIFTI_INTENT_NONE="NIFTI_INTENT_NONE",a.NIFTI_INTENT_VECTOR="NIFTI_INTENT_VECTOR",a.ATT_ARRAYINDEXINGORDER="ArrayIndexingOrder",a.ATT_DATATYPE="DataType",a.ATT_DIMENSIONALITY="Dimensionality",a.ATT_DIMN="Dim",a.ATT_ENCODING="Encoding",a.ATT_ENDIAN="Endian",a.ATT_EXTERNALFILENAME="ExternalFileName",a.ATT_EXTERNALFILEOFFSET="ExternalFileOffset",a.ATT_INTENT="Intent",a.ENCODING_ASCII="ASCII",a.ENCODING_BASE64BINARY="Base64Binary",a.ENCODING_GZIPBASE64BINARY="GZipBase64Binary",a.ENCODING_EXTERNALFILEBINARY="ExternalFileBinary",a.TYPE_NIFTI_TYPE_UINT8="NIFTI_TYPE_UINT8",a.TYPE_NIFTI_TYPE_INT32="NIFTI_TYPE_INT32",a.TYPE_NIFTI_TYPE_FLOAT32="NIFTI_TYPE_FLOAT32",a.DataArray=a.DataArray||function(){this.attributes=null,this.metadata={},this.transforms=[],this.data=null,this.dataConverted=!1},a.DataArray.prototype.isPointSet=function(){return this.attributes[a.ATT_INTENT]===a.NIFTI_INTENT_POINTSET},a.DataArray.prototype.isTriangles=function(){return this.attributes[a.ATT_INTENT]===a.NIFTI_INTENT_TRIANGLE},a.DataArray.prototype.isNormals=function(){return this.attributes[a.ATT_INTENT]===a.NIFTI_INTENT_VECTOR},a.DataArray.prototype.isColors=function(){return this.attributes[a.ATT_INTENT]===a.NIFTI_INTENT_RGB_VECTOR||this.attributes[a.ATT_INTENT]===a.NIFTI_INTENT_RGBA_VECTOR},a.DataArray.prototype.getDimensions=function(){return parseInt(this.attributes[a.ATT_DIMENSIONALITY])},a.DataArray.prototype.getNumElements=function(e){return void 0===e&&(e=0),parseInt(this.attributes[a.ATT_DIMN+e])},a.DataArray.prototype.isScalar=function(){return 1==this.getDimensions()},a.DataArray.prototype.isTriple=function(){return 2==this.getDimensions()&&3==this.getNumElements(1)},a.DataArray.prototype.isQuad=function(){return 2==this.getDimensions()&&4==this.getNumElements(1)},a.DataArray.prototype.isAscii=function(){return a.ENCODING_ASCII===this.attributes[a.ATT_ENCODING]},a.DataArray.prototype.isBase64Binary=function(){return a.ENCODING_BASE64BINARY===this.attributes[a.ATT_ENCODING]},a.DataArray.prototype.isGzipBase64Binary=function(){return a.ENCODING_GZIPBASE64BINARY===this.attributes[a.ATT_ENCODING]},a.DataArray.prototype.isBase64Encoded=function(){return this.isBase64Binary()||this.isGzipBase64Binary()},a.DataArray.prototype.isFloat32=function(){return a.TYPE_NIFTI_TYPE_FLOAT32===this.attributes[a.ATT_DATATYPE]},a.DataArray.prototype.isInt32=function(){return a.TYPE_NIFTI_TYPE_INT32===this.attributes[a.ATT_DATATYPE]},a.DataArray.prototype.isUnsignedInt8=function(){return a.TYPE_NIFTI_TYPE_UINT8===this.attributes[a.ATT_DATATYPE]},a.DataArray.prototype.getData=function(){return this.dataConverted||(this.dataConverted=!0,this.isAscii()?this.isUnsignedInt8()?a.DataArray.readUnsignedInt8ASCII(this):this.isInt32()?a.DataArray.readSignedInt32ASCII(this):a.DataArray.readFloat32ASCII(this):this.isBase64Binary()?this.isUnsignedInt8()?a.DataArray.readUnsignedInt8Base64(this):this.isInt32()?a.DataArray.readSignedInt32Base64(this):a.DataArray.readFloat32Base64(this):this.isGzipBase64Binary()&&(this.isUnsignedInt8()?a.DataArray.readUnsignedInt8GZIPBase64(this):this.isInt32()?a.DataArray.readSignedInt32GZIPBase64(this):a.DataArray.readFloat32GZIPBase64(this))),this.data},a.DataArray.prototype.getDataAsync=function(e,t){this.dataConverted||(this.dataConverted=!0,this.isAscii()?(this.isUnsignedInt8()?a.DataArray.readUnsignedInt8ASCII(this):this.isInt32()?a.DataArray.readSignedInt32ASCII(this):a.DataArray.readFloat32ASCII(this),t()):this.isBase64Binary()?(this.isUnsignedInt8()?a.DataArray.readUnsignedInt8Base64(this):this.isInt32()?a.DataArray.readSignedInt32Base64(this):a.DataArray.readFloat32Base64(this),t()):this.isGzipBase64Binary()&&(this.isUnsignedInt8()?a.DataArray.readUnsignedInt8GZIPBase64Async(this,e,t):this.isInt32()?a.DataArray.readSignedInt32GZIPBase64Async(this,e,t):a.DataArray.readFloat32GZIPBase64Async(this,e,t)))},a.DataArray.readFloat32ASCII=function(e){var t=/[+-]?\d+(\.\d+)?/g;e.data=new Float32Array(e.data.match(t).map(function(e){return parseFloat(e)}))},a.DataArray.readSignedInt32ASCII=function(e){var t=/[+-]?\d+(\.\d+)?/g;e.data=new Int32Array(e.data.match(t).map(function(e){return parseInt(e)}))},a.DataArray.readUnsignedInt8ASCII=function(e){var t=/[+-]?\d+(\.\d+)?/g;e.data=new Uint8Array(e.data.match(t).map(function(e){return parseInt(e)}))},a.DataArray.readUnsignedInt8Base64=function(e){var t=n.decodeArrayBuffer(e.data);e.data=new Uint8Array(t,0,t.byteLength)},a.DataArray.readSignedInt32Base64=function(e){var t=n.decodeArrayBuffer(e.data);e.data=new Int32Array(t,0,t.byteLength/4)},a.DataArray.readFloat32Base64=function(e){var t=n.decodeArrayBuffer(e.data);e.data=new Float32Array(t,0,t.byteLength/4)},a.DataArray.readUnsignedInt8GZIPBase64=function(e){var t=n.decodeArrayBuffer(e.data);t=r.inflate(t).buffer,e.data=new Uint8Array(t,0,t.byteLength)},a.DataArray.readUnsignedInt8GZIPBase64Async=function(e,t,i){var s=n.decodeArrayBuffer(e.data),o=new r.Inflate,l=function(){e.data=new Uint8Array(o.result.buffer,0,o.result.buffer.byteLength),i(e.data)};setTimeout(function(){a.DataArray.readNext(o,s,0,t,l)},0)},a.DataArray.readSignedInt32GZIPBase64=function(e){var t=n.decodeArrayBuffer(e.data);t=r.inflate(t).buffer,e.data=new Int32Array(t,0,t.byteLength/4)},a.DataArray.readSignedInt32GZIPBase64Async=function(e,t,i){var s=n.decodeArrayBuffer(e.data),o=new r.Inflate,l=function(){e.data=new Int32Array(o.result.buffer,0,o.result.buffer.byteLength/4),i(e.data)};setTimeout(function(){a.DataArray.readNext(o,s,0,t,l)},0)},a.DataArray.readFloat32GZIPBase64=function(e){var t=n.decodeArrayBuffer(e.data);t=r.inflate(t).buffer,e.data=new Float32Array(t,0,t.byteLength/4)},a.DataArray.readFloat32GZIPBase64Async=function(e,t,i){var s=n.decodeArrayBuffer(e.data),o=new r.Inflate,l=function(){e.data=new Float32Array(o.result.buffer,0,o.result.buffer.byteLength/4),i(e.data)};setTimeout(function(){a.DataArray.readNext(o,s,0,t,l)},0)},a.DataArray.readNext=function(e,t,i,n,r){var s=i+32768,o=s>=t.byteLength;e.push(t.slice(i,i+32768),o),o?r():(n(s/t.byteLength),setTimeout(function(){a.DataArray.readNext(e,t,s,n,r)},0))},"undefined"!==typeof t&&t.exports&&(t.exports=a.DataArray)},{"../lib/base64-binary.js":1,"./transform.js":46,pako:27}],45:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||(void 0!==e?e("./utilities.js"):null),a.DataArray=a.DataArray||(void 0!==e?e("./dataArray.js"):null),a.Transform=a.Transform||(void 0!==e?e("./transform.js"):null);var n=n||(void 0!==e?e("sax"):null);a.TAG_TRANSFORM="CoordinateSystemTransformMatrix",a.TAG_DATA="Data",a.TAG_DATAARRAY="DataArray",a.TAG_DATASPACE="DataSpace",a.TAG_GIFTI="GIFTI",a.TAG_LABEL="Label",a.TAG_LABELTABLE="LabelTable",a.TAG_MATRIXDATA="MatrixData",a.TAG_METADATA="MetaData",a.TAG_MD="MD",a.TAG_NAME="Name",a.TAG_TRANSFORMEDSPACE="TransformedSpace",a.TAG_VALUE="Value",a.GIFTI=a.GIFTI||function(){this.attributes=null,this.metadata={},this.dataArrays=[]},a.GIFTI.prototype.getPointsDataArray=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isPointSet())return this.dataArrays[e];return null},a.GIFTI.prototype.getTrianglesDataArray=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isTriangles())return this.dataArrays[e];return null},a.GIFTI.prototype.getNormalsDataArray=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isNormals())return this.dataArrays[e];return null},a.GIFTI.prototype.getColorsDataArray=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isColors())return this.dataArrays[e];return null},a.GIFTI.prototype.getNumPoints=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isPointSet())return this.dataArrays[e].getNumElements();return 0},a.GIFTI.prototype.getNumTriangles=function(){var e;for(e=0;e<this.dataArrays.length;e+=1)if(this.dataArrays[e].isTriangles())return this.dataArrays[e].getNumElements();return 0},a.isThisFormat=function(e){return-1!==e.indexOf(".gii")},a.parse=function(e){var t=n.parser(!0),i=null,r=null,s=null,o=null,l=null,u=null,c="",h=!1,f=!1,d=!1,p=!1,m=!1,S=!1,g=!1,T=!1,_=!1,y=!1,I=!1;return t.onopentag=function(e){e.name===a.TAG_GIFTI?(h=!0,s=i=new a.GIFTI,i.attributes=e.attributes):e.name===a.TAG_METADATA?f=!0:e.name===a.TAG_MD?d=!0:e.name===a.TAG_NAME?p=!0:e.name===a.TAG_VALUE?m=!0:e.name===a.TAG_DATAARRAY?(S=!0,s=r=new a.DataArray,i.dataArrays.push(r),r.attributes=e.attributes):e.name===a.TAG_TRANSFORM?(g=!0,u=new a.Transform,r.transforms.push(u)):e.name===a.TAG_DATASPACE?T=!0:e.name===a.TAG_TRANSFORMEDSPACE?_=!0:e.name===a.TAG_MATRIXDATA?y=!0:e.name===a.TAG_DATA&&(I=!0)},t.ontext=t.oncdata=function(e){p?c+=e:m?c+=e:T?c+=e:_?c+=e:y?c+=e:I&&(c+=e)},t.onclosetag=function(e){e===a.TAG_GIFTI?h=!1:e===a.TAG_METADATA?f=!1:e===a.TAG_MD?(d=!1,s&&(s.metadata[o]=l)):e===a.TAG_NAME?(p=!1,o=c,c=""):e===a.TAG_VALUE?(m=!1,l=c,c=""):e===a.TAG_DATAARRAY?S=!1:e===a.TAG_TRANSFORM?g=!1:e===a.TAG_DATASPACE?(T=!1,u.dataSpace=c,c=""):e===a.TAG_TRANSFORMEDSPACE?(_=!1,u.transformedSpace=c,c=""):e===a.TAG_MATRIXDATA?(y=!1,u.matrixData=c,c=""):e===a.TAG_DATA&&(I=!1,r.data=c,c="")},t.onerror=function(e){console.log(e)},t.write(e).close(),i},"undefined"!==typeof t&&t.exports&&(t.exports=a)},{"./dataArray.js":44,"./transform.js":46,"./utilities.js":47,sax:43}],46:[function(e,t,i){"use strict";var a=a||{};a.Transform=a.Transform||function(){this.dataSpace=null,this.transformedSpace=null,this.matrixData=null},"undefined"!==typeof t&&t.exports&&(t.exports=a.Transform)},{}],47:[function(e,t,i){"use strict";var a=a||{};a.Utils=a.Utils||{},a.Utils.crcTable=null,a.Utils.makeCRCTable=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t},a.Utils.crc32=function(e){for(var t=a.Utils.crcTable||(a.Utils.crcTable=a.Utils.makeCRCTable()),i=-1,n=0;n<e.byteLength;n++)i=i>>>8^t[255&(i^e.getUint8(n))];return(-1^i)>>>0},"undefined"!==typeof t&&t.exports&&(t.exports=a.Utils)},{}]},{},[45])(45)}),glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array;var vec3={};vec3.create=function(e){var t=new glMatrixArrayType(3);return e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2]),t},vec3.set=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},vec3.add=function(e,t,i){return i&&e!=i?(i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i):(e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e)},vec3.subtract=function(e,t,i){return i&&e!=i?(i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i):(e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e)},vec3.negate=function(e,t){return t||(t=e),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},vec3.scale=function(e,t,i){return i&&e!=i?(i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i):(e[0]*=t,e[1]*=t,e[2]*=t,e)},vec3.normalize=function(e,t){t||(t=e);var i=e[0],a=e[1],n=e[2],r=Math.sqrt(i*i+a*a+n*n);return r?1==r?(t[0]=i,t[1]=a,t[2]=n,t):(r=1/r,t[0]=i*r,t[1]=a*r,t[2]=n*r,t):(t[0]=0,t[1]=0,t[2]=0,t)},vec3.cross=function(e,t,i){i||(i=e);var a=e[0],n=e[1];e=e[2];var r=t[0],s=t[1];return t=t[2],i[0]=n*t-e*s,i[1]=e*r-a*t,i[2]=a*s-n*r,i},vec3.length=function(e){var t=e[0],i=e[1];return e=e[2],Math.sqrt(t*t+i*i+e*e)},vec3.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},vec3.direction=function(e,t,i){i||(i=e);var a=e[0]-t[0],n=e[1]-t[1];return e=e[2]-t[2],(t=Math.sqrt(a*a+n*n+e*e))?(t=1/t,i[0]=a*t,i[1]=n*t,i[2]=e*t,i):(i[0]=0,i[1]=0,i[2]=0,i)},vec3.lerp=function(e,t,i,a){return a||(a=e),a[0]=e[0]+i*(t[0]-e[0]),a[1]=e[1]+i*(t[1]-e[1]),a[2]=e[2]+i*(t[2]-e[2]),a},vec3.str=function(e){return"["+e[0]+", "+e[1]+", "+e[2]+"]"};var mat3={};mat3.create=function(e){var t=new glMatrixArrayType(9);return e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9]),t},mat3.set=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},mat3.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},mat3.transpose=function(e,t){if(!t||e==t){var i=e[1],a=e[2],n=e[5];return e[1]=e[3],e[2]=e[6],e[3]=i,e[5]=e[7],e[6]=a,e[7]=n,e}return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t},mat3.toMat4=function(e,t){return t||(t=mat4.create()),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[3],t[5]=e[4],t[6]=e[5],t[7]=0,t[8]=e[6],t[9]=e[7],t[10]=e[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},mat3.str=function(e){return"["+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+"]"};var mat4={};mat4.create=function(e){var t=new glMatrixArrayType(16);return e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},mat4.set=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},mat4.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},mat4.transpose=function(e,t){if(!t||e==t){var i=e[1],a=e[2],n=e[3],r=e[6],s=e[7],o=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=i,e[6]=e[9],e[7]=e[13],e[8]=a,e[9]=r,e[11]=e[14],e[12]=n,e[13]=s,e[14]=o,e}return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t},mat4.determinant=function(e){var t=e[0],i=e[1],a=e[2],n=e[3],r=e[4],s=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14];return e=e[15],d*c*o*n-u*p*o*n-d*s*h*n+r*p*h*n+u*s*m*n-r*c*m*n-d*c*a*l+u*p*a*l+d*i*h*l-t*p*h*l-u*i*m*l+t*c*m*l+d*s*a*f-r*p*a*f-d*i*o*f+t*p*o*f+r*i*m*f-t*s*m*f-u*s*a*e+r*c*a*e+u*i*o*e-t*c*o*e-r*i*h*e+t*s*h*e},mat4.inverse=function(e,t){t||(t=e);var i=e[0],a=e[1],n=e[2],r=e[3],s=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],S=e[14],g=e[15],T=i*o-a*s,_=i*l-n*s,y=i*u-r*s,I=a*l-n*o,D=a*u-r*o,v=n*u-r*l,b=c*m-h*p,A=c*S-f*p,C=c*g-d*p,E=h*S-f*m,w=h*g-d*m,P=f*g-d*S,N=1/(T*P-_*w+y*E+I*C-D*A+v*b);return t[0]=(o*P-l*w+u*E)*N,t[1]=(-a*P+n*w-r*E)*N,t[2]=(m*v-S*D+g*I)*N,t[3]=(-h*v+f*D-d*I)*N,t[4]=(-s*P+l*C-u*A)*N,t[5]=(i*P-n*C+r*A)*N,t[6]=(-p*v+S*y-g*_)*N,t[7]=(c*v-f*y+d*_)*N,t[8]=(s*w-o*C+u*b)*N,t[9]=(-i*w+a*C-r*b)*N,t[10]=(p*D-m*y+g*T)*N,t[11]=(-c*D+h*y-d*T)*N,t[12]=(-s*E+o*A-l*b)*N,t[13]=(i*E-a*A+n*b)*N,t[14]=(-p*I+m*_-S*T)*N,t[15]=(c*I-h*_+f*T)*N,t},mat4.toRotationMat=function(e,t){return t||(t=mat4.create()),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},mat4.toMat3=function(e,t){return t||(t=mat3.create()),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},mat4.toInverseMat3=function(e,t){var i=e[0],a=e[1],n=e[2],r=e[4],s=e[5],o=e[6],l=e[8],u=e[9],c=e[10],h=c*s-o*u,f=-c*r+o*l,d=u*r-s*l,p=i*h+a*f+n*d;return p?(p=1/p,t||(t=mat3.create()),t[0]=h*p,t[1]=(-c*a+n*u)*p,t[2]=(o*a-n*s)*p,t[3]=f*p,t[4]=(c*i-n*l)*p,t[5]=(-o*i+n*r)*p,t[6]=d*p,t[7]=(-u*i+a*l)*p,t[8]=(s*i-a*r)*p,t):null},mat4.multiply=function(e,t,i){i||(i=e);var a=e[0],n=e[1],r=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],S=e[13],g=e[14];e=e[15];var T=t[0],_=t[1],y=t[2],I=t[3],D=t[4],v=t[5],b=t[6],A=t[7],C=t[8],E=t[9],w=t[10],P=t[11],N=t[12],O=t[13],x=t[14];return t=t[15],i[0]=T*a+_*o+y*h+I*m,i[1]=T*n+_*l+y*f+I*S,i[2]=T*r+_*u+y*d+I*g,i[3]=T*s+_*c+y*p+I*e,i[4]=D*a+v*o+b*h+A*m,i[5]=D*n+v*l+b*f+A*S,i[6]=D*r+v*u+b*d+A*g,i[7]=D*s+v*c+b*p+A*e,i[8]=C*a+E*o+w*h+P*m,i[9]=C*n+E*l+w*f+P*S,i[10]=C*r+E*u+w*d+P*g,i[11]=C*s+E*c+w*p+P*e,i[12]=N*a+O*o+x*h+t*m,i[13]=N*n+O*l+x*f+t*S,i[14]=N*r+O*u+x*d+t*g,i[15]=N*s+O*c+x*p+t*e,i},mat4.multiplyVec3=function(e,t,i){i||(i=t);var a=t[0],n=t[1];return t=t[2],i[0]=e[0]*a+e[4]*n+e[8]*t+e[12],i[1]=e[1]*a+e[5]*n+e[9]*t+e[13],i[2]=e[2]*a+e[6]*n+e[10]*t+e[14],i},mat4.multiplyVec4=function(e,t,i){i||(i=t);var a=t[0],n=t[1],r=t[2];return t=t[3],i[0]=e[0]*a+e[4]*n+e[8]*r+e[12]*t,i[1]=e[1]*a+e[5]*n+e[9]*r+e[13]*t,i[2]=e[2]*a+e[6]*n+e[10]*r+e[14]*t,i[3]=e[3]*a+e[7]*n+e[11]*r+e[15]*t,i},mat4.translate=function(e,t,i){var a=t[0],n=t[1];if(t=t[2],!i||e==i)return e[12]=e[0]*a+e[4]*n+e[8]*t+e[12],e[13]=e[1]*a+e[5]*n+e[9]*t+e[13],e[14]=e[2]*a+e[6]*n+e[10]*t+e[14],e[15]=e[3]*a+e[7]*n+e[11]*t+e[15],e;var r=e[0],s=e[1],o=e[2],l=e[3],u=e[4],c=e[5],h=e[6],f=e[7],d=e[8],p=e[9],m=e[10],S=e[11];return i[0]=r,i[1]=s,i[2]=o,i[3]=l,i[4]=u,i[5]=c,i[6]=h,i[7]=f,i[8]=d,i[9]=p,i[10]=m,i[11]=S,i[12]=r*a+u*n+d*t+e[12],i[13]=s*a+c*n+p*t+e[13],i[14]=o*a+h*n+m*t+e[14],i[15]=l*a+f*n+S*t+e[15],i},mat4.scale=function(e,t,i){var a=t[0],n=t[1];return t=t[2],i&&e!=i?(i[0]=e[0]*a,i[1]=e[1]*a,i[2]=e[2]*a,i[3]=e[3]*a,i[4]=e[4]*n,i[5]=e[5]*n,i[6]=e[6]*n,i[7]=e[7]*n,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i):(e[0]*=a,e[1]*=a,e[2]*=a,e[3]*=a,e[4]*=n,e[5]*=n,e[6]*=n,e[7]*=n,e[8]*=t,e[9]*=t,e[10]*=t,e[11]*=t,e)},mat4.rotate=function(e,t,i,a){var n=i[0],r=i[1];i=i[2];var s=Math.sqrt(n*n+r*r+i*i);if(!s)return null;1!=s&&(n*=s=1/s,r*=s,i*=s);var o=Math.sin(t),l=Math.cos(t),u=1-l;t=e[0],s=e[1];var c=e[2],h=e[3],f=e[4],d=e[5],p=e[6],m=e[7],S=e[8],g=e[9],T=e[10],_=e[11],y=n*n*u+l,I=r*n*u+i*o,D=i*n*u-r*o,v=n*r*u-i*o,b=r*r*u+l,A=i*r*u+n*o,C=n*i*u+r*o;return n=r*i*u-n*o,r=i*i*u+l,a?e!=a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]):a=e,a[0]=t*y+f*I+S*D,a[1]=s*y+d*I+g*D,a[2]=c*y+p*I+T*D,a[3]=h*y+m*I+_*D,a[4]=t*v+f*b+S*A,a[5]=s*v+d*b+g*A,a[6]=c*v+p*b+T*A,a[7]=h*v+m*b+_*A,a[8]=t*C+f*n+S*r,a[9]=s*C+d*n+g*r,a[10]=c*C+p*n+T*r,a[11]=h*C+m*n+_*r,a},mat4.rotateX=function(e,t,i){var a=Math.sin(t);t=Math.cos(t);var n=e[4],r=e[5],s=e[6],o=e[7],l=e[8],u=e[9],c=e[10],h=e[11];return i?e!=i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]):i=e,i[4]=n*t+l*a,i[5]=r*t+u*a,i[6]=s*t+c*a,i[7]=o*t+h*a,i[8]=n*-a+l*t,i[9]=r*-a+u*t,i[10]=s*-a+c*t,i[11]=o*-a+h*t,i},mat4.rotateY=function(e,t,i){var a=Math.sin(t);t=Math.cos(t);var n=e[0],r=e[1],s=e[2],o=e[3],l=e[8],u=e[9],c=e[10],h=e[11];return i?e!=i&&(i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]):i=e,i[0]=n*t+l*-a,i[1]=r*t+u*-a,i[2]=s*t+c*-a,i[3]=o*t+h*-a,i[8]=n*a+l*t,i[9]=r*a+u*t,i[10]=s*a+c*t,i[11]=o*a+h*t,i},mat4.rotateZ=function(e,t,i){var a=Math.sin(t);t=Math.cos(t);var n=e[0],r=e[1],s=e[2],o=e[3],l=e[4],u=e[5],c=e[6],h=e[7];return i?e!=i&&(i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]):i=e,i[0]=n*t+l*a,i[1]=r*t+u*a,i[2]=s*t+c*a,i[3]=o*t+h*a,i[4]=n*-a+l*t,i[5]=r*-a+u*t,i[6]=s*-a+c*t,i[7]=o*-a+h*t,i},mat4.frustum=function(e,t,i,a,n,r,s){s||(s=mat4.create());var o=t-e,l=a-i,u=r-n;return s[0]=2*n/o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*n/l,s[6]=0,s[7]=0,s[8]=(t+e)/o,s[9]=(a+i)/l,s[10]=-(r+n)/u,s[11]=-1,s[12]=0,s[13]=0,s[14]=-r*n*2/u,s[15]=0,s},mat4.perspective=function(e,t,i,a,n){return e=i*Math.tan(e*Math.PI/360),t*=e,mat4.frustum(-t,t,-e,e,i,a,n)},mat4.ortho=function(e,t,i,a,n,r,s){s||(s=mat4.create());var o=t-e,l=a-i,u=r-n;return s[0]=2/o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2/l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-2/u,s[11]=0,s[12]=-(e+t)/o,s[13]=-(a+i)/l,s[14]=-(r+n)/u,s[15]=1,s},mat4.lookAt=function(e,t,i,a){a||(a=mat4.create());var n=e[0],r=e[1];e=e[2];var s=i[0],o=i[1],l=i[2];i=t[1];var u=t[2];if(n==t[0]&&r==i&&e==u)return mat4.identity(a);var c,h,f,d;return i=n-t[0],u=r-t[1],t=e-t[2],d=1/Math.sqrt(i*i+u*u+t*t),i*=d,u*=d,t*=d,c=o*t-l*u,l=l*i-s*t,s=s*u-o*i,(d=Math.sqrt(c*c+l*l+s*s))?(c*=d=1/d,l*=d,s*=d):s=l=c=0,o=u*s-t*l,h=t*c-i*s,f=i*l-u*c,(d=Math.sqrt(o*o+h*h+f*f))?(o*=d=1/d,h*=d,f*=d):f=h=o=0,a[0]=c,a[1]=o,a[2]=i,a[3]=0,a[4]=l,a[5]=h,a[6]=u,a[7]=0,a[8]=s,a[9]=f,a[10]=t,a[11]=0,a[12]=-(c*n+l*r+s*e),a[13]=-(o*n+h*r+f*e),a[14]=-(i*n+u*r+t*e),a[15]=1,a},mat4.str=function(e){return"["+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+"]"},quat4={},quat4.create=function(e){var t=new glMatrixArrayType(4);return e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t},quat4.set=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},quat4.calculateW=function(e,t){var i=e[0],a=e[1],n=e[2];return t&&e!=t?(t[0]=i,t[1]=a,t[2]=n,t[3]=-Math.sqrt(Math.abs(1-i*i-a*a-n*n)),t):(e[3]=-Math.sqrt(Math.abs(1-i*i-a*a-n*n)),e)},quat4.inverse=function(e,t){return t&&e!=t?(t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t):(e[0]*=1,e[1]*=1,e[2]*=1,e)},quat4.length=function(e){var t=e[0],i=e[1],a=e[2];return e=e[3],Math.sqrt(t*t+i*i+a*a+e*e)},quat4.normalize=function(e,t){t||(t=e);var i=e[0],a=e[1],n=e[2],r=e[3],s=Math.sqrt(i*i+a*a+n*n+r*r);return 0==s?(t[0]=0,t[1]=0,t[2]=0,t[3]=0,t):(s=1/s,t[0]=i*s,t[1]=a*s,t[2]=n*s,t[3]=r*s,t)},quat4.multiply=function(e,t,i){i||(i=e);var a=e[0],n=e[1],r=e[2];e=e[3];var s=t[0],o=t[1],l=t[2];return t=t[3],i[0]=a*t+e*s+n*l-r*o,i[1]=n*t+e*o+r*s-a*l,i[2]=r*t+e*l+a*o-n*s,i[3]=e*t-a*s-n*o-r*l,i},quat4.multiplyVec3=function(e,t,i){i||(i=t);var a=t[0],n=t[1],r=t[2];t=e[0];var s=e[1],o=e[2],l=(e=e[3])*a+s*r-o*n,u=e*n+o*a-t*r,c=e*r+t*n-s*a;return a=-t*a-s*n-o*r,i[0]=l*e+a*-t+u*-o-c*-s,i[1]=u*e+a*-s+c*-t-l*-o,i[2]=c*e+a*-o+l*-s-u*-t,i},quat4.toMat3=function(e,t){t||(t=mat3.create());var i=e[0],a=e[1],n=e[2],r=e[3],s=i+i,o=a+a,l=n+n,u=i*s,c=i*o;i*=l;var h=a*o;return a*=l,n*=l,s*=r,o*=r,r*=l,t[0]=1-(h+n),t[1]=c-r,t[2]=i+o,t[3]=c+r,t[4]=1-(u+n),t[5]=a-s,t[6]=i-o,t[7]=a+s,t[8]=1-(u+h),t},quat4.toMat4=function(e,t){t||(t=mat4.create());var i=e[0],a=e[1],n=e[2],r=e[3],s=i+i,o=a+a,l=n+n,u=i*s,c=i*o;i*=l;var h=a*o;return a*=l,n*=l,s*=r,o*=r,r*=l,t[0]=1-(h+n),t[1]=c-r,t[2]=i+o,t[3]=0,t[4]=c+r,t[5]=1-(u+n),t[6]=a-s,t[7]=0,t[8]=i-o,t[9]=a+s,t[10]=1-(u+h),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},quat4.slerp=function(e,t,i,a){a||(a=e);var n=i;return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]<0&&(n=-1*i),a[0]=1-i*e[0]+n*t[0],a[1]=1-i*e[1]+n*t[1],a[2]=1-i*e[2]+n*t[2],a[3]=1-i*e[3]+n*t[3],a},quat4.str=function(e){return"["+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+"]"};var GLU={};!function(e){e.unProject=function(t,i,a,n,r,s,o){var l=[t,i,a,1],u=[];if(e.multMatrices(n,r,u),!e.invertMatrix(u,u))return!1;l[0]=(l[0]-s[0])/s[2],l[1]=(l[1]-s[1])/s[3],l[0]=2*l[0]-1,l[1]=2*l[1]-1,l[2]=2*l[2]-1;var c=[];return e.multMatrixVec(u,l,c),0!==c[3]&&(c[0]/=c[3],c[1]/=c[3],c[2]/=c[3],o[0]=c[0],o[1]=c[1],o[2]=c[2],!0)},e.multMatrixVec=function(e,t,i){for(var a=0;a<4;a+=1)i[a]=t[0]*e[0+a]+t[1]*e[4+a]+t[2]*e[8+a]+t[3]*e[12+a]},e.multMatrices=function(e,t,i){for(var a=0;a<4;a+=1)for(var n=0;n<4;n+=1)i[4*a+n]=e[4*a+0]*t[0+n]+e[4*a+1]*t[4+n]+e[4*a+2]*t[8+n]+e[4*a+3]*t[12+n]},e.invertMatrix=function(e,t){var i=[];i[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],i[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],i[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],i[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9],i[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],i[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],i[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],i[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],i[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],i[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],i[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],i[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],i[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],i[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],i[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],i[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5];var a=e[0]*i[0]+e[1]*i[4]+e[2]*i[8]+e[3]*i[12];if(0===a)return!1;a=1/a;for(var n=0;n<16;n+=1)t[n]=i[n]*a;return!0}}(GLU);var PAPAYA_BROWSER_MIN_FIREFOX=7,PAPAYA_BROWSER_MIN_CHROME=7,PAPAYA_BROWSER_MIN_SAFARI=6,PAPAYA_BROWSER_MIN_IE=10,PAPAYA_BROWSER_MIN_OPERA=12,PAPAYA_SURFACE_BROWSER_MIN_FIREFOX=7,PAPAYA_SURFACE_BROWSER_MIN_CHROME=8,PAPAYA_SURFACE_BROWSER_MIN_SAFARI=6,PAPAYA_SURFACE_BROWSER_MIN_IE=11,PAPAYA_SURFACE_BROWSER_MIN_OPERA=12,PAPAYA_CONTAINER_CLASS_NAME="papaya",PAPAYA_CONTAINER_COLLAPSABLE="papaya-collapsable",PAPAYA_CONTAINER_COLLAPSABLE_EXEMPT="papaya-collapsable-exempt",PAPAYA_CONTAINER_FULLSCREEN="papaya-fullscreen",PAPAYA_VIEWER_CSS="papaya-viewer",PAPAYA_TOOLBAR_CSS="papaya-toolbar",PAPAYA_TITLEBAR_CSS="papaya-titlebar",PAPAYA_SLIDER_CSS="papaya-slider-slice",PAPAYA_KIOSK_CONTROLS_CSS="papaya-kiosk-controls",PAPAYA_DISPLAY_CSS="papaya-display",PAPAYA_DIALOG_CSS="papaya-dialog",PAPAYA_DIALOG_CONTENT_CSS="papaya-dialog-content",PAPAYA_DIALOG_CONTENT_NOWRAP_CSS="papaya-dialog-content-nowrap",PAPAYA_DIALOG_CONTENT_LABEL_CSS="papaya-dialog-content-label",PAPAYA_DIALOG_CONTENT_CONTROL_CSS="papaya-dialog-content-control",PAPAYA_DIALOG_TITLE_CSS="papaya-dialog-title",PAPAYA_DIALOG_BUTTON_CSS="papaya-dialog-button",PAPAYA_DIALOG_BACKGROUND="papaya-dialog-background",PAPAYA_DIALOG_STOPSCROLL="papaya-dialog-stopscroll",PAPAYA_DIALOG_CONTENT_HELP="papaya-dialog-content-help",PAPAYA_MENU_CSS="papaya-menu",PAPAYA_MENU_LABEL_CSS="papaya-menu-label",PAPAYA_MENU_TITLEBAR_CSS="papaya-menu-titlebar",PAPAYA_MENU_ICON_CSS="papaya-menu-icon",PAPAYA_MENU_HOVERING_CSS="papaya-menu-hovering",PAPAYA_MENU_SPACER_CSS="papaya-menu-spacer",PAPAYA_MENU_UNSELECTABLE="papaya-menu-unselectable",PAPAYA_MENU_FILECHOOSER="papaya-menu-filechooser",PAPAYA_MENU_BUTTON_CSS="papaya-menu-button",PAPAYA_MENU_BUTTON_HOVERING_CSS="papaya-menu-button-hovering",PAPAYA_MENU_COLORTABLE_CSS="papaya-menu-colortable",PAPAYA_MENU_INPUT_FIELD="papaya-menu-input",PAPAYA_MENU_SLIDER="papaya-menu-slider",PAPAYA_CONTROL_INCREMENT_BUTTON_CSS="papaya-control-increment",PAPAYA_CONTROL_GOTO_CENTER_BUTTON_CSS="papaya-control-goto-center",PAPAYA_CONTROL_GOTO_ORIGIN_BUTTON_CSS="papaya-control-goto-origin",PAPAYA_CONTROL_SWAP_BUTTON_CSS="papaya-control-swap",PAPAYA_CONTROL_DIRECTION_SLIDER="papaya-direction-slider",PAPAYA_CONTROL_MAIN_SLIDER="papaya-main-slider",PAPAYA_CONTROL_MAIN_INCREMENT_BUTTON_CSS="papaya-main-increment",PAPAYA_CONTROL_MAIN_DECREMENT_BUTTON_CSS="papaya-main-decrement",PAPAYA_CONTROL_MAIN_SWAP_BUTTON_CSS="papaya-main-swap",PAPAYA_CONTROL_MAIN_GOTO_CENTER_BUTTON_CSS="papaya-main-goto-center",PAPAYA_CONTROL_MAIN_GOTO_ORIGIN_BUTTON_CSS="papaya-main-goto-origin",PAPAYA_CONTROL_BAR_LABELS_CSS="papaya-controlbar-label",PAPAYA_UTILS_CHECKFORJS_CSS="checkForJS",PAPAYA_UTILS_UNSUPPORTED_CSS="papaya-utils-unsupported",PAPAYA_UTILS_UNSUPPORTED_MESSAGE_CSS="papaya-utils-unsupported-message",PAPAYA_DEFAULT_VIEWER_ID="papayaViewer",PAPAYA_DEFAULT_DISPLAY_ID="papayaDisplay",PAPAYA_DEFAULT_TOOLBAR_ID="papayaToolbar",PAPAYA_DEFAULT_CONTAINER_ID="papayaContainer",PAPAYA_DEFAULT_SLIDER_ID="papayaSliceSlider",PAPAYA_SPACING=3,PAPAYA_PADDING=8,PAPAYA_CONTAINER_PADDING=20,PAPAYA_CONTAINER_PADDING_TOP=PAPAYA_CONTAINER_PADDING,PAPAYA_MANGO_INSTALLED="mangoinstalled",PAPAYA_CUSTOM_PROTOCOL="mango",GUNZIP_MAGIC_COOKIE1=31,GUNZIP_MAGIC_COOKIE2=139,papaya=papaya||{};papaya.utilities=papaya.utilities||{},papaya.utilities.ArrayUtils=papaya.utilities.ArrayUtils||{},papaya.utilities.ArrayUtils.createArray=function(e){var t,i=new Array(e||0);if(arguments.length>1){var a=Array.prototype.slice.call(arguments,1);for(t=0;t<e;t+=1)i[t]=papaya.utilities.ArrayUtils.createArray.apply(this,a)}return i},papaya.utilities.ArrayUtils.contains=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},Array.prototype.clone=function(){var e,t;for(e=this.slice(0),t=0;t<this.length;t+=1)this[t].clone&&(e[t]=this[t].clone());return e},(papaya=papaya||{}).utilities=papaya.utilities||{},papaya.utilities.MathUtils=papaya.utilities.MathUtils||{},papaya.utilities.MathUtils.EPSILON=1e-8,papaya.utilities.MathUtils.signum=function(e){return e?e<0?-1:1:0},papaya.utilities.MathUtils.lineDistance=function(e,t,i,a){var n,r;return n=i-e,n*=n,r=a-t,r*=r,Math.sqrt(n+r)},papaya.utilities.MathUtils.lineDistance3d=function(e,t,i,a,n,r){var s,o,l;return s=a-e,s*=s,o=n-t,o*=o,l=r-i,l*=l,Math.sqrt(s+o+l)},papaya.utilities.MathUtils.essentiallyEqual=function(e,t){return e===t||Math.abs(e-t)<=(Math.abs(e)>Math.abs(t)?Math.abs(t):Math.abs(e))*papaya.utilities.MathUtils.EPSILON},papaya.utilities.MathUtils.getPowerOfTwo=function(e,t){for(var t=t||1;t<e;)t*=2;return t},(papaya=papaya||{}).utilities=papaya.utilities||{},papaya.utilities.ObjectUtils=papaya.utilities.ObjectUtils||{},papaya.utilities.ObjectUtils.bind=function(e,t,i,a){if(2===arguments.length)return function(){return t.apply(e,arguments)};var n=t,r=Array.prototype.slice;return function(){var t=i||arguments;return!0===a?t=(t=r.call(arguments,0)).concat(i):"number"==typeof a&&(t=r.call(arguments,0),Ext.Array.insert(t,a,i)),n.apply(e||window,t)}},papaya.utilities.ObjectUtils.isString=function(e){return"string"==typeof e||e instanceof String},papaya.utilities.ObjectUtils.dereference=function(e){return papaya.utilities.ObjectUtils.dereferenceIn(window,e)},papaya.utilities.ObjectUtils.dereferenceIn=function(e,t){var i,a;if(!papaya.utilities.ObjectUtils.isString(t))return null;if(a=t.replace(/(^[' "]+|[" ']+$)/g,"").match(/(^[\w\$]+(\.[\w\$]+)*)/))for(i=e[(a=a[1].split(".")).shift()];i&&a.length;)i=i[a.shift()];return i||null},(papaya=papaya||{}).utilities=papaya.utilities||{},papaya.utilities.StringUtils=papaya.utilities.StringUtils||{},papaya.utilities.StringUtils.isStringBlank=function(e){return!e||"string"!=(typeof e).toLowerCase()||0===e.trim().length},papaya.utilities.StringUtils.formatNumber=function(e,t){var i=0;return i=papaya.utilities.ObjectUtils.isString(e)?Number(e):e,i=t?i.toPrecision(5):i.toPrecision(7),parseFloat(i)},papaya.utilities.StringUtils.getSizeString=function(e){return e>1048576?papaya.utilities.StringUtils.formatNumber(e/1048576,!0)+" Mb":e>1024?papaya.utilities.StringUtils.formatNumber(e/1024,!0)+" Kb":e+" Bytes"},papaya.utilities.StringUtils.wordwrap=function(e,t,i,a){if(i=i||"\n",t=t||75,a=a||!1,!e)return e;var n=".{1,"+t+"}(\\s|$)"+(a?"|.{"+t+"}|.+$":"|\\S+?(\\s|$)");return e.match(new RegExp(n,"g")).join(i)},papaya.utilities.StringUtils.truncateMiddleString=function(e,t){if(e.length<=t)return e;var i=t-"...".length,a=Math.ceil(i/2),n=Math.floor(i/2);return e.substr(0,a)+"..."+e.substr(e.length-n)},papaya.utilities.StringUtils.pad=function(e,t){return("000000000"+e).substr(-t)},papaya.utilities.StringUtils.arrayBufferToString=function(e){var t=new Uint8Array(e),i=String.fromCharCode.apply(String,t);if(/[\u0080-\uffff]/.test(i))throw new Error("this string seems to contain (still encoded) multibytes");return i},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0===this.indexOf(e)}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),(papaya=papaya||{}).utilities=papaya.utilities||{},papaya.utilities.UrlUtils=papaya.utilities.UrlUtils||{},papaya.utilities.UrlUtils.createCookie=function(e,t,i){var a,n;i?((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),n="; expires="+a.toGMTString()):n="",document.cookie=e+"="+t+n+"; path=/"},papaya.utilities.UrlUtils.readCookie=function(e){var t,i,a,n;for(t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a+=1){for(n=i[a];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},papaya.utilities.UrlUtils.eraseCookie=function(e){papaya.utilities.UrlUtils.createCookie(e,"",-1)},papaya.utilities.UrlUtils.getQueryParams=function(e){var t,i,a=/[?&]?([^=]+)=([^&]*)/g;if(-1!==document.location.href.indexOf("?"))for(i=(i=document.location.href.substring(document.location.href.indexOf("?")+1)).split("+").join(" "),t=a.exec(i);t;)e[decodeURIComponent(t[1])]=decodeURIComponent(t[2]),t=a.exec(i)},papaya.utilities.UrlUtils.getAbsoluteUrl=function(e,t){var i,a,n,r;return i=window.location.href,i=i.substring(0,i.lastIndexOf("/")),a=document.createElement("a"),a.href=i+"/"+t,n=a.host,"/"!==(r=a.pathname).charAt(0)&&(r="/"+r),e+"://"+n+r},(papaya=papaya||{}).core=papaya.core||{},papaya.core.Coordinate=papaya.core.Coordinate||function(e,t,i){this.x=e,this.y=t,this.z=i},papaya.core.Coordinate.prototype.setCoordinate=function(e,t,i,a){a?(this.x=Math.round(e),this.y=Math.round(t),this.z=Math.round(i)):(this.x=e,this.y=t,this.z=i)},papaya.core.Coordinate.prototype.toString=function(){return"("+this.x+","+this.y+","+this.z+")"},papaya.core.Coordinate.prototype.isAllZeros=function(){return 0===this.x&&0===this.y&&0===this.z},(papaya=papaya||{}).core=papaya.core||{},papaya.core.Point=papaya.core.Point||function(e,t){this.x=e,this.y=t},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.Header=papaya.volume.Header||function(e){this.fileFormat=null,this.imageDimensions=null,this.voxelDimensions=null,this.imageDescription=null,this.imageType=null,this.orientation=null,this.imageRange=null,this.error=null,this.origin=null,this.pad=e,this.orientationCertainty=papaya.volume.Header.ORIENTATION_CERTAINTY_UNKNOWN,this.onFinishedFileFormatRead=null},papaya.volume.Header.HEADER_TYPE_UNKNOWN=0,papaya.volume.Header.HEADER_TYPE_NIFTI=1,papaya.volume.Header.HEADER_TYPE_DICOM=2,papaya.volume.Header.ERROR_UNRECOGNIZED_FORMAT="This format is not recognized!",papaya.volume.Header.INVALID_IMAGE_DIMENSIONS="Image dimensions are not valid!",papaya.volume.Header.INVALID_VOXEL_DIMENSIONS="Voxel dimensions are not valid!",papaya.volume.Header.INVALID_DATATYPE="Datatype is not valid or not supported!",papaya.volume.Header.INVALID_IMAGE_RANGE="Image range is not valid!",papaya.volume.Header.ORIENTATION_CERTAINTY_UNKNOWN=0,papaya.volume.Header.ORIENTATION_CERTAINTY_LOW=1,papaya.volume.Header.ORIENTATION_CERTAINTY_HIGH=2,papaya.volume.Header.prototype.findHeaderType=function(e,t){return papaya.volume.nifti.HeaderNIFTI.isThisFormat(e,t)?papaya.volume.Header.HEADER_TYPE_NIFTI:papaya.Container.DICOM_SUPPORT&&papaya.volume.dicom.HeaderDICOM.isThisFormat(e,t)?papaya.volume.Header.HEADER_TYPE_DICOM:papaya.volume.Header.HEADER_TYPE_UNKNOWN},papaya.volume.Header.prototype.readHeaderData=function(e,t,i,a,n){var r=this.findHeaderType(e,t);this.onFinishedFileFormatRead=n,r===papaya.volume.Header.HEADER_TYPE_NIFTI?(this.fileFormat=new papaya.volume.nifti.HeaderNIFTI,this.fileFormat.readHeaderData(t,i,a,papaya.utilities.ObjectUtils.bind(this,this.onFinishedHeaderRead))):r===papaya.volume.Header.HEADER_TYPE_DICOM?(this.fileFormat=new papaya.volume.dicom.HeaderDICOM,this.fileFormat.readHeaderData(t,i,a,papaya.utilities.ObjectUtils.bind(this,this.onFinishedHeaderRead))):(this.error=new Error(papaya.volume.Header.ERROR_UNRECOGNIZED_FORMAT),this.onFinishedFileFormatRead())},papaya.volume.Header.prototype.onFinishedHeaderRead=function(){this.fileFormat.hasError()?this.error=this.fileFormat.error:(this.imageType=this.fileFormat.getImageType(),this.imageType.isValid()||(this.error=new Error(papaya.volume.Header.INVALID_DATATYPE)),this.imageDimensions=this.fileFormat.getImageDimensions(),this.imageDimensions.isValid()||(this.error=new Error(papaya.volume.Header.INVALID_IMAGE_DIMENSIONS)),this.voxelDimensions=this.fileFormat.getVoxelDimensions(),this.voxelDimensions.isValid()||(this.error=new Error(papaya.volume.Header.INVALID_VOXEL_DIMENSIONS)),this.pad&&this.imageDimensions.padIsometric(this.voxelDimensions),this.orientation=this.fileFormat.getOrientation(),this.orientation.isValid()?this.orientationCertainty=this.fileFormat.getOrientationCertainty():(this.orientation=new papaya.volume.Orientation(papaya.volume.Orientation.DEFAULT),this.orientationCertainty=papaya.volume.Header.ORIENTATION_CERTAINTY_UNKNOWN),this.orientation.createInfo(this.imageDimensions,this.voxelDimensions),this.origin=this.orientation.convertCoordinate(this.fileFormat.getOrigin(),new papaya.core.Coordinate(0,0,0)),this.imageRange=this.fileFormat.getImageRange(),this.imageRange.isValid()||(this.error=new Error(papaya.volume.Header.INVALID_IMAGE_RANGE)),this.imageDescription=this.fileFormat.getImageDescription()),this.onFinishedFileFormatRead()},papaya.volume.Header.prototype.getName=function(){return this.fileFormat.getName()},papaya.volume.Header.prototype.getSeriesLabels=function(){return this.fileFormat.getSeriesLabels()},papaya.volume.Header.prototype.readImageData=function(e,t){this.fileFormat.readImageData(e,t)},papaya.volume.Header.prototype.hasError=function(){return null!==this.error},papaya.volume.Header.prototype.getBestTransform=function(){return this.fileFormat.getBestTransform()},papaya.volume.Header.prototype.getBestTransformOrigin=function(){return this.fileFormat.getBestTransformOrigin()},papaya.volume.Header.prototype.toString=function(){return this.fileFormat.toString()},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.ImageData=papaya.volume.ImageData||function(e){this.data=null,this.pad=e},papaya.volume.ImageData.prototype.readFileData=function(e,t,i){var a,n,r,s,o;if(this.pad&&(t=this.padIsometric(e,t)),e.imageType.datatype===papaya.volume.ImageType.DATATYPE_RGB)if(a=t.byteLength/3,s=2*a,o=e.imageType.rgbBySample,n=new DataView(t,0),this.data=new Uint32Array(a),o){for(r=0;r<a;r+=1)this.data[r]|=n.getUint8(r)<<16;for(r=0;r<a;r+=1)this.data[r]|=n.getUint8(r+a)<<8;for(r=0;r<a;r+=1)this.data[r]|=n.getUint8(r+s)}else for(r=0;r<a;r+=1)this.data[r]=n.getUint8(3*r)<<16|n.getUint8(3*r+1)<<8|n.getUint8(3*r+2);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED&&1===e.imageType.numBytes)this.data=new Int8Array(t,0,t.byteLength);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED&&1===e.imageType.numBytes)this.data=new Uint8Array(t,0,t.byteLength);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED&&2===e.imageType.numBytes)this.data=new Int16Array(t,0,t.byteLength/2);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED&&2===e.imageType.numBytes)this.data=new Uint16Array(t,0,t.byteLength/2);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED&&4===e.imageType.numBytes)this.data=new Int32Array(t,0,t.byteLength/4);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED&&4===e.imageType.numBytes)this.data=new Uint32Array(t,0,t.byteLength/4);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_FLOAT&&4===e.imageType.numBytes)if(e.imageType.swapped)for(a=t.byteLength/Float32Array.BYTES_PER_ELEMENT,n=new DataView(t,0),this.data=new Float32Array(a),r=0;r<a;r+=1)this.data[r]=n.getFloat32(r*Float32Array.BYTES_PER_ELEMENT);else this.data=new Float32Array(t,0,t.byteLength/4);else if(e.imageType.datatype===papaya.volume.ImageType.DATATYPE_FLOAT&&8===e.imageType.numBytes)if(e.imageType.swapped)for(a=t.byteLength/Float64Array.BYTES_PER_ELEMENT,n=new DataView(t,0),this.data=new Float64Array(a),r=0;r<a;r+=1)this.data[r]=n.getFloat64(r*Float64Array.BYTES_PER_ELEMENT);else this.data=new Float64Array(t,0,t.byteLength/8);i()},papaya.volume.ImageData.prototype.padIsometric=function(e,t){var i=e.imageDimensions,a=e.voxelDimensions,n=e.imageType.numBytes,r=new Uint8Array(t,0,t.byteLength),s=i.colsOrig,o=i.rowsOrig,l=i.slicesOrig,u=s*a.colSize,c=o*a.rowSize,h=l*a.sliceSize,f=Math.max(Math.max(u,c),h),d=parseInt((f-u)/a.colSize/2,10),p=parseInt((f-c)/a.rowSize/2,10),m=parseInt((f-h)/a.sliceSize/2,10),S=s+2*d,g=o+2*p,T=l+2*m,_=s*n,y=d*n,I=p*S*n,D=m*(S*g)*n,v=0,b=0,A=new ArrayBuffer(S*g*T*n),C=new Uint8Array(A,0,A.byteLength);v+=D;for(var E=0;E<l;E+=1){v+=I;for(var w=0;w<o;w+=1){v+=y;for(var P=0;P<_;P+=1,b++,v++)C[v]=r[b];v+=y}v+=I}return A},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.ImageDescription=papaya.volume.ImageDescription||function(e){this.notes="(none)",papaya.utilities.StringUtils.isStringBlank(e)||(this.notes=e)},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.ImageDimensions=papaya.volume.ImageDimensions||function(e,t,i,a){this.cols=e,this.rows=t,this.slices=i,this.colsOrig=e,this.rowsOrig=t,this.slicesOrig=i,this.xDim=-1,this.yDim=-1,this.zDim=-1,this.timepoints=a||1,this.dataOffsets=[],this.dataLengths=[]},papaya.volume.ImageDimensions.prototype.padIsometric=function(e){var t=this,i=t.cols,a=t.rows,n=t.slices,r=i*e.colSize,s=a*e.rowSize,o=n*e.sliceSize,l=Math.max(Math.max(r,s),o),u=parseInt((l-r)/e.colSize/2,10),c=parseInt((l-s)/e.rowSize/2,10),h=parseInt((l-o)/e.sliceSize/2,10);this.cols=i+2*u,this.rows=a+2*c,this.slices=n+2*h},papaya.volume.ImageDimensions.prototype.getNumVoxelsSeries=function(){return this.cols*this.rows*this.slices*this.timepoints},papaya.volume.ImageDimensions.prototype.getNumVoxelsSlice=function(){return this.rows*this.cols},papaya.volume.ImageDimensions.prototype.getNumVoxelsVolume=function(){return this.rows*this.cols*this.slices},papaya.volume.ImageDimensions.prototype.isValid=function(){return this.cols>0&&this.rows>0&&this.slices>0&&this.timepoints>0&&this.dataOffsets[0]>=0&&this.dataLengths[0]>=0};var moduleType=typeof module;if("undefined"!==moduleType&&module.exports&&(module.exports.ImageDimensions=papaya.volume.ImageDimensions),(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.ImageRange=papaya.volume.ImageRange||function(e,t){this.displayMin=e,this.displayMax=t,this.imageMin=0,this.imageMax=0,this.dataScaleSlopes=[],this.dataScaleIntercepts=[],this.globalDataScaleSlope=1,this.globalDataScaleIntercept=0,this.usesGlobalDataScale=!1},papaya.volume.ImageRange.DEFAULT_SCALE=1,papaya.volume.ImageRange.DEFAULT_INTERCEPT=0,papaya.volume.ImageRange.prototype.isValid=function(){return!0},papaya.volume.ImageRange.prototype.setGlobalDataScale=function(e,t){this.globalDataScaleSlope=e,this.globalDataScaleIntercept=t,this.usesGlobalDataScale=!0,this.dataScaleSlopes=[],this.dataScaleIntercepts=[]},papaya.volume.ImageRange.prototype.validateDataScale=function(){var e,t,i=!1;if(1!==this.globalDataScaleSlope||0!==this.globalDataScaleIntercept)this.dataScaleSlopes=[],this.dataScaleIntercepts=[],this.usesGlobalDataScale=!0;else if(this.dataScaleSlopes.length>0&&this.dataScaleIntercepts.length>0){for(t=this.dataScaleSlopes[0],e=1;e<this.dataScaleSlopes.length;e+=1)if(t!==this.dataScaleSlopes[e]){i=!0;break}for(t=this.dataScaleIntercepts[0],e=1;e<this.dataScaleIntercepts.length;e+=1)if(t!==this.dataScaleIntercepts[e]){i=!0;break}i?this.usesGlobalDataScale=!1:this.setGlobalDataScale(this.dataScaleSlopes[0],this.dataScaleIntercepts[0])}else this.setGlobalDataScale(1,0)},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.ImageType=papaya.volume.ImageType||function(e,t,i,a){this.datatype=e,this.numBytes=t,this.littleEndian=i,this.swapped=!1,this.compressed=a,this.rgbBySample=!1},papaya.volume.ImageType.DATATYPE_UNKNOWN=0,papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED=1,papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED=2,papaya.volume.ImageType.DATATYPE_FLOAT=3,papaya.volume.ImageType.DATATYPE_RGB=4,papaya.volume.ImageType.MAX_SUPPORTED_BYTES_FLOAT=8,papaya.volume.ImageType.MAX_SUPPORTED_BYTES_INTEGER=4,papaya.volume.ImageType.prototype.isValid=function(){return this.datatype<=papaya.volume.ImageType.DATATYPE_RGB&&this.datatype>papaya.volume.ImageType.DATATYPE_UNKNOWN&&this.numBytes>0&&(this.datatype===papaya.volume.ImageType.DATATYPE_FLOAT&&this.numBytes<=papaya.volume.ImageType.MAX_SUPPORTED_BYTES_FLOAT||this.datatype!==papaya.volume.ImageType.DATATYPE_FLOAT&&this.numBytes<=papaya.volume.ImageType.MAX_SUPPORTED_BYTES_INTEGER)},papaya.volume.ImageType.prototype.getTypeDescription=function(){return this.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED?"Signed Integer":this.datatype===papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED?"Unsigned Integer":this.datatype===papaya.volume.ImageType.DATATYPE_FLOAT?"Float":this.datatype===papaya.volume.ImageType.DATATYPE_RGB?"RGB":"Unknown"},papaya.volume.ImageType.prototype.getOrderDescription=function(){return this.numBytes>1?this.littleEndian?"Little Endian":"Big Endian":null},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.nifti=papaya.volume.nifti||{},papaya.volume.nifti.HeaderNIFTI=papaya.volume.nifti.HeaderNIFTI||function(){this.nifti=null,this.isNIFTI2=!1,this.compressed=!1,this.ext=null,this.imageData=null},papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT="XYZ-++",papaya.volume.nifti.HeaderNIFTI.SPATIAL_UNITS_MASK=7,papaya.volume.nifti.HeaderNIFTI.TEMPORAL_UNITS_MASK=56,papaya.volume.nifti.HeaderNIFTI.isThisFormat=function(e,t){return-1!==e.indexOf(".nii")||nifti.isNIFTI(t[0])},papaya.volume.nifti.HeaderNIFTI.prototype.readHeaderData=function(e,t,i,a){this.nifti=nifti.readHeader(e[0]),this.isNIFTI2=nifti.isNIFTI2(e[0]);try{nifti.hasExtension(this.nifti)&&(this.ext=nifti.readExtensionData(this.nifti,e[0]))}catch(e){console.log("Problem reading NIFTI extension.")}this.imageData=nifti.readImage(this.nifti,e[0]),a()},papaya.volume.nifti.HeaderNIFTI.prototype.readImageData=function(e,t){t(this.imageData),this.imageData=null},papaya.volume.nifti.HeaderNIFTI.prototype.getImageDimensions=function(){var e=new papaya.volume.ImageDimensions(this.nifti.dims[1],this.nifti.dims[2],this.nifti.dims[3],this.nifti.dims[4]);return e.dataOffsets[0]=this.nifti.vox_offset,e.dataLengths[0]=e.getNumVoxelsSeries()*(this.nifti.numBitsPerVoxel/8),e},papaya.volume.nifti.HeaderNIFTI.prototype.getName=function(){return null},papaya.volume.nifti.HeaderNIFTI.prototype.getSeriesLabels=function(){var e=null;if(this.ext)try{var t=papaya.utilities.StringUtils.arrayBufferToString(this.ext).replace(/[^\x20-\x7F]/g,"").trim(),i=$.parseXML(t),a=$(i).find("MangoVolume");if(a.length){var n=a.find("Series");if(n.length){var r=n.find("Point"),s=n.attr("length");e=new Array(s),r.each(function(){var t=$(this).attr("index"),i=$(this).attr("name");e[parseInt(t)]=i})}}}catch(e){console.log("Unrecognized NIFTI extension found.")}return e},papaya.volume.nifti.HeaderNIFTI.prototype.getVoxelDimensions=function(){var e;return e=new papaya.volume.VoxelDimensions(this.nifti.pixDims[1],this.nifti.pixDims[2],this.nifti.pixDims[3],this.nifti.pixDims[4]),e.spatialUnit=this.nifti.xyzt_units&papaya.volume.nifti.HeaderNIFTI.SPATIAL_UNITS_MASK,e.temporalUnit=this.nifti.xyzt_units&papaya.volume.nifti.HeaderNIFTI.TEMPORAL_UNITS_MASK,e.flip=-1===this.nifti.pixDims[0],e},papaya.volume.nifti.HeaderNIFTI.prototype.getImageType=function(){var e=papaya.volume.ImageType.DATATYPE_UNKNOWN;return this.nifti.datatypeCode===nifti.NIFTI1.TYPE_UINT8||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_UINT16||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_UINT32||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_UINT64?e=papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED:this.nifti.datatypeCode===nifti.NIFTI1.TYPE_INT8||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_INT16||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_INT32||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_INT64?e=papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED:this.nifti.datatypeCode===nifti.NIFTI1.TYPE_FLOAT32||this.nifti.datatypeCode===nifti.NIFTI1.TYPE_FLOAT64?e=papaya.volume.ImageType.DATATYPE_FLOAT:this.nifti.datatypeCode===nifti.NIFTI1.TYPE_RGB24&&(e=papaya.volume.ImageType.DATATYPE_RGB),new papaya.volume.ImageType(e,this.nifti.numBitsPerVoxel/8,this.nifti.littleEndian,this.compressed)},papaya.volume.nifti.HeaderNIFTI.prototype.getOrientation=function(){var e=null;return this.nifti.qform_code>0&&!this.qFormHasRotations()&&(e=this.getOrientationQform()),this.nifti.sform_code>this.nifti.qform_code&&!this.sFormHasRotations()&&(e=this.getOrientationSform()),null===e&&(e=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT),new papaya.volume.Orientation(e)},papaya.volume.nifti.HeaderNIFTI.prototype.getOrientationQform=function(){var e=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT,t=this.nifti.convertNiftiQFormToNiftiSForm(this.nifti.quatern_b,this.nifti.quatern_c,this.nifti.quatern_d,this.nifti.qoffset_x,this.nifti.qoffset_y,this.nifti.qoffset_z,this.nifti.pixDims[1],this.nifti.pixDims[2],this.nifti.pixDims[3],this.nifti.pixDims[0]);return this.nifti.qform_code>0?(e=this.nifti.convertNiftiSFormToNEMA(t),papaya.volume.Orientation.isValidOrientationString(e)||(e=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT)):e=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT,e},papaya.volume.nifti.HeaderNIFTI.prototype.getOrientationSform=function(){var e=this.nifti.convertNiftiSFormToNEMA(this.nifti.affine);return papaya.volume.Orientation.isValidOrientationString(e)||(e=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT),e},papaya.volume.nifti.HeaderNIFTI.prototype.getQformMatCopy=function(){return this.nifti.getQformMat().clone()},papaya.volume.nifti.HeaderNIFTI.prototype.getSformMatCopy=function(){return this.nifti.affine.clone()},papaya.volume.nifti.HeaderNIFTI.prototype.getOrigin=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S=new papaya.core.Coordinate(0,0,0);return this.nifti.qform_code>0&&!t?this.qFormHasRotations()?(a=this.nifti.getQformMat(),n=numeric.inv(a),S.setCoordinate(n[0][3],n[1][3],n[2][3])):(i=this.nifti.convertNiftiQFormToNiftiSForm(this.nifti.quatern_b,this.nifti.quatern_c,this.nifti.quatern_d,this.nifti.qoffset_x,this.nifti.qoffset_y,this.nifti.qoffset_z,this.nifti.pixDims[1],this.nifti.pixDims[2],this.nifti.pixDims[3],this.nifti.pixDims[0]),s=this.nifti.convertNiftiSFormToNEMA(i),papaya.volume.Orientation.isValidOrientationString(s)||(s=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT),l=s.substring(0,3).toUpperCase(),u=s.substring(3),c=l.indexOf("X"),h=l.indexOf("Y"),f=l.indexOf("Z"),d="+"===u.charAt(c),p="+"===u.charAt(h),m="+"===u.charAt(f),(o=new Array(3))[0]=this.nifti.qoffset_x/this.nifti.pixDims[c+1]*(d?-1:1),o[1]=this.nifti.qoffset_y/this.nifti.pixDims[h+1]*(p?-1:1),o[2]=this.nifti.qoffset_z/this.nifti.pixDims[f+1]*(m?-1:1),S.setCoordinate(o[0],o[1],o[2],!0)):this.nifti.sform_code>0&&!e&&(this.sFormHasRotations()?(r=numeric.inv(this.nifti.affine),S.setCoordinate(r[0][3],r[1][3],r[2][3])):(s=this.nifti.convertNiftiSFormToNEMA(this.nifti.affine),papaya.volume.Orientation.isValidOrientationString(s)||(s=papaya.volume.nifti.HeaderNIFTI.ORIENTATION_DEFAULT),l=s.substring(0,3).toUpperCase(),u=s.substring(3),c=l.indexOf("X"),h=l.indexOf("Y"),f=l.indexOf("Z"),d="+"===u.charAt(c),p="+"===u.charAt(h),m="+"===u.charAt(f),(o=new Array(3))[0]=this.nifti.affine[0][3]/this.nifti.pixDims[c+1]*(d?-1:1),o[1]=this.nifti.affine[1][3]/this.nifti.pixDims[h+1]*(p?-1:1),o[2]=this.nifti.affine[2][3]/this.nifti.pixDims[f+1]*(m?-1:1),S.setCoordinate(o[0],o[1],o[2],!0))),S.isAllZeros()&&S.setCoordinate(this.nifti.dims[1]/2,this.nifti.dims[2]/2,this.nifti.dims[3]/2),S},papaya.volume.nifti.HeaderNIFTI.prototype.qFormHasRotations=function(){return papaya.volume.Transform.hasRotations(this.getQformMatCopy())},papaya.volume.nifti.HeaderNIFTI.prototype.sFormHasRotations=function(){return papaya.volume.Transform.hasRotations(this.getSformMatCopy())},papaya.volume.nifti.HeaderNIFTI.prototype.getImageRange=function(){var e=new papaya.volume.ImageRange(this.nifti.cal_min,this.nifti.cal_max),t=this.nifti.scl_slope,i=this.getImageDimensions();return 0===t&&(t=1),e.setGlobalDataScale(t,this.nifti.scl_inter,i.slices*i.timepoints),e.validateDataScale(),e},papaya.volume.nifti.HeaderNIFTI.prototype.hasError=function(){return!1},papaya.volume.nifti.HeaderNIFTI.prototype.getImageDescription=function(){return new papaya.volume.ImageDescription(this.nifti.description)},papaya.volume.nifti.HeaderNIFTI.prototype.getOrientationCertainty=function(){var e,t;return e=papaya.volume.Header.ORIENTATION_CERTAINTY_UNKNOWN,(this.nifti.qform_code>0||this.nifti.sform_code>0)&&(e=papaya.volume.Header.ORIENTATION_CERTAINTY_LOW,null===(t=this.getOrigin())||t.isAllZeros()||(e=papaya.volume.Header.ORIENTATION_CERTAINTY_HIGH)),e},papaya.volume.nifti.HeaderNIFTI.prototype.getBestTransform=function(){return this.nifti.qform_code>0&&this.nifti.qform_code>this.nifti.sform_code&&this.qFormHasRotations()?this.getQformMatCopy():this.nifti.sform_code>0&&this.nifti.sform_code>=this.nifti.qform_code&&this.sFormHasRotations()?this.getSformMatCopy():null},papaya.volume.nifti.HeaderNIFTI.prototype.getBestTransformOrigin=function(){return this.nifti.qform_code>0&&this.nifti.qform_code>this.nifti.sform_code&&this.qFormHasRotations()?this.getOrigin(!0,!1):this.nifti.sform_code>0&&this.nifti.sform_code>=this.nifti.qform_code&&this.sFormHasRotations()?this.getOrigin(!1,!0):null},papaya.volume.nifti.HeaderNIFTI.prototype.toString=function(){var e=papaya.utilities.StringUtils.formatNumber,t="";return this.isNIFTI2?(t+="<span style='color:#B5CBD3'>Datatype</span><span style='color:gray'> = </span>"+this.nifti.datatypeCode+" ("+this.nifti.getDatatypeCodeString(this.nifti.datatypeCode)+")<br />",t+="<span style='color:#B5CBD3'>Bits Per Voxel</span><span style='color:gray'> = </span>"+this.nifti.numBitsPerVoxel+"<br />",t+="<span style='color:#B5CBD3'>Image Dimensions</span> (1-8): "+this.nifti.dims[0]+", "+this.nifti.dims[1]+", "+this.nifti.dims[2]+", "+this.nifti.dims[3]+", "+this.nifti.dims[4]+", "+this.nifti.dims[5]+", "+this.nifti.dims[6]+", "+this.nifti.dims[7]+"<br />",t+="<span style='color:#B5CBD3'>Intent Parameters</span> (1-3): "+this.nifti.intent_p1+", "+this.nifti.intent_p2+", "+this.nifti.intent_p3+"<br />",t+="<span style='color:#B5CBD3'>Voxel Dimensions</span> (1-8): "+e(this.nifti.pixDims[0])+", "+e(this.nifti.pixDims[1])+", "+e(this.nifti.pixDims[2])+", "+e(this.nifti.pixDims[3])+", "+e(this.nifti.pixDims[4])+", "+e(this.nifti.pixDims[5])+", "+e(this.nifti.pixDims[6])+", "+e(this.nifti.pixDims[7])+"<br />",t+="<span style='color:#B5CBD3'>Image Offset</span><span style='color:gray'> = </span>"+this.nifti.vox_offset+"<br />",t+="<span style='color:#B5CBD3'>Data Scale:  Slope</span><span style='color:gray'> = </span>"+this.nifti.scl_slope+"  <span style='color:#B5CBD3'>Intercept</span><span style='color:gray'> = </span>"+this.nifti.scl_inter+"<br />",t+="<span style='color:#B5CBD3'>Display Range:  Max</span><span style='color:gray'> = </span>"+this.nifti.cal_max+"  <span style='color:#B5CBD3'>Min</span><span style='color:gray'> = </span>"+this.nifti.cal_min+"<br />",t+="<span style='color:#B5CBD3'>Slice Duration</span><span style='color:gray'> = </span>"+this.nifti.slice_duration+"<br />",t+="<span style='color:#B5CBD3'>Time Axis Shift</span><span style='color:gray'> = </span>"+this.nifti.toffset+"<br />",t+="<span style='color:#B5CBD3'>Slice Start</span><span style='color:gray'> = </span>"+this.nifti.slice_start+"<br />",t+="<span style='color:#B5CBD3'>Slice End</span><span style='color:gray'> = </span>"+this.nifti.slice_end+"<br />",t+="<span style='color:#B5CBD3'>Description</span>: \""+this.nifti.description+'"<br />',t+="<span style='color:#B5CBD3'>Auxiliary File</span>: \""+this.nifti.aux_file+'"<br />',t+="<span style='color:#B5CBD3'>Q-Form Code</span><span style='color:gray'> = </span>"+this.nifti.qform_code+" ("+this.nifti.getTransformCodeString(this.nifti.qform_code)+")<br />",t+="<span style='color:#B5CBD3'>S-Form Code</span><span style='color:gray'> = </span>"+this.nifti.sform_code+" ("+this.nifti.getTransformCodeString(this.nifti.sform_code)+")<br />",t+="<span style='color:#B5CBD3'>Quaternion Parameters</span>:  <span style='color:#B5CBD3'>b</span> <span style='color:gray'>=</span> "+e(this.nifti.quatern_b)+"  <span style='color:#B5CBD3'>c</span> <span style='color:gray'>=</span> "+e(this.nifti.quatern_c)+"  <span style='color:#B5CBD3'>d</span> <span style='color:gray'>=</span> "+e(this.nifti.quatern_d)+"<br />",t+="<span style='color:#B5CBD3'>Quaternion Offsets</span>:  <span style='color:#B5CBD3'>x</span> <span style='color:gray'>=</span> "+this.nifti.qoffset_x+"  <span style='color:#B5CBD3'>y</span> <span style='color:gray'>=</span> "+this.nifti.qoffset_y+"  <span style='color:#B5CBD3'>z</span> <span style='color:gray'>=</span> "+this.nifti.qoffset_z+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters X</span>: "+e(this.nifti.affine[0][0])+", "+e(this.nifti.affine[0][1])+", "+e(this.nifti.affine[0][2])+", "+e(this.nifti.affine[0][3])+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters Y</span>: "+e(this.nifti.affine[1][0])+", "+e(this.nifti.affine[1][1])+", "+e(this.nifti.affine[1][2])+", "+e(this.nifti.affine[1][3])+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters Z</span>: "+e(this.nifti.affine[2][0])+", "+e(this.nifti.affine[2][1])+", "+e(this.nifti.affine[2][2])+", "+e(this.nifti.affine[2][3])+"<br />",t+="<span style='color:#B5CBD3'>Slice Code</span><span style='color:gray'> = </span>"+this.nifti.slice_code+"<br />",t+="<span style='color:#B5CBD3'>Units Code</span><span style='color:gray'> = </span>"+this.nifti.xyzt_units+" ("+this.nifti.getUnitsCodeString(nifti.NIFTI1.SPATIAL_UNITS_MASK&this.nifti.xyzt_units)+", "+this.nifti.getUnitsCodeString(nifti.NIFTI1.TEMPORAL_UNITS_MASK&this.nifti.xyzt_units)+")<br />",t+="<span style='color:#B5CBD3'>Intent Code </span><span style='color:gray'> = </span>"+this.nifti.intent_code+"<br />",t+="<span style='color:#B5CBD3'>Intent Name</span>: \""+this.nifti.intent_name+'"<br />',t+="<span style='color:#B5CBD3'>Dim Info </span><span style='color:gray'> = </span>"+this.nifti.dim_info+"<br />"):(t+="<span style='color:#B5CBD3'>Dim Info</span><span style='color:gray'> = </span>"+this.nifti.dim_info+"<br />",t+="<span style='color:#B5CBD3'>Image Dimensions</span> (1-8): "+this.nifti.dims[0]+", "+this.nifti.dims[1]+", "+this.nifti.dims[2]+", "+this.nifti.dims[3]+", "+this.nifti.dims[4]+", "+this.nifti.dims[5]+", "+this.nifti.dims[6]+", "+this.nifti.dims[7]+"<br />",t+="<span style='color:#B5CBD3'>Intent Parameters</span> (1-3): "+this.nifti.intent_p1+", "+this.nifti.intent_p2+", "+this.nifti.intent_p3+"<br />",t+="<span style='color:#B5CBD3'>Intent Code</span><span style='color:gray'> = </span>"+this.nifti.intent_code+"<br />",t+="<span style='color:#B5CBD3'>Datatype</span><span style='color:gray'> = </span>"+this.nifti.datatypeCode+" ("+this.nifti.getDatatypeCodeString(this.nifti.datatypeCode)+")<br />",t+="<span style='color:#B5CBD3'>Bits Per Voxel</span><span style='color:gray'> = </span>"+this.nifti.numBitsPerVoxel+"<br />",t+="<span style='color:#B5CBD3'>Slice Start</span><span style='color:gray'> = </span>"+this.nifti.slice_start+"<br />",t+="<span style='color:#B5CBD3'>Voxel Dimensions</span> (1-8): "+e(this.nifti.pixDims[0])+", "+e(this.nifti.pixDims[1])+", "+e(this.nifti.pixDims[2])+", "+e(this.nifti.pixDims[3])+", "+e(this.nifti.pixDims[4])+", "+e(this.nifti.pixDims[5])+", "+e(this.nifti.pixDims[6])+", "+e(this.nifti.pixDims[7])+"<br />",t+="<span style='color:#B5CBD3'>Image Offset</span><span style='color:gray'> = </span>"+this.nifti.vox_offset+"<br />",t+="<span style='color:#B5CBD3'>Data Scale</span>:  <span style='color:#B5CBD3'>Slope</span> = "+this.nifti.scl_slope+"  <span style='color:#B5CBD3'>Intercept</span> = "+this.nifti.scl_inter+"<br />",t+="<span style='color:#B5CBD3'>Slice End</span><span style='color:gray'> = </span>"+this.nifti.slice_end+"<br />",t+="<span style='color:#B5CBD3'>Slice Code</span><span style='color:gray'> = </span>"+this.nifti.slice_code+"<br />",t+="<span style='color:#B5CBD3'>Units Code</span><span style='color:gray'> = </span>"+this.nifti.xyzt_units+" ("+this.nifti.getUnitsCodeString(nifti.NIFTI1.SPATIAL_UNITS_MASK&this.nifti.xyzt_units)+", "+this.nifti.getUnitsCodeString(nifti.NIFTI1.TEMPORAL_UNITS_MASK&this.nifti.xyzt_units)+")<br />",t+="<span style='color:#B5CBD3'>Display Range</span>:  <span style='color:#B5CBD3'>Max</span><span style='color:gray'> = </span>"+this.nifti.cal_max+"  <span style='color:#B5CBD3'>Min</span><span style='color:gray'> = </span>"+this.nifti.cal_min+"<br />",t+="<span style='color:#B5CBD3'>Slice Duration</span><span style='color:gray'> = </span>"+this.nifti.slice_duration+"<br />",t+="<span style='color:#B5CBD3'>Time Axis Shift</span><span style='color:gray'> = </span>"+this.nifti.toffset+"<br />",t+="<span style='color:#B5CBD3'>Description</span>: \""+this.nifti.description+'"<br />',t+="<span style='color:#B5CBD3'>Auxiliary File</span>: \""+this.nifti.aux_file+'"<br />',t+="<span style='color:#B5CBD3'>Q-Form Code</span><span style='color:gray'> = </span>"+this.nifti.qform_code+" ("+this.nifti.getTransformCodeString(this.nifti.qform_code)+")<br />",t+="<span style='color:#B5CBD3'>S-Form Code</span><span style='color:gray'> = </span>"+this.nifti.sform_code+" ("+this.nifti.getTransformCodeString(this.nifti.sform_code)+")<br />",t+="<span style='color:#B5CBD3'>Quaternion Parameters</span>:  <span style='color:#B5CBD3'>b</span><span style='color:gray'> = </span>"+e(this.nifti.quatern_b)+"  <span style='color:#B5CBD3'>c</span><span style='color:gray'> = </span>"+e(this.nifti.quatern_c)+"  <span style='color:#B5CBD3'>d</span><span style='color:gray'> = </span>"+e(this.nifti.quatern_d)+"<br />",t+="<span style='color:#B5CBD3'>Quaternion Offsets</span>:  <span style='color:#B5CBD3'>x</span><span style='color:gray'> = </span>"+this.nifti.qoffset_x+"  <span style='color:#B5CBD3'>y</span><span style='color:gray'> = </span>"+this.nifti.qoffset_y+"  <span style='color:#B5CBD3'>z</span><span style='color:gray'> = </span>"+this.nifti.qoffset_z+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters X</span>: "+e(this.nifti.affine[0][0])+", "+e(this.nifti.affine[0][1])+", "+e(this.nifti.affine[0][2])+", "+e(this.nifti.affine[0][3])+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters Y</span>: "+e(this.nifti.affine[1][0])+", "+e(this.nifti.affine[1][1])+", "+e(this.nifti.affine[1][2])+", "+e(this.nifti.affine[1][3])+"<br />",t+="<span style='color:#B5CBD3'>S-Form Parameters Z</span>: "+e(this.nifti.affine[2][0])+", "+e(this.nifti.affine[2][1])+", "+e(this.nifti.affine[2][2])+", "+e(this.nifti.affine[2][3])+"<br />",t+="<span style='color:#B5CBD3'>Intent Name</span>: \""+this.nifti.intent_name+'"<br />'),t},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.dicom=papaya.volume.dicom||{},papaya.volume.dicom.HeaderDICOM=papaya.volume.dicom.HeaderDICOM||function(){this.series=null,this.seriesMap=[],this.error=null,this.onFinishedHeaderRead=null,this.dialogHandler=null},papaya.volume.dicom.HeaderDICOM.ORIENTATION_DEFAULT="XYZ+--",papaya.volume.dicom.HeaderDICOM.SUPPORTED_TRANSFER_SYNTAXES=["1.2.840.10008.1.2","1.2.840.10008.1.2.1","1.2.840.10008.1.2.2","1.2.840.10008.1.2.1.99","1.2.840.10008.1.2.4.50","1.2.840.10008.1.2.4.51","1.2.840.10008.1.2.4.57","1.2.840.10008.1.2.4.70","1.2.840.10008.1.2.4.90","1.2.840.10008.1.2.4.91","1.2.840.10008.1.2.5"],papaya.volume.dicom.HeaderDICOM.isThisFormat=function(e,t){var i,a,n,r,s,o,l=0;if(-1!==e.indexOf(".dcm"))return!0;for(i=new DataView(t[0]),a=daikon.Parser.MAGIC_COOKIE_OFFSET,n=daikon.Parser.MAGIC_COOKIE.length,r=0;r<n;r+=1)i.getUint8(a+r)===daikon.Parser.MAGIC_COOKIE[r]&&(l+=1);return 4===l||(s=new daikon.Parser,null!==(o=s.testForValidTag(i))&&o.group<=8&&!s.hasError())},papaya.volume.dicom.HeaderDICOM.prototype.setSeries=function(e,t){var i;for(i=0;i<Object.keys(this.seriesMap).length;i+=1)if(-1!==Object.keys(this.seriesMap)[i].indexOf(t)){this.series=this.seriesMap[Object.keys(this.seriesMap)[i]];break}},papaya.volume.dicom.HeaderDICOM.prototype.getDataScaleSlope=function(e,t){return e?t.getDataScaleElscint()||1:t.getDataScaleSlope()||1},papaya.volume.dicom.HeaderDICOM.prototype.getDataScaleIntercept=function(e,t){return e?0:t.getDataScaleIntercept()||0},papaya.volume.dicom.HeaderDICOM.prototype.finishedHeaderRead=function(){var e,t,i;if(this.error)this.onFinishedHeaderRead();else if(Object.keys(this.seriesMap).length>1){for(this.series=this.seriesMap[Object.keys(this.seriesMap)[0]],t=[],i=0;i<Object.keys(this.seriesMap).length;i+=1)t.push(this.seriesMap[Object.keys(this.seriesMap)[i]]);e={items:[{label:"Select:",field:"series",options:t}]},this.dialogHandler.showDialog("Select DICOM Series",e,this,papaya.utilities.ObjectUtils.bind(this,this.setSeries),papaya.utilities.ObjectUtils.bind(this,this.finishedSeriesSelection))}else this.series=this.seriesMap[Object.keys(this.seriesMap)[0]],this.series.images.length>0?(this.series.buildSeries(),this.isTransferSyntaxSupported()||(this.error=new Error("This transfer syntax is currently not supported!"))):this.error=new Error("No images found!"),this.onFinishedHeaderRead()},papaya.volume.dicom.HeaderDICOM.prototype.isTransferSyntaxSupported=function(){var e=this.series.images[0].getTransferSyntax();return papaya.utilities.StringUtils.isStringBlank(e)||papaya.utilities.ArrayUtils.contains(papaya.volume.dicom.HeaderDICOM.SUPPORTED_TRANSFER_SYNTAXES,e)},papaya.volume.dicom.HeaderDICOM.prototype.finishedSeriesSelection=function(){this.series.images.length>0?(this.series.buildSeries(),this.isTransferSyntaxSupported()||(this.error=new Error("This transfer syntax is currently not supported!"))):this.error=new Error("No images found!"),this.seriesMap=null,this.onFinishedHeaderRead()},papaya.volume.dicom.HeaderDICOM.prototype.readHeaderData=function(e,t,i,a){this.onFinishedHeaderRead=a,this.dialogHandler=i,this.readNextHeaderData(e,0,t,papaya.utilities.ObjectUtils.bind(this,this.finishedHeaderRead))},papaya.volume.dicom.HeaderDICOM.prototype.readNextHeaderData=function(e,t,i,a){var n,r;t>=e.length?(i.drawProgress(1,"Reading DICOM Headers"),a()):(null===(n=daikon.Series.parseImage(new DataView(e[t])))?this.error=daikon.Series.parserError:n.hasPixelData()?((r=this.findSeries(n.getSeriesId()))||(r=new daikon.Series,this.seriesMap[n.getSeriesId()]=r),r.addImage(n)):this.error=new Error("No pixel data found!"),this.error?a():(i.drawProgress(t/e.length,"Reading DICOM Headers"),setTimeout(function(){this.readNextHeaderData(e,t+1,i,a)}.bind(this),0)))},papaya.volume.dicom.HeaderDICOM.prototype.getName=function(){var e=this.series.getName();return e||null},papaya.volume.dicom.HeaderDICOM.prototype.getSeriesLabels=function(){return null},papaya.volume.dicom.HeaderDICOM.prototype.findSeries=function(e){return 0===Object.keys(this.seriesMap).length?null:this.seriesMap[e]},papaya.volume.dicom.HeaderDICOM.prototype.readImageData=function(e,t){this.series.concatenateImageData(e,t)},papaya.volume.dicom.HeaderDICOM.prototype.getImageDimensions=function(){var e,t,i,a;for(this.series.isMosaic?(t=this.series.images[0].getMosaicCols()*this.series.images[0].getMosaicRows(),e=new papaya.volume.ImageDimensions(parseInt(this.series.images[0].getCols()/this.series.images[0].getMosaicCols()),parseInt(this.series.images[0].getRows()/this.series.images[0].getMosaicRows()),t,this.series.images.length)):e=this.series.isMultiFrameVolume?new papaya.volume.ImageDimensions(this.series.images[0].getCols(),this.series.images[0].getRows(),this.series.numberOfFrames,1):this.series.isMultiFrameTimeseries?new papaya.volume.ImageDimensions(this.series.images[0].getCols(),this.series.images[0].getRows(),this.series.numberOfFramesInFile,this.series.numberOfFrames):this.series.isImplicitTimeseries?new papaya.volume.ImageDimensions(this.series.images[0].getCols(),this.series.images[0].getRows(),parseInt(this.series.images.length/this.series.numberOfFrames),this.series.numberOfFrames):new papaya.volume.ImageDimensions(this.series.images[0].getCols(),this.series.images[0].getRows(),this.series.images.length,1),a=parseInt(e.getNumVoxelsSeries()*parseInt(this.series.images[0].getBitsAllocated()/8)/this.series.images.length),i=0;i<this.series.images.length;i+=1)e.dataOffsets[i]=this.series.images[i].getPixelData().offsetValue,e.dataLengths[i]=a;return e},papaya.volume.dicom.HeaderDICOM.prototype.getVoxelDimensions=function(){var e,t,i,a;return a=this.series.images[0].getPixelSpacing()||[0,0],t=Math.max(this.series.images[0].getSliceGap(),this.series.images[0].getSliceThickness()),this.series.isMosaic||this.series.isMultiFrame?e=new papaya.volume.VoxelDimensions(a[1],a[0],t,this.series.images[0].getTR()/1e3):1===this.series.images.length?e=new papaya.volume.VoxelDimensions(a[1],a[0],t,this.series.images[0].getTR()/1e3):(0===(i=Math.abs(this.series.images[0].getSliceLocation()-this.series.images[1].getSliceLocation()))&&(i=Math.max(this.series.images[0].getSliceGap(),this.series.images[0].getSliceThickness())),e=new papaya.volume.VoxelDimensions(a[1],a[0],i,this.series.images[0].getTR()/1e3)),e.isValid()||(0===e.rowSize&&(e.rowSize=1),0===e.colSize&&(e.colSize=1),0===e.sliceSize&&(e.sliceSize=1)),e.spatialUnit=papaya.volume.VoxelDimensions.UNITS_MM,e.temporalUnit=papaya.volume.VoxelDimensions.UNITS_SEC,e},papaya.volume.dicom.HeaderDICOM.prototype.getImageType=function(){var e,t,i;return e=this.series.images[0].getDataType(),t=e===daikon.Image.BYTE_TYPE_INTEGER?papaya.volume.ImageType.DATATYPE_INTEGER_SIGNED:e===daikon.Image.BYTE_TYPE_INTEGER_UNSIGNED?papaya.volume.ImageType.DATATYPE_INTEGER_UNSIGNED:e===daikon.Image.BYTE_TYPE_FLOAT?papaya.volume.ImageType.DATATYPE_FLOAT:e===daikon.Image.BYTE_TYPE_RGB?papaya.volume.ImageType.DATATYPE_RGB:papaya.volume.ImageType.DATATYPE_UNKNOWN,i=new papaya.volume.ImageType(t,parseInt(this.series.images[0].getBitsAllocated()/8),this.series.images[0].littleEndian,!1),i.rgbBySample=1===this.series.images[0].getPlanarConfig(),i},papaya.volume.dicom.HeaderDICOM.prototype.getImageRange=function(){var e,t,i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y=[],I=[],D=[],v=[];for(t=0,i=0,r=0;r<this.series.images.length;r+=1)n=(s=this.series.images[r]).getImageMax()*this.getDataScaleSlope(this.series.isElscint,s)+(s.getDataScaleIntercept()||0),a=s.getImageMin()*this.getDataScaleSlope(this.series.isElscint,s)+(s.getDataScaleIntercept()||0),0===r?(t=n,i=a):(n>t&&(t=n),a<i&&(i=a));if(o=0,l=0,this.series.isElscint)for(r=0;r<this.series.images.length;r+=1)c=(s=this.series.images[r]).getWindowWidth()*s.getDataScaleElscint(),u=s.getWindowCenter()*s.getDataScaleElscint(),0===r?(o=c,l=u):l<u&&(o=c,l=u);else for(r=0;r<this.series.images.length;r+=1)c=(s=this.series.images[r]).getWindowWidth(),u=s.getWindowCenter(),0===r?(o=c,l=u):l<u&&(o=c,l=u);if(e=new papaya.volume.ImageRange(i,t),e.displayMin=l-o/2,e.displayMax=l+o/2,h=this.getImageDimensions(),this.series.isMosaic){for(p=(d=h.slices)*this.series.images.length,r=0;r<p;r+=1)s=this.series.images[parseInt(r/d)],y[r]=this.getDataScaleSlope(this.series.isElscint,s),I[r]=this.getDataScaleIntercept(this.series.isElscint,s);e.dataScaleSlopes=y,e.dataScaleIntercepts=I}else if(this.series.isMultiFrame){for(m=h.slices*h.timepoints,S=[],g=[],T=parseInt(m/this.series.images.length),r=0;r<this.series.images.length;r+=1)for(f=0;f<T;f+=1)s=this.series.images[r],S[r*T+f]=this.getDataScaleSlope(this.series.isElscint,s),g[r*T+f]=this.getDataScaleIntercept(this.series.isElscint,s);e.dataScaleSlopes=S,e.dataScaleIntercepts=g}else if(this.series.isImplicitTimeseries)if(_=h.slices*h.timepoints,this.series.images.length!==_)e.setGlobalDataScale(this.getDataScaleSlope(this.series.isElscint,this.series.images[0]),this.getDataScaleIntercept(this.series.isElscint,this.series.images[0]),this.series.numberOfFrames);else{for(r=0;r<this.series.images.length;r+=1)s=this.series.images[r],D[r]=this.getDataScaleSlope(this.series.isElscint,s),v[r]=this.getDataScaleIntercept(this.series.isElscint,s);e.dataScaleSlopes=D,e.dataScaleIntercepts=v}else{for(r=0;r<this.series.images.length;r+=1)s=this.series.images[r],D[r]=this.getDataScaleSlope(this.series.isElscint,s),v[r]=this.getDataScaleIntercept(this.series.isElscint,s);e.dataScaleSlopes=D,e.dataScaleIntercepts=v}return e.validateDataScale(),e},papaya.volume.dicom.HeaderDICOM.prototype.getOrientation=function(){var e=this.series.images[0].getOrientation();return null===e&&(e=papaya.volume.dicom.HeaderDICOM.ORIENTATION_DEFAULT),e=e.substring(0,5)+(this.series.sliceSense?"+":"-"),new papaya.volume.Orientation(e)},papaya.volume.dicom.HeaderDICOM.prototype.getOrientationCertainty=function(){return null===this.series.images[0].getOrientation()?papaya.volume.Header.ORIENTATION_CERTAINTY_UNKNOWN:this.series.isMosaic||this.series.isMultiFrameVolume?papaya.volume.Header.ORIENTATION_CERTAINTY_LOW:papaya.volume.Header.ORIENTATION_CERTAINTY_HIGH},papaya.volume.dicom.HeaderDICOM.prototype.getOrigin=function(){var e=this.getBestTransform();if(e){var t=numeric.inv(e);return new papaya.core.Coordinate(t[0][3],t[1][3],t[2][3])}return new papaya.core.Coordinate(0,0,0)},papaya.volume.dicom.HeaderDICOM.prototype.hasError=function(){return null!==this.error},papaya.volume.dicom.HeaderDICOM.prototype.getImageDescription=function(){var e,t,i,a,n,r="";return e=this.series.images[0].getPatientName(),t=this.series.images[0].getPatientID(),i=this.series.images[0].getStudyTime(),a=this.series.images[0].getStudyDate(),n=this.series.images[0].getImageDescription(),e&&(r+=" "+e),t&&(r+=" "+t),i&&(r+=" "+i),a&&(r+=" "+a),n&&(r+=" "+n),new papaya.volume.ImageDescription(r.trim())},papaya.volume.dicom.HeaderDICOM.prototype.getBestTransform=function(){var e=this.series.images[0].getImageDirections(),t=null;if(e){var i=this.getVoxelDimensions(),a=this.series.images[0].getImagePosition(),n=[e[0],e[1],e[2]],r=[e[3],e[4],e[5]],s=[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]];t=[[n[0]*i.colSize*-1,r[0]*i.rowSize,s[0]*i.sliceSize,-1*a[0]],[n[1]*i.colSize,r[1]*i.rowSize*-1,s[1]*i.sliceSize,-1*a[1]],[n[2]*i.colSize,r[2]*i.rowSize,s[2]*i.sliceSize,a[2]],[0,0,0,1]]}return t},papaya.volume.dicom.HeaderDICOM.prototype.getBestTransformOrigin=function(){return this.getOrigin()},papaya.volume.dicom.HeaderDICOM.prototype.toString=function(){return this.series.images[0].toString()},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.Orientation=papaya.volume.Orientation||function(e){this.orientation=e,this.orientMat=null,this.xIncrement=-1,this.yIncrement=-1,this.zIncrement=-1},papaya.volume.Orientation.DEFAULT="XYZ+--",papaya.volume.Orientation.isValidOrientationString=function(e){var t,i=!0;return null!==e&&6===e.length||(i=!1),(-1===(t=e.toUpperCase().indexOf("X"))||t>2||e.toUpperCase().lastIndexOf("X")!==t)&&(i=!1),(-1===(t=e.toUpperCase().indexOf("Y"))||t>2||e.toUpperCase().lastIndexOf("Y")!==t)&&(i=!1),(-1===(t=e.toUpperCase().indexOf("Z"))||t>2||e.toUpperCase().lastIndexOf("Z")!==t)&&(i=!1),"+"!==e.charAt(3)&&"-"!==e.charAt(3)&&(i=!1),"+"!==e.charAt(4)&&"-"!==e.charAt(4)&&(i=!1),"+"!==e.charAt(5)&&"-"!==e.charAt(5)&&(i=!1),i},papaya.volume.Orientation.prototype.convertIndexToOffsetNative=function(e,t,i){return e*this.xIncrement+t*this.yIncrement+i*this.zIncrement},papaya.volume.Orientation.prototype.convertIndexToOffset=function(e,t,i){var a,n,r;return a=papayaFloorFast(e*this.orientMat[0][0]+t*this.orientMat[0][1]+i*this.orientMat[0][2]+this.orientMat[0][3]),n=papayaFloorFast(e*this.orientMat[1][0]+t*this.orientMat[1][1]+i*this.orientMat[1][2]+this.orientMat[1][3]),r=papayaFloorFast(e*this.orientMat[2][0]+t*this.orientMat[2][1]+i*this.orientMat[2][2]+this.orientMat[2][3]),a*this.xIncrement+n*this.yIncrement+r*this.zIncrement},papaya.volume.Orientation.prototype.convertCoordinate=function(e,t){return t.x=papayaRoundFast(e.x*this.orientMat[0][0]+e.y*this.orientMat[0][1]+e.z*this.orientMat[0][2]+this.orientMat[0][3]),t.y=papayaRoundFast(e.x*this.orientMat[1][0]+e.y*this.orientMat[1][1]+e.z*this.orientMat[1][2]+this.orientMat[1][3]),t.z=papayaRoundFast(e.x*this.orientMat[2][0]+e.y*this.orientMat[2][1]+e.z*this.orientMat[2][2]+this.orientMat[2][3]),t},papaya.volume.Orientation.prototype.createInfo=function(e,t){var i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g;h=e.cols,f=e.rows,d=e.slices,p=e.getNumVoxelsSlice(),m=t.colSize,S=t.rowSize,g=t.sliceSize,l="+"===this.orientation.charAt(3),u="+"===this.orientation.charAt(4),c="+"===this.orientation.charAt(5),-1!==this.orientation.toUpperCase().indexOf("XYZ")?(e.xDim=h,e.yDim=f,e.zDim=d,t.xSize=m,t.ySize=S,t.zSize=g,this.xIncrement=1,this.yIncrement=h,this.zIncrement=p,l?(i=1,r=0):(i=-1,r=h-1),u?(a=-1,s=f-1):(a=1,s=0),c?(n=-1,o=d-1):(n=1,o=0)):-1!==this.orientation.toUpperCase().indexOf("XZY")?(e.xDim=h,e.yDim=d,e.zDim=f,t.xSize=m,t.ySize=g,t.zSize=S,this.xIncrement=1,this.yIncrement=p,this.zIncrement=h,l?(i=1,r=0):(i=-1,r=h-1),u?(n=-1,o=f-1):(n=1,o=0),c?(a=-1,s=d-1):(a=1,s=0)):-1!==this.orientation.toUpperCase().indexOf("YXZ")?(e.xDim=f,e.yDim=h,e.zDim=d,t.xSize=S,t.ySize=m,t.zSize=g,this.xIncrement=h,this.yIncrement=1,this.zIncrement=p,l?(a=-1,s=h-1):(a=1,s=0),u?(i=1,r=0):(i=-1,r=f-1),c?(n=-1,o=d-1):(n=1,o=0)):-1!==this.orientation.toUpperCase().indexOf("YZX")?(e.xDim=d,e.yDim=h,e.zDim=f,t.xSize=g,t.ySize=m,t.zSize=S,this.xIncrement=p,this.yIncrement=1,this.zIncrement=h,l?(a=-1,s=h-1):(a=1,s=0),u?(n=-1,o=f-1):(n=1,o=0),c?(i=1,r=0):(i=-1,r=d-1)):-1!==this.orientation.toUpperCase().indexOf("ZXY")?(e.xDim=f,e.yDim=d,e.zDim=h,t.xSize=S,t.ySize=g,t.zSize=m,this.xIncrement=h,this.yIncrement=p,this.zIncrement=1,l?(n=-1,o=h-1):(n=1,o=0),u?(i=1,r=0):(i=-1,r=f-1),c?(a=-1,s=d-1):(a=1,s=0)):-1!==this.orientation.toUpperCase().indexOf("ZYX")&&(e.xDim=d,e.yDim=f,e.zDim=h,t.xSize=g,t.ySize=S,t.zSize=m,this.xIncrement=p,this.yIncrement=h,this.zIncrement=1,l?(n=-1,o=h-1):(n=1,o=0),u?(a=-1,s=f-1):(a=1,s=0),c?(i=1,r=0):(i=-1,r=d-1)),this.orientMat=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.orientMat[0][0]=i,this.orientMat[0][1]=0,this.orientMat[0][2]=0,this.orientMat[0][3]=r,this.orientMat[1][0]=0,this.orientMat[1][1]=a,this.orientMat[1][2]=0,this.orientMat[1][3]=s,this.orientMat[2][0]=0,this.orientMat[2][1]=0,this.orientMat[2][2]=n,this.orientMat[2][3]=o,this.orientMat[3][0]=0,this.orientMat[3][1]=0,this.orientMat[3][2]=0,this.orientMat[3][3]=1},papaya.volume.Orientation.prototype.isValid=function(){return papaya.volume.Orientation.isValidOrientationString(this.orientation)},papaya.volume.Orientation.prototype.getOrientationDescription=function(){var e=this.orientation;return"Cols ("+e.charAt(0)+e.charAt(3)+"), Rows ("+e.charAt(1)+e.charAt(4)+"), Slices ("+e.charAt(2)+e.charAt(5)+")"},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.Transform=papaya.volume.Transform||function(e,t){this.voxelValue=new papaya.volume.VoxelValue(t.imageData,t.header.imageType,t.header.imageDimensions,t.header.imageRange,t.header.orientation),this.voxelDimensions=t.header.voxelDimensions,this.imageDimensions=t.header.imageDimensions,this.volume=t,this.mat=papaya.volume.Transform.IDENTITY.clone(),this.indexMat=papaya.volume.Transform.IDENTITY.clone(),this.sizeMat=papaya.volume.Transform.IDENTITY.clone(),this.sizeMatInverse=papaya.volume.Transform.IDENTITY.clone(),this.mmMat=papaya.volume.Transform.IDENTITY.clone(),this.worldMat=papaya.volume.Transform.IDENTITY.clone(),this.worldMatNifti=null,this.originMat=papaya.volume.Transform.IDENTITY.clone(),this.tempMat=papaya.volume.Transform.IDENTITY.clone(),this.tempMat2=papaya.volume.Transform.IDENTITY.clone(),this.orientMat=papaya.volume.Transform.IDENTITY.clone(),this.centerMat=papaya.volume.Transform.IDENTITY.clone(),this.centerMatInverse=papaya.volume.Transform.IDENTITY.clone(),this.rotMatX=papaya.volume.Transform.IDENTITY.clone(),this.rotMatY=papaya.volume.Transform.IDENTITY.clone(),this.rotMatZ=papaya.volume.Transform.IDENTITY.clone(),this.rotMat=papaya.volume.Transform.IDENTITY.clone(),this.updateTransforms(e)},papaya.volume.Transform.IDENTITY=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],papaya.volume.Transform.EPSILON=1e-5,papaya.volume.Transform.printTransform=function(e){console.log(e[0][0]+" "+e[0][1]+" "+e[0][2]+" "+e[0][3]),console.log(e[1][0]+" "+e[1][1]+" "+e[1][2]+" "+e[1][3]),console.log(e[2][0]+" "+e[2][1]+" "+e[2][2]+" "+e[2][3]),console.log(e[3][0]+" "+e[3][1]+" "+e[3][2]+" "+e[3][3])},papaya.volume.Transform.decompose=function(e){var t,i,a,n,r,s,o,l,u,c,h,f,d,p,m,S,g,T,_,y,I,D,v,b,A,C,E,w,P,N,O,x,R,L;return L=[],t=papaya.volume.Transform.validateNum(e[0][3]),i=papaya.volume.Transform.validateNum(e[1][3]),a=papaya.volume.Transform.validateNum(e[2][3]),n=papaya.volume.Transform.validateNum(Math.atan(e[2][1]/e[2][2])),r=0,0===(r=0===n?papaya.volume.Transform.validateNum(Math.atan(-1*Math.cos(n)*(e[2][0]/e[2][2]))):papaya.volume.Transform.validateNum(Math.atan(-1*Math.sin(n)*(e[2][0]/e[2][1]))))&&(r=papaya.volume.Transform.EPSILON),u=papaya.volume.Transform.validateScale(e[2][2]/(Math.cos(r)*Math.cos(n))),c=Math.cos(n),h=Math.sin(n)*Math.sin(r)+Math.sin(n)*(Math.cos(r)/Math.tan(r)),f=e[1][0]*(Math.sin(n)/Math.tan(r))+e[1][1],d=-1*Math.sin(n),p=Math.cos(n)*Math.sin(r)+Math.cos(n)*(Math.cos(r)/Math.tan(r)),m=e[1][0]*(Math.cos(n)/Math.tan(r))+e[1][2],s=papaya.volume.Transform.validateNum(Math.atan((c*m-f*d)/(f*p-h*m))),l=papaya.volume.Transform.validateScale(f/(Math.cos(s)*c+Math.sin(s)*h)),O=papaya.volume.Transform.validateNum((l*Math.sin(s)*Math.cos(r)-e[1][0])/(u*Math.sin(r))),S=Math.cos(r)*Math.cos(s),g=l*Math.cos(r)*Math.sin(s),T=-1*u*Math.sin(r),_=Math.sin(n)*Math.sin(r)*Math.cos(s)-Math.cos(n)*Math.sin(s),y=Math.sin(n)*Math.sin(r)*Math.sin(s)+Math.cos(n)*Math.cos(s),I=u*Math.sin(n)*Math.cos(r),D=Math.cos(n)*Math.sin(r)*Math.cos(s)+Math.sin(n)*Math.sin(s),v=Math.cos(n)*Math.sin(r)*Math.sin(s)-Math.sin(n)*Math.cos(s),b=u*Math.cos(n)*Math.cos(r),A=g*_-S*y,C=T*_-S*I,E=_*e[0][0]-S*e[0][1],w=g*D-S*v,P=T*D-S*b,N=D*e[0][0]-S*e[0][2],x=papaya.volume.Transform.validateNum((w*E-N*A)/(C*w-A*P)),R=papaya.volume.Transform.validateNum((E*P-C*N)/(A*P-C*w)),o=papaya.volume.Transform.validateScale((e[0][0]-R*g-x*T)/S),r===papaya.volume.Transform.EPSILON&&(r=0),n*=180/Math.PI,r*=180/Math.PI,s*=180/Math.PI,L[0]=papaya.volume.Transform.validateZero(t),L[1]=papaya.volume.Transform.validateZero(i),L[2]=papaya.volume.Transform.validateZero(a),L[3]=papaya.volume.Transform.validateZero(n),L[4]=papaya.volume.Transform.validateZero(r),L[5]=papaya.volume.Transform.validateZero(s),L[6]=o,L[7]=l,L[8]=u,L[9]=papaya.volume.Transform.validateZero(O),L[10]=papaya.volume.Transform.validateZero(x),L[11]=papaya.volume.Transform.validateZero(R),L},papaya.volume.Transform.hasRotations=function(e){var t,i,a,n,r;return null!==e&&(t=papaya.volume.Transform.decompose(e),i=.01,a=Math.abs(1-Math.abs(t[3])/90)%1,n=Math.abs(1-Math.abs(t[4])/90)%1,r=Math.abs(1-Math.abs(t[5])/90)%1,a>i||n>i||r>i)},papaya.volume.Transform.validateNum=function(e){return e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY?0:isNaN(e)?0:0===e?0:e},papaya.volume.Transform.validateScale=function(e){return e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY?1:isNaN(e)?1:e},papaya.volume.Transform.validateZero=function(e){return Math.abs(e)<papaya.volume.Transform.EPSILON?0:e},papaya.volume.Transform.prototype.updateSizeMat=function(){this.sizeMat[0][0]=this.voxelDimensions.xSize,this.sizeMat[1][1]=this.voxelDimensions.ySize,this.sizeMat[2][2]=this.voxelDimensions.zSize,this.sizeMat[3][3]=1,this.sizeMatInverse[0][0]=1/this.voxelDimensions.xSize,this.sizeMatInverse[1][1]=1/this.voxelDimensions.ySize,this.sizeMatInverse[2][2]=1/this.voxelDimensions.zSize,this.sizeMatInverse[3][3]=1},papaya.volume.Transform.prototype.updateOrientMat=function(){this.orientMat=this.volume.header.orientation.orientMat},papaya.volume.Transform.prototype.updateIndexTransform=function(){var e,t;for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.indexMat[e][t]=this.orientMat[e][0]*this.mat[0][t]+this.orientMat[e][1]*this.mat[1][t]+this.orientMat[e][2]*this.mat[2][t]+this.orientMat[e][3]*this.mat[3][t]},papaya.volume.Transform.prototype.updateMmTransform=function(){var e,t;for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.mmMat[e][t]=this.indexMat[e][0]*this.sizeMatInverse[0][t]+this.indexMat[e][1]*this.sizeMatInverse[1][t]+this.indexMat[e][2]*this.sizeMatInverse[2][t]+this.indexMat[e][3]*this.sizeMatInverse[3][t]},papaya.volume.Transform.prototype.updateOriginMat=function(){this.originMat[0][0]=1,this.originMat[1][1]=-1,this.originMat[2][2]=-1,this.originMat[3][3]=1,this.originMat[0][3]=this.volume.header.origin.x,this.originMat[1][3]=this.volume.header.origin.y,this.originMat[2][3]=this.volume.header.origin.z},papaya.volume.Transform.prototype.updateImageMat=function(e,t,i,a,n,r){var s,o,l,u,c;for(this.updateCenterMat(e,t,i),s=a*Math.PI/180,o=Math.cos(s),l=Math.sin(s),this.rotMatX[1][1]=o,this.rotMatX[1][2]=l,this.rotMatX[2][1]=-1*l,this.rotMatX[2][2]=o,s=n*Math.PI/180,o=Math.cos(s),l=Math.sin(s),this.rotMatY[0][0]=o,this.rotMatY[0][2]=-1*l,this.rotMatY[2][0]=l,this.rotMatY[2][2]=o,s=r*Math.PI/180,o=Math.cos(s),l=Math.sin(s),this.rotMatZ[0][0]=o,this.rotMatZ[0][1]=l,this.rotMatZ[1][0]=-1*l,this.rotMatZ[1][1]=o,u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.tempMat[u][c]=this.rotMatX[u][0]*this.rotMatY[0][c]+this.rotMatX[u][1]*this.rotMatY[1][c]+this.rotMatX[u][2]*this.rotMatY[2][c]+this.rotMatX[u][3]*this.rotMatY[3][c];for(u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.rotMat[u][c]=this.tempMat[u][0]*this.rotMatZ[0][c]+this.tempMat[u][1]*this.rotMatZ[1][c]+this.tempMat[u][2]*this.rotMatZ[2][c]+this.tempMat[u][3]*this.rotMatZ[3][c];for(u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.tempMat[u][c]=this.sizeMatInverse[u][0]*this.centerMatInverse[0][c]+this.sizeMatInverse[u][1]*this.centerMatInverse[1][c]+this.sizeMatInverse[u][2]*this.centerMatInverse[2][c]+this.sizeMatInverse[u][3]*this.centerMatInverse[3][c];for(u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.tempMat2[u][c]=this.tempMat[u][0]*this.rotMat[0][c]+this.tempMat[u][1]*this.rotMat[1][c]+this.tempMat[u][2]*this.rotMat[2][c]+this.tempMat[u][3]*this.rotMat[3][c];for(u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.tempMat[u][c]=this.tempMat2[u][0]*this.centerMat[0][c]+this.tempMat2[u][1]*this.centerMat[1][c]+this.tempMat2[u][2]*this.centerMat[2][c]+this.tempMat2[u][3]*this.centerMat[3][c];for(u=0;u<4;u+=1)for(c=0;c<4;c+=1)this.tempMat2[u][c]=this.tempMat[u][0]*this.sizeMat[0][c]+this.tempMat[u][1]*this.sizeMat[1][c]+this.tempMat[u][2]*this.sizeMat[2][c]+this.tempMat[u][3]*this.sizeMat[3][c];this.volume.transform.updateTransforms(this.tempMat2)},papaya.volume.Transform.prototype.updateCenterMat=function(e,t,i){this.centerMat[0][0]=1,this.centerMat[1][1]=1,this.centerMat[2][2]=1,this.centerMat[3][3]=1,this.centerMat[0][3]=-1*e,this.centerMat[1][3]=-1*t,this.centerMat[2][3]=-1*i,this.centerMatInverse[0][0]=1,this.centerMatInverse[1][1]=1,this.centerMatInverse[2][2]=1,this.centerMatInverse[3][3]=1,this.centerMatInverse[0][3]=e,this.centerMatInverse[1][3]=t,this.centerMatInverse[2][3]=i},papaya.volume.Transform.prototype.updateWorldMat=function(){var e,t,i,a;if(this.worldMatNifti){for(i=[[-1,0,0,this.imageDimensions.xDim-1],[0,1,0,0],[0,0,1,0],[0,0,0,1]],(a=papaya.volume.Transform.IDENTITY.clone())[0][0]=-1,a[1][1]=-1,a[2][2]=-1,a[3][3]=1,a[0][3]=this.volume.header.origin.x,a[1][3]=this.volume.header.origin.y,a[2][3]=this.volume.header.origin.z,e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat[e][t]=this.sizeMat[e][0]*a[0][t]+this.sizeMat[e][1]*a[1][t]+this.sizeMat[e][2]*a[2][t]+this.sizeMat[e][3]*a[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat2[e][t]=this.tempMat[e][0]*i[0][t]+this.tempMat[e][1]*i[1][t]+this.tempMat[e][2]*i[2][t]+this.tempMat[e][3]*i[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat[e][t]=this.tempMat2[e][0]*this.mat[0][t]+this.tempMat2[e][1]*this.mat[1][t]+this.tempMat2[e][2]*this.mat[2][t]+this.tempMat2[e][3]*this.mat[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat2[e][t]=this.tempMat[e][0]*i[0][t]+this.tempMat[e][1]*i[1][t]+this.tempMat[e][2]*i[2][t]+this.tempMat[e][3]*i[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat[e][t]=this.tempMat2[e][0]*a[0][t]+this.tempMat2[e][1]*a[1][t]+this.tempMat2[e][2]*a[2][t]+this.tempMat2[e][3]*a[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat2[e][t]=this.tempMat[e][0]*this.sizeMatInverse[0][t]+this.tempMat[e][1]*this.sizeMatInverse[1][t]+this.tempMat[e][2]*this.sizeMatInverse[2][t]+this.tempMat[e][3]*this.sizeMatInverse[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.worldMat[e][t]=this.worldMatNifti[e][0]*this.tempMat2[0][t]+this.worldMatNifti[e][1]*this.tempMat2[1][t]+this.worldMatNifti[e][2]*this.tempMat2[2][t]+this.worldMatNifti[e][3]*this.tempMat2[3][t]}else{for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.tempMat[e][t]=this.indexMat[e][0]*this.originMat[0][t]+this.indexMat[e][1]*this.originMat[1][t]+this.indexMat[e][2]*this.originMat[2][t]+this.indexMat[e][3]*this.originMat[3][t];for(e=0;e<4;e+=1)for(t=0;t<4;t+=1)this.worldMat[e][t]=this.tempMat[e][0]*this.sizeMatInverse[0][t]+this.tempMat[e][1]*this.sizeMatInverse[1][t]+this.tempMat[e][2]*this.sizeMatInverse[2][t]+this.tempMat[e][3]*this.sizeMatInverse[3][t]}},papaya.volume.Transform.prototype.updateMat=function(e){var t,i;for(i=0;i<4;i+=1)for(t=0;t<4;t+=1)this.mat[i][t]=e[i][t]},papaya.volume.Transform.prototype.updateTransforms=function(e){this.updateMat(e),this.updateSizeMat(),this.updateOrientMat(),this.updateOriginMat(),this.updateIndexTransform(),this.updateMmTransform(),this.updateWorldMat()},papaya.volume.Transform.prototype.getVoxelAtIndexNative=function(e,t,i,a,n){return this.voxelValue.getVoxelAtIndexNative(e,t,i,a,n)},papaya.volume.Transform.prototype.getVoxelAtIndex=function(e,t,i,a,n){return this.voxelValue.getVoxelAtIndex(e,t,i,a,n)},papaya.volume.Transform.prototype.getVoxelAtCoordinate=function(e,t,i,a,n){var r,s,o;return r=e*this.worldMat[0][0]+t*this.worldMat[0][1]+i*this.worldMat[0][2]+this.worldMat[0][3],s=e*this.worldMat[1][0]+t*this.worldMat[1][1]+i*this.worldMat[1][2]+this.worldMat[1][3],o=e*this.worldMat[2][0]+t*this.worldMat[2][1]+i*this.worldMat[2][2]+this.worldMat[2][3],this.voxelValue.getVoxelAtIndexNative(r,s,o,a,n)},papaya.volume.Transform.prototype.getVoxelAtMM=function(e,t,i,a,n){var r,s,o;return r=e*this.mmMat[0][0]+t*this.mmMat[0][1]+i*this.mmMat[0][2]+this.mmMat[0][3],s=e*this.mmMat[1][0]+t*this.mmMat[1][1]+i*this.mmMat[1][2]+this.mmMat[1][3],o=e*this.mmMat[2][0]+t*this.mmMat[2][1]+i*this.mmMat[2][2]+this.mmMat[2][3],this.voxelValue.getVoxelAtIndexNative(r,s,o,a,n)},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.Volume=papaya.volume.Volume||function(e,t,i){this.progressMeter=e,this.dialogHandler=t,this.files=[],this.rawData=[],this.fileLength=0,this.urls=null,this.fileName=null,this.compressed=!1,this.transform=null,this.numTimepoints=0,this.onFinishedRead=null,this.error=null,this.transform=null,this.isLoaded=!1,this.numTimepoints=1,this.loaded=!1,this.params=i,this.header=new papaya.volume.Header(void 0!==this.params&&this.params.padAllImages),this.imageData=new papaya.volume.ImageData(void 0!==this.params&&this.params.padAllImages)},papaya.volume.Volume.PROGRESS_LABEL_LOADING="Loading",papaya.volume.Volume.prototype.fileIsCompressed=function(e,t){var i,a,n;if(e&&-1!==e.indexOf(".gz"))return!0;if(t){if(i=new DataView(t),a=i.getUint8(0),n=i.getUint8(1),a===GUNZIP_MAGIC_COOKIE1)return!0;if(n===GUNZIP_MAGIC_COOKIE2)return!0}return!1},papaya.volume.Volume.prototype.readFiles=function(e,t){this.files=e,this.fileName=e[0].name,this.onFinishedRead=t,this.compressed=this.fileIsCompressed(this.fileName),this.fileLength=this.files[0].size,this.readNextFile(this,0)},papaya.volume.Volume.prototype.makeSlice=function(e,t,i){return"undefined"===typeof File?function(){}:File.prototype.slice?e.slice(t,t+i):File.prototype.mozSlice?e.mozSlice(t,i):File.prototype.webkitSlice?e.webkitSlice(t,i):null},papaya.volume.Volume.prototype.readNextFile=function(e,t){var i;if(t<this.files.length){i=this.makeSlice(this.files[t],0,this.files[t].size);try{var a=new FileReader;a.onloadend=papaya.utilities.ObjectUtils.bind(e,function(i){i.target.readyState===FileReader.DONE&&(e.rawData[t]=i.target.result,setTimeout(function(){e.readNextFile(e,t+1)},0))}),a.onerror=papaya.utilities.ObjectUtils.bind(e,function(t){e.error=new Error("There was a problem reading that file:\n\n"+t.getMessage()),e.finishedLoad()}),a.readAsArrayBuffer(i)}catch(t){e.error=new Error("There was a problem reading that file:\n\n"+t.message),e.finishedLoad()}}else setTimeout(function(){e.decompress(e)},0)},papaya.volume.Volume.prototype.loadURL=function(e,t){var i,a,n=this;this.onFinishedRead=t,this.fileName=e.substr(e.lastIndexOf("/")+1,e.length),this.compressed=this.fileIsCompressed(this.fileName),"string"==typeof(new XMLHttpRequest).responseType?((i=new XMLHttpRequest).open("GET",e,!0),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(n.fileLength=n.rawData.byteLength,n.loadedFileCount++,n.rawData.push(i.response),setTimeout(function(){n.decompress(n)},0))},i.onprogress=function(e){e.lengthComputable&&(a=papaya.volume.Volume.PROGRESS_LABEL_LOADING,n.progressMeter.drawProgress(e.loaded/e.total,a))},i.send(null)):(n.error=new Error("There was a problem reading that file ("+n.fileName+"):\n\nResponse type is not supported."),n.finishedLoad())},papaya.volume.Volume.prototype.readBinaryData=function(e,t){var i=null;try{this.fileName=e[0],this.onFinishedRead=t,i=this,this.fileLength=0,i.readNextBinaryData(i,0,e)}catch(e){i&&(i.error=new Error("There was a problem reading that file:\n\n"+e.message),i.finishedLoad())}},papaya.volume.Volume.prototype.readNextBinaryData=function(e,t,i){if(t<i.length)try{e.rawData[t]=papaya.utilities.ObjectUtils.dereference(i[t]),e.compressed=this.fileIsCompressed(this.fileName,e.rawData[t]),setTimeout(function(){e.readNextBinaryData(e,t+1,i)},0)}catch(t){e&&(e.error=new Error("There was a problem reading that file:\n\n"+t.message),e.finishedLoad())}else e.decompress(e)},papaya.volume.Volume.prototype.readEncodedData=function(e,t){var i=null;try{this.fileName=e[0],this.onFinishedRead=t,i=this,this.fileLength=0,i.readNextEncodedData(i,0,e)}catch(e){i&&(i.error=new Error("There was a problem reading that file:\n\n"+e.message),i.finishedLoad())}},papaya.volume.Volume.prototype.readNextEncodedData=function(e,t,i){if(t<i.length)try{e.rawData[t]=Base64Binary.decodeArrayBuffer(papaya.utilities.ObjectUtils.dereference(i[t])),e.compressed=this.fileIsCompressed(this.fileName,e.rawData[t]),setTimeout(function(){e.readNextEncodedData(e,t+1,i)},0)}catch(t){e&&(e.error=new Error("There was a problem reading that file:\n\n"+t.message),e.finishedLoad())}else e.decompress(e)},papaya.volume.Volume.prototype.getVoxelAtIndexNative=function(e,t,i,a,n){return this.transform.getVoxelAtIndexNative(e,t,i,0,n)},papaya.volume.Volume.prototype.getVoxelAtIndex=function(e,t,i,a,n){return this.transform.getVoxelAtIndex(e,t,i,a,n)},papaya.volume.Volume.prototype.getVoxelAtCoordinate=function(e,t,i,a,n){return this.transform.getVoxelAtCoordinate(e,t,i,a,n)},papaya.volume.Volume.prototype.getVoxelAtMM=function(e,t,i,a,n){return this.transform.getVoxelAtMM(e,t,i,a,n)},papaya.volume.Volume.prototype.hasError=function(){return null!==this.error},papaya.volume.Volume.prototype.getXDim=function(){return this.header.imageDimensions.xDim},papaya.volume.Volume.prototype.getYDim=function(){return this.header.imageDimensions.yDim},papaya.volume.Volume.prototype.getZDim=function(){return this.header.imageDimensions.zDim},papaya.volume.Volume.prototype.getXSize=function(){return this.header.voxelDimensions.xSize},papaya.volume.Volume.prototype.getYSize=function(){return this.header.voxelDimensions.ySize},papaya.volume.Volume.prototype.getZSize=function(){return this.header.voxelDimensions.zSize},papaya.volume.Volume.prototype.decompress=function(e){if(e.compressed=e.compressed||e.fileIsCompressed(e.fileName,e.rawData[0]),e.compressed)try{pako.inflate(new Uint8Array(e.rawData[0]),null,this.progressMeter,function(t){e.finishedDecompress(e,t.buffer)})}catch(e){console.log(e)}else setTimeout(function(){e.finishedReadData(e)},0)},papaya.volume.Volume.prototype.finishedDecompress=function(e,t){e.rawData[0]=t,setTimeout(function(){e.finishedReadData(e)},0)},papaya.volume.Volume.prototype.finishedReadData=function(e){e.header.readHeaderData(e.fileName,e.rawData,this.progressMeter,this.dialogHandler,papaya.utilities.ObjectUtils.bind(this,this.finishedReadHeaderData))},papaya.volume.Volume.prototype.isPlatformLittleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]},papaya.volume.Volume.prototype.finishedReadHeaderData=function(){if(this.rawData=null,this.header.hasError())return this.error=this.header.error,console.error(this.error.stack),void this.onFinishedRead(this);this.header.imageType.swapped=this.header.imageType.littleEndian!==this.isPlatformLittleEndian(),this.header.getName()&&(this.fileName=this.header.getName()),this.header.readImageData(this.progressMeter,papaya.utilities.ObjectUtils.bind(this,this.finishedReadImageData))},papaya.volume.Volume.prototype.finishedReadImageData=function(e){this.imageData.readFileData(this.header,e,papaya.utilities.ObjectUtils.bind(this,this.finishedLoad))},papaya.volume.Volume.prototype.finishedLoad=function(){this.loaded||(this.loaded=!0,this.onFinishedRead&&(this.hasError()?console.log(this.error):(this.transform=new papaya.volume.Transform(papaya.volume.Transform.IDENTITY.clone(),this),this.numTimepoints=this.header.imageDimensions.timepoints||1,this.applyBestTransform()),this.isLoaded=!0,this.rawData=null,this.onFinishedRead(this)))},papaya.volume.Volume.prototype.setOrigin=function(e){var t=this.header.orientation.convertCoordinate(e,new papaya.core.Coordinate(0,0,0));this.header.origin.setCoordinate(t.x,t.y,t.z)},papaya.volume.Volume.prototype.getOrigin=function(){return this.header.orientation.convertCoordinate(this.header.origin,new papaya.core.Coordinate(0,0,0))},papaya.volume.Volume.prototype.applyBestTransform=function(){var e=this.header.getBestTransform();null!==e&&(this.transform.worldMatNifti=numeric.inv(e),this.setOrigin(this.header.getBestTransformOrigin()),this.transform.updateWorldMat())},papaya.volume.Volume.prototype.isWorldSpaceOnly=function(){var e,t=!1;return this.header.fileFormat instanceof papaya.volume.nifti.HeaderNIFTI&&((e=this.header.fileFormat).nifti.qform_code>0&&(t|=!e.qFormHasRotations()),e.nifti.sform_code>0&&(t|=!e.sFormHasRotations()),!t)},papaya.volume.Volume.prototype.getSeriesLabels=function(){return this.header.getSeriesLabels()},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.VoxelDimensions=papaya.volume.VoxelDimensions||function(e,t,i,a){this.colSize=Math.abs(e),this.rowSize=Math.abs(t),this.sliceSize=Math.abs(i),this.xSize=0,this.ySize=0,this.zSize=0,this.flip=!1,this.timeSize=a,this.spatialUnit=papaya.volume.VoxelDimensions.UNITS_UNKNOWN,this.temporalUnit=papaya.volume.VoxelDimensions.UNITS_UNKNOWN},papaya.volume.VoxelDimensions.UNITS_UNKNOWN=0,papaya.volume.VoxelDimensions.UNITS_METER=1,papaya.volume.VoxelDimensions.UNITS_MM=2,papaya.volume.VoxelDimensions.UNITS_MICRON=3,papaya.volume.VoxelDimensions.UNITS_SEC=8,papaya.volume.VoxelDimensions.UNITS_MSEC=16,papaya.volume.VoxelDimensions.UNITS_USEC=24,papaya.volume.VoxelDimensions.UNITS_HZ=32,papaya.volume.VoxelDimensions.UNITS_PPM=40,papaya.volume.VoxelDimensions.UNITS_RADS=48,papaya.volume.VoxelDimensions.UNIT_STRINGS=[],papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_UNKNOWN]="Unknown Unit",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_METER]="Meters",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_MM]="Millimeters",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_MICRON]="Microns",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_SEC]="Seconds",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_MSEC]="Milliseconds",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_USEC]="Microseconds",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_HZ]="Hertz",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_PPM]="Parts-per-million",papaya.volume.VoxelDimensions.UNIT_STRINGS[papaya.volume.VoxelDimensions.UNITS_RADS]="Radians-per-second",papaya.volume.VoxelDimensions.prototype.isValid=function(){return this.colSize>0&&this.rowSize>0&&this.sliceSize>0&&this.timeSize>=0},papaya.volume.VoxelDimensions.prototype.getSpatialUnitString=function(){return papaya.volume.VoxelDimensions.UNIT_STRINGS[this.spatialUnit]},papaya.volume.VoxelDimensions.prototype.getTemporalUnitString=function(){return papaya.volume.VoxelDimensions.UNIT_STRINGS[this.temporalUnit]},papaya.volume.VoxelDimensions.prototype.getTemporalUnitMultiplier=function(){return this.temporalUnit===papaya.volume.VoxelDimensions.UNITS_MSEC?.001:this.temporalUnit===papaya.volume.VoxelDimensions.UNITS_USEC?1e-6:1},(papaya=papaya||{}).volume=papaya.volume||{},papaya.volume.VoxelValue=papaya.volume.VoxelValue||function(e,t,i,a,n){this.imageData=e,this.imageType=t,this.imageRange=a,this.orientation=n,this.swap16=2===this.imageType.numBytes&&this.imageType.swapped&&this.imageType.datatype!==papaya.volume.ImageType.DATATYPE_FLOAT,this.swap32=4===this.imageType.numBytes&&this.imageType.swapped&&this.imageType.datatype!==papaya.volume.ImageType.DATATYPE_FLOAT,this.xIncrement=n.xIncrement,this.yIncrement=n.yIncrement,this.zIncrement=n.zIncrement,this.xDim=i.xDim,this.yDim=i.yDim,this.zDim=i.zDim,this.sliceSize=i.getNumVoxelsSlice(),this.volSize=i.getNumVoxelsVolume(),this.dataScaleSlopes=a.dataScaleSlopes,this.dataScaleIntercepts=a.dataScaleIntercepts,this.globalDataScaleSlope=a.globalDataScaleSlope,this.globalDataScaleIntercept=a.globalDataScaleIntercept,this.usesGlobalDataScale=a.usesGlobalDataScale,this.interpFirstPass=[[0,0],[0,0]],this.interpSecondPass=[0,0],this.forceABS=!1},papaya.volume.VoxelValue.prototype.getVoxelAtIndexNative=function(e,t,i,a,n){return n?(e=papayaRoundFast(e),t=papayaRoundFast(t),i=papayaRoundFast(i),this.getVoxelAtOffset(this.orientation.convertIndexToOffsetNative(e,t,i),a,e,t,i)):this.getVoxelAtIndexLinear(e,t,i,a)},papaya.volume.VoxelValue.prototype.getVoxelAtIndex=function(e,t,i,a,n){return n?(e=papayaRoundFast(e),t=papayaRoundFast(t),i=papayaRoundFast(i),this.getVoxelAtOffset(this.orientation.convertIndexToOffset(e,t,i),a,e,t,i)):this.getVoxelAtIndexLinear(e,t,i,a)},papaya.volume.VoxelValue.prototype.getVoxelAtOffset=function(e,t,i,a,n){var r,s,o=e+this.volSize*t;return i<0||i>=this.xDim||a<0||a>=this.yDim||n<0||n>=this.zDim?0:(this.usesGlobalDataScale?s=this.checkSwap(this.imageData.data[o])*this.globalDataScaleSlope+this.globalDataScaleIntercept:(r=parseInt(o/this.sliceSize),s=this.checkSwap(this.imageData.data[o])*this.dataScaleSlopes[r]+this.dataScaleIntercepts[r]),this.forceABS?Math.abs(s):s)},papaya.volume.VoxelValue.prototype.getVoxelAtIndexLinear=function(e,t,i,a){var n,r,s,o,l,u,c,h,f,d,p,m,S,g,T;if(n=l=u=0,h=Math.floor(e),f=Math.floor(t),d=Math.floor(i),r=e-h,s=t-f,o=i-d,p=0!==r,m=0!==s,S=0!==o,p&&m&&S){for(g=0;g<2;g+=1)for(T=0;T<2;T+=1)c=this.orientation.convertIndexToOffsetNative(h+g,f+T,d),l=this.getVoxelAtOffset(c,a,h+g,f+T,d)*(1-o),c=this.orientation.convertIndexToOffsetNative(h+g,f+T,d+1),u=this.getVoxelAtOffset(c,a,h+g,f+T,d+1)*o,this.interpFirstPass[g][T]=l+u;this.interpSecondPass[0]=this.interpFirstPass[0][0]*(1-s)+this.interpFirstPass[0][1]*s,this.interpSecondPass[1]=this.interpFirstPass[1][0]*(1-s)+this.interpFirstPass[1][1]*s,n=this.interpSecondPass[0]*(1-r)+this.interpSecondPass[1]*r}else if(p&&m&&!S){for(g=0;g<2;g+=1)c=this.orientation.convertIndexToOffsetNative(h+g,f,d),l=this.getVoxelAtOffset(c,a,h+g,f,d)*(1-s),c=this.orientation.convertIndexToOffsetNative(h+g,f+1,d),u=this.getVoxelAtOffset(c,a,h+g,f+1,d)*s,this.interpSecondPass[g]=l+u;n=this.interpSecondPass[0]*(1-r)+this.interpSecondPass[1]*r}else if(p&&!m&&S){for(g=0;g<2;g+=1)c=this.orientation.convertIndexToOffsetNative(h+g,f,d),l=this.getVoxelAtOffset(c,a,h+g,f,d)*(1-o),c=this.orientation.convertIndexToOffsetNative(h+g,f,d+1),u=this.getVoxelAtOffset(c,a,h+g,f,d+1)*o,this.interpSecondPass[g]=l+u;n=this.interpSecondPass[0]*(1-r)+this.interpSecondPass[1]*r}else if(!p&&m&&S){for(T=0;T<2;T+=1)c=this.orientation.convertIndexToOffsetNative(h,f+T,d),l=this.getVoxelAtOffset(c,a,h,f+T,d)*(1-o),c=this.orientation.convertIndexToOffsetNative(h,f+T,d+1),u=this.getVoxelAtOffset(c,a,h,f+T,d+1)*o,this.interpSecondPass[T]=l+u;n=this.interpSecondPass[0]*(1-s)+this.interpSecondPass[1]*s}else p||m||!S?p||!m||S?!p||m||S?n=this.getVoxelAtOffset(this.orientation.convertIndexToOffsetNative(e,t,i),a,e,t,i):(c=this.orientation.convertIndexToOffsetNative(h,f,d),l=this.getVoxelAtOffset(c,a,h,f,d)*(1-r),c=this.orientation.convertIndexToOffsetNative(h+1,f,d),n=l+(u=this.getVoxelAtOffset(c,a,h+1,f,d)*r)):(c=this.orientation.convertIndexToOffsetNative(h,f,d),l=this.getVoxelAtOffset(c,a,h,f,d)*(1-s),c=this.orientation.convertIndexToOffsetNative(h,f+1,d),n=l+(u=this.getVoxelAtOffset(c,a,h,f+1,d)*s)):(c=this.orientation.convertIndexToOffsetNative(h,f,d),l=this.getVoxelAtOffset(c,a,h,f,d)*(1-o),c=this.orientation.convertIndexToOffsetNative(h,f,d+1),n=l+(u=this.getVoxelAtOffset(c,a,h,f,d+1)*o));return n},papaya.volume.VoxelValue.prototype.checkSwap=function(e){return this.swap16?((255&e)<<8|e>>8&255)<<16>>16:this.swap32?(255&e)<<24|(65280&e)<<8|e>>8&65280|e>>24&255:e},(papaya=papaya||{}).surface=papaya.surface||{},papaya.surface.Surface=papaya.surface.Surface||function(e,t){this.progressMeter=e,this.error=null,this.filename=null,this.rawData=null,this.onFinishedRead=null,this.pointData=null,this.triangleData=null,this.normalsData=null,this.colorsData=null,this.numPoints=0,this.numTriangles=0,this.pointsBuffer=null,this.trianglesBuffer=null,this.normalsBuffer=null,this.colorsBuffer=null,this.solidColor=null,this.surfaceType=papaya.surface.Surface.SURFACE_TYPE_UNKNOWN,this.fileFormat=null,this.params=t,this.nextSurface=null,this.volume=null,this.alpha=1},papaya.surface.Surface.SURFACE_TYPE_UNKNOWN=0,papaya.surface.Surface.SURFACE_TYPE_GIFTI=1,papaya.surface.Surface.SURFACE_TYPE_MANGO=2,papaya.surface.Surface.SURFACE_TYPE_VTK=3,papaya.surface.Surface.findSurfaceType=function(e){return gifti.isThisFormat(e)?papaya.surface.Surface.SURFACE_TYPE_GIFTI:papaya.surface.SurfaceMango.isThisFormat(e)?papaya.surface.Surface.SURFACE_TYPE_MANGO:papaya.surface.SurfaceVTK.isThisFormat(e)?papaya.surface.Surface.SURFACE_TYPE_VTK:papaya.surface.Surface.SURFACE_TYPE_UNKNOWN},papaya.surface.Surface.prototype.makeFileFormat=function(e){this.surfaceType=papaya.surface.Surface.findSurfaceType(e),this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_GIFTI?this.fileFormat=new papaya.surface.SurfaceGIFTI:this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_MANGO?this.fileFormat=new papaya.surface.SurfaceMango:this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_VTK&&(this.fileFormat=new papaya.surface.SurfaceVTK)},papaya.surface.Surface.prototype.readURL=function(e,t,i){var a,n=this;if(this.filename=e.substr(e.lastIndexOf("/")+1,e.length),this.onFinishedRead=i,this.volume=t,this.processParams(this.filename),this.makeFileFormat(this.filename),this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_UNKNOWN)return this.error=new Error("This surface format is not supported!"),void this.finishedLoading();try{"string"==typeof(new XMLHttpRequest).responseType?((a=new XMLHttpRequest).open("GET",e,!0),this.fileFormat.isSurfaceDataBinary()&&(a.responseType="arraybuffer"),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?(n.rawData=a.response,n.finishedLoading()):(n.error=new Error("There was a problem reading that file ("+n.filename+"):\n\nResponse status = "+a.status),n.finishedLoading()))},a.onprogress=function(e){e.lengthComputable&&n.progressMeter.drawProgress(e.loaded/e.total,papaya.volume.Volume.PROGRESS_LABEL_LOADING)},a.send(null)):(n.error=new Error("There was a problem reading that file ("+n.filename+"):\n\nResponse type is not supported."),n.finishedLoading())}catch(e){null!==n&&(n.error=new Error("There was a problem reading that file ("+n.filename+"):\n\n"+e.message),n.finishedLoading())}},papaya.surface.Surface.prototype.readFile=function(e,t,i){var a=papaya.utilities.PlatformUtils.makeSlice(e,0,e.size),n=this;if(this.filename=e.name,this.onFinishedRead=i,this.volume=t,this.processParams(this.filename),this.makeFileFormat(this.filename),this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_UNKNOWN)return this.error=new Error("This surface format is not supported!"),void this.finishedLoading();try{var r=new FileReader;r.onloadend=function(e){e.target.readyState===FileReader.DONE&&(n.rawData=e.target.result,n.finishedLoading())},r.onerror=function(e){n.error=new Error("There was a problem reading that file:\n\n"+e.getMessage()),n.finishedLoading()},this.fileFormat.isSurfaceDataBinary()?r.readAsArrayBuffer(a):r.readAsText(a)}catch(e){n.error=new Error("There was a problem reading that file:\n\n"+e.message),n.finishedLoading()}},papaya.surface.Surface.prototype.readEncodedData=function(e,t,i){if(this.filename=e+".surf.gii",this.onFinishedRead=i,this.volume=t,this.processParams(e),this.makeFileFormat(this.filename),this.surfaceType===papaya.surface.Surface.SURFACE_TYPE_UNKNOWN)return this.error=new Error("This surface format is not supported!"),void this.finishedLoading();try{this.fileFormat.isSurfaceDataBinary()?this.rawData=Base64Binary.decodeArrayBuffer(papaya.utilities.ObjectUtils.dereference(e)):this.rawData=atob(papaya.utilities.ObjectUtils.dereference(e))}catch(e){this.error=new Error("There was a problem reading that file:\n\n"+e.message)}this.finishedLoading()},papaya.surface.Surface.prototype.processParams=function(e){var t=this.params[e];t&&(void 0!==t.color&&(this.solidColor=t.color),void 0!==t.alpha&&(this.alpha=t.alpha))},papaya.surface.Surface.prototype.finishedLoading=function(){this.readData()},papaya.surface.Surface.prototype.readData=function(){if(this.error)return console.log(this.error),void this.onFinishedRead(this);var e=this.progressMeter;try{this.fileFormat.readData(this.rawData,function(t){e.drawProgress(t,"Loading surface...")},papaya.utilities.ObjectUtils.bind(this,this.finishedReading),this.volume)}catch(e){this.error=e,this.onFinishedRead(this)}},papaya.surface.Surface.prototype.finishedReading=function(){var e,t=this.fileFormat.getNumSurfaces(),i=this;if(this.fileFormat.error)this.error=this.fileFormat.error;else for(e=0;e<t;e+=1)e>0&&(i.nextSurface=new papaya.surface.Surface,i=i.nextSurface),i.numPoints=this.fileFormat.getNumPoints(e),i.numTriangles=this.fileFormat.getNumTriangles(e),i.pointData=this.fileFormat.getPointData(e),i.normalsData=this.fileFormat.getNormalsData(e),i.triangleData=this.fileFormat.getTriangleData(e),i.colorsData=this.fileFormat.getColorsData(e),null===i.normalsData&&this.generateNormals(),this.fileFormat.getSolidColor(e)&&(i.solidColor=this.fileFormat.getSolidColor(e));this.progressMeter.drawProgress(1,"Loading surface..."),this.onFinishedRead(this)},papaya.surface.Surface.prototype.generateNormals=function(){var e,t,i,a,n,r,s,o,l,u,c,h=[],f=[],d=[],p=[],m=[],S=this.pointData.length;for(this.normalsData=new Float32Array(S),t=3*this.numTriangles,e=0;e<t;e+=3)l=3*this.triangleData[e],u=3*this.triangleData[e+1],c=3*this.triangleData[e+2],h.x=this.pointData[l],h.y=this.pointData[l+1],h.z=this.pointData[l+2],f.x=this.pointData[u],f.y=this.pointData[u+1],f.z=this.pointData[u+2],d.x=this.pointData[c],d.y=this.pointData[c+1],d.z=this.pointData[c+2],i=f.x-h.x,a=f.y-h.y,n=f.z-h.z,r=d.x-h.x,s=d.y-h.y,o=d.z-h.z,p[0]=s*n-o*a,p[1]=o*i-r*n,p[2]=r*a-s*i,this.normalsData[l]+=p[0],this.normalsData[l+1]+=p[1],this.normalsData[l+2]+=p[2],this.normalsData[u]+=p[0],this.normalsData[u+1]+=p[1],this.normalsData[u+2]+=p[2],this.normalsData[c]+=p[0],this.normalsData[c+1]+=p[1],this.normalsData[c+2]+=p[2];for(e=0;e<S;e+=3)p[0]=-1*this.normalsData[e],p[1]=-1*this.normalsData[e+1],p[2]=-1*this.normalsData[e+2],vec3.normalize(p,m),this.normalsData[e]=m[0],this.normalsData[e+1]=m[1],this.normalsData[e+2]=m[2]},(papaya=papaya||{}).surface=papaya.surface||{},papaya.surface.SurfaceGIFTI=papaya.surface.SurfaceGIFTI||function(){this.gii=null,this.error=null,this.pointData=null,this.triangleData=null,this.normalsData=null,this.colorsData=null,this.onFinishedRead=null},papaya.surface.SurfaceGIFTI.prototype.isSurfaceDataBinary=function(){return!1},papaya.surface.SurfaceGIFTI.prototype.readData=function(e,t,i){var a=this;t(0),this.onFinishedRead=i,this.gii=gifti.parse(e),setTimeout(function(){a.readDataPoints(a,t)},0)},papaya.surface.SurfaceGIFTI.prototype.readDataPoints=function(e,t){t(.2),null!=e.gii.getPointsDataArray()?e.pointData=e.gii.getPointsDataArray().getData():e.error=new Error("Surface is missing point information!"),setTimeout(function(){e.readDataNormals(e,t)},0)},papaya.surface.SurfaceGIFTI.prototype.readDataNormals=function(e,t){t(.4),null!=e.gii.getNormalsDataArray()&&(e.normalsData=e.gii.getNormalsDataArray().getData()),setTimeout(function(){e.readDataTriangles(e,t)},0)},papaya.surface.SurfaceGIFTI.prototype.readDataTriangles=function(e,t){t(.6),null!=e.gii.getTrianglesDataArray()?e.triangleData=e.gii.getTrianglesDataArray().getData():e.error=Error("Surface is missing triangle information!"),setTimeout(function(){e.readDataColors(e,t)},0)},papaya.surface.SurfaceGIFTI.prototype.readDataColors=function(e,t){t(.8),null!=e.gii.getColorsDataArray()&&(e.colorsData=e.gii.getColorsDataArray().getData()),setTimeout(function(){e.onFinishedRead()},0)},papaya.surface.SurfaceGIFTI.prototype.getNumSurfaces=function(){return 1},papaya.surface.SurfaceGIFTI.prototype.getNumPoints=function(){return this.gii.getNumPoints()},papaya.surface.SurfaceGIFTI.prototype.getNumTriangles=function(){return this.gii.getNumTriangles()},papaya.surface.SurfaceGIFTI.prototype.getPointData=function(){return this.pointData},papaya.surface.SurfaceGIFTI.prototype.getNormalsData=function(){return this.normalsData},papaya.surface.SurfaceGIFTI.prototype.getTriangleData=function(){return this.triangleData},papaya.surface.SurfaceGIFTI.prototype.getColorsData=function(){return this.colorsData},papaya.surface.SurfaceGIFTI.prototype.getSolidColor=function(){return this.solidColor},(papaya=papaya||{}).surface=papaya.surface||{},papaya.surface.SurfaceMango=papaya.surface.SurfaceMango||function(){this.error=null,this.onFinishedRead=null,this.origin=[],this.imageDims=[],this.voxelDims=[],this.center=[],this.diffs=[],this.dv=null,this.index=0,this.surfaceIndex=0,this.dataLength=0,this.numSurfaces=0,this.littleEndian=!1,this.surfaces=[],this.v14=!1,this.v15=!1},papaya.surface.SurfaceMangoData=papaya.surface.SurfaceMangoData||function(){this.pointData=null,this.triangleData=null,this.normalsData=null,this.colorsData=null,this.solidColor=[]},papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5=["m","a","n","g","o","l","1","5"],papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_5=["m","a","n","g","o","b","1","5"],papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_4=["m","a","n","g","o","l","1","4"],papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_4=["m","a","n","g","o","b","1","4"],papaya.surface.SurfaceMango.SURFACE_OVERLAY_MAGIC_NUMBER=[0,0,0,0,"s","c","a","l"],papaya.surface.SurfaceMango.NAME_SIZE=64,papaya.surface.SurfaceMango.isThisFormat=function(e){return e.endsWith(".surf")},papaya.surface.SurfaceMango.prototype.isSurfaceDataBinary=function(){return!0},papaya.surface.SurfaceMango.prototype.isLittleEndian15=function(e){var t,i=new Uint8Array(e);for(t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5[t].charCodeAt(0))return!1;return!0},papaya.surface.SurfaceMango.prototype.isLittleEndian14=function(e){var t,i=new Uint8Array(e);for(t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_4.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_4[t].charCodeAt(0))return!1;return!0},papaya.surface.SurfaceMango.prototype.isVersion15=function(e){var t,i=new Uint8Array(e),a=!0;for(t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5[t].charCodeAt(0)){a=!1;break}if(!a)for(a=!0,t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_5.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_5[t].charCodeAt(0)){a=!1;break}return a},papaya.surface.SurfaceMango.prototype.isVersion14=function(e){var t,i=new Uint8Array(e),a=!0;for(t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_4.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_4[t].charCodeAt(0)){a=!1;break}if(!a)for(a=!0,t=0;t<papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_4.length;t+=1)if(i[t]!==papaya.surface.SurfaceMango.MAGIC_NUMBER_BIG_1_4[t].charCodeAt(0)){a=!1;break}return a},papaya.surface.SurfaceMango.prototype.isLittleEndian=function(e){return this.isLittleEndian15(e)||this.isLittleEndian14(e)},papaya.surface.SurfaceMango.prototype.hasOverlay=function(){var e,t;for(e=0;e<papaya.surface.SurfaceMango.SURFACE_OVERLAY_MAGIC_NUMBER.length;e+=1)if((t=papaya.surface.SurfaceMango.SURFACE_OVERLAY_MAGIC_NUMBER[e])&&(t=papaya.surface.SurfaceMango.SURFACE_OVERLAY_MAGIC_NUMBER[e].charCodeAt(0)),this.dv.getUint8(this.index+e)!==t)return!1;return!0},papaya.surface.SurfaceMango.prototype.getString=function(e){var t,i=[];for(t=0;t<e;t+=1)i[t]=this.dv.getUint8(this.index+t);return String.fromCharCode.apply(null,i)},papaya.surface.SurfaceMango.prototype.readData=function(e,t,i){var a;if(t(.2),this.littleEndian=this.isLittleEndian(e),this.dataLength=e.byteLength,this.v14=this.isVersion14(e),this.v15=this.isVersion15(e),this.index=papaya.surface.SurfaceMango.MAGIC_NUMBER_LITTLE_1_5.length,this.dv=new DataView(e),!this.v14&&!this.v15)throw new Error("Only Mango surface format version 1.4 and 1.5 are supported!");this.onFinishedRead=i,a=this.dv.getUint32(this.index,this.littleEndian),this.index+=4,this.numSurfaces=this.dv.getUint32(this.index,this.littleEndian),this.index+=4,this.index+=128,this.imageDims[0]=this.dv.getUint32(this.index,this.littleEndian),this.index+=4,this.imageDims[1]=this.dv.getUint32(this.index,this.littleEndian),this.index+=4,this.imageDims[2]=this.dv.getUint32(this.index,this.littleEndian),this.index+=4,this.voxelDims[0]=this.dv.getFloat32(this.index,this.littleEndian),this.index+=4,this.voxelDims[1]=this.dv.getFloat32(this.index,this.littleEndian),this.index+=4,this.voxelDims[2]=this.dv.getFloat32(this.index,this.littleEndian),this.index+=4,this.origin[0]=this.dv.getFloat32(this.index,this.littleEndian)*this.voxelDims[0],this.index+=4,this.origin[1]=this.dv.getFloat32(this.index,this.littleEndian)*this.voxelDims[1],this.index+=4,this.origin[2]=this.dv.getFloat32(this.index,this.littleEndian)*this.voxelDims[2],this.index+=4,this.center[0]=this.imageDims[0]*this.voxelDims[0]/2,this.center[1]=this.imageDims[1]*this.voxelDims[1]/2,this.center[2]=this.imageDims[2]*this.voxelDims[2]/2,this.v14?(this.diffs[0]=this.center[0]-this.origin[0],this.diffs[1]=this.center[1]-this.origin[1],this.diffs[2]=this.origin[2]-this.center[2]):(this.diffs[0]=this.center[0]-this.origin[0],this.diffs[1]=this.center[1]-this.origin[1],this.diffs[2]=this.center[2]-this.origin[2]),this.index+=4,this.index+=a,this.readNextSurface(this,t)},papaya.surface.SurfaceMango.prototype.readNextSurface=function(e,t){var i=new papaya.surface.SurfaceMangoData;e.index+=papaya.surface.SurfaceMango.NAME_SIZE,e.surfaces[e.surfaceIndex]=i,e.surfaces[e.surfaceIndex].solidColor[0]=e.dv.getFloat32(e.index,e.littleEndian),e.index+=4,e.surfaces[e.surfaceIndex].solidColor[1]=e.dv.getFloat32(e.index,e.littleEndian),e.index+=4,e.surfaces[e.surfaceIndex].solidColor[2]=e.dv.getFloat32(e.index,e.littleEndian),e.index+=4,setTimeout(function(){e.readDataPoints(e,t)},0)},papaya.surface.SurfaceMango.prototype.readDataPoints=function(e,t){var i,a;if(t(.4),e.index+=4,i=e.dv.getInt32(e.index,e.littleEndian),e.index+=4,e.surfaces[e.surfaceIndex].pointData=new Float32Array(i),e.v14)for(a=0;a<i;a+=1,e.index+=4)e.surfaces[e.surfaceIndex].pointData[a]=(a%3!=2?-1:1)*(e.dv.getFloat32(e.index,e.littleEndian)+e.diffs[a%3]);else for(a=0;a<i;a+=1,e.index+=4)e.surfaces[e.surfaceIndex].pointData[a]=(a%3!=0?-1:1)*(e.dv.getFloat32(e.index,e.littleEndian)+e.diffs[a%3]);setTimeout(function(){e.readDataNormals(e,t)},0)},papaya.surface.SurfaceMango.prototype.readDataNormals=function(e,t){var i,a;if(t(.6),e.index+=4,i=e.dv.getInt32(e.index,e.littleEndian),e.index+=4,e.surfaces[e.surfaceIndex].normalsData=new Float32Array(i),e.v14)for(a=0;a<i;a+=1,e.index+=4)e.surfaces[e.surfaceIndex].normalsData[a]=(a%3!=2?-1:1)*e.dv.getFloat32(e.index,e.littleEndian);else for(a=0;a<i;a+=1,e.index+=4)e.surfaces[e.surfaceIndex].normalsData[a]=(a%3!=0?-1:1)*e.dv.getFloat32(e.index,e.littleEndian);setTimeout(function(){e.readDataTriangles(e,t)},0)},papaya.surface.SurfaceMango.prototype.readDataTriangles=function(e,t){var i,a;for(t(.8),e.index+=4,i=e.dv.getInt32(e.index,e.littleEndian),e.index+=4,e.surfaces[e.surfaceIndex].triangleData=new Uint32Array(i),a=0;a<i;a+=1,e.index+=4)e.surfaces[e.surfaceIndex].triangleData[a]=e.dv.getUint32(e.index,e.littleEndian);setTimeout(function(){e.readDataColors(e,t)},0)},papaya.surface.SurfaceMango.prototype.readDataColors=function(e,t){for(var i,a,n,r,s,o,l,u,c,h,f;e.index<e.dataLength&&e.hasOverlay();){for(!0,e.index+=papaya.surface.SurfaceMango.SURFACE_OVERLAY_MAGIC_NUMBER.length,e.index+=papaya.surface.SurfaceMango.NAME_SIZE,c=e.getString(papaya.surface.SurfaceMango.NAME_SIZE),e.index+=papaya.surface.SurfaceMango.NAME_SIZE,c=c.replace(/\0/g,""),e.index+=4,i=e.dv.getFloat32(this.index,this.littleEndian),e.index+=4,a=e.dv.getFloat32(this.index,this.littleEndian),e.index+=4,n=255/(a-i),e.index+=4,e.index+=4,r=e.dv.getUint32(this.index,this.littleEndian),e.index+=4,o=new Float32Array(r),h=0;h<r;h+=1,e.index+=4)o[h]=e.dv.getFloat32(e.index,e.littleEndian);for((f=papaya.viewer.ColorTable.findLUT(c)!==papaya.viewer.ColorTable.TABLE_GRAYSCALE?new papaya.viewer.ColorTable(c,!1):new papaya.viewer.ColorTable("Spectrum",!1)).updateLUT(0,255),s=e.surfaces[e.surfaceIndex].pointData.length/3,null===e.surfaces[e.surfaceIndex].colorsData&&(e.surfaces[e.surfaceIndex].colorsData=new Float32Array(4*s)),h=0;h<s;h+=1)(u=o[h])<=i?0===e.surfaces[e.surfaceIndex].colorsData[4*h+3]&&(e.surfaces[e.surfaceIndex].colorsData[4*h]=e.surfaces[e.surfaceIndex].solidColor[0],e.surfaces[e.surfaceIndex].colorsData[4*h+1]=e.surfaces[e.surfaceIndex].solidColor[1],e.surfaces[e.surfaceIndex].colorsData[4*h+2]=e.surfaces[e.surfaceIndex].solidColor[2],e.surfaces[e.surfaceIndex].colorsData[4*h+3]=1):u>a?(e.surfaces[e.surfaceIndex].colorsData[4*h]=f.lookupRed(255)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+1]=f.lookupGreen(255)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+2]=f.lookupBlue(255)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+3]=1):(l=Math.floor((u-i)*n+.5),e.surfaces[e.surfaceIndex].colorsData[4*h]=f.lookupRed(l)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+1]=f.lookupGreen(l)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+2]=f.lookupBlue(l)/255,e.surfaces[e.surfaceIndex].colorsData[4*h+3]=1)}e.surfaceIndex++,e.surfaceIndex===e.numSurfaces?setTimeout(function(){e.onFinishedRead()},0):setTimeout(function(){e.readNextSurface(e,t)},0)},papaya.surface.SurfaceMango.prototype.getNumSurfaces=function(){return this.numSurfaces},papaya.surface.SurfaceMango.prototype.getNumPoints=function(e){return this.surfaces[e].pointData.length/3},papaya.surface.SurfaceMango.prototype.getNumTriangles=function(e){return this.surfaces[e].triangleData.length/3},papaya.surface.SurfaceMango.prototype.getSolidColor=function(e){return this.surfaces[e].solidColor},papaya.surface.SurfaceMango.prototype.getPointData=function(e){return this.surfaces[e].pointData},papaya.surface.SurfaceMango.prototype.getNormalsData=function(e){return this.surfaces[e].normalsData},papaya.surface.SurfaceMango.prototype.getTriangleData=function(e){return this.surfaces[e].triangleData},papaya.surface.SurfaceMango.prototype.getColorsData=function(e){return this.surfaces[e].colorsData},(papaya=papaya||{}).surface=papaya.surface||{},papaya.surface.SurfaceVTK=papaya.surface.SurfaceVTK||function(){this.error=null,this.onFinishedRead=null,this.dv=null,this.index=0,this.littleEndian=!0,this.numPoints=0,this.pointData=null,this.triangleData=null,this.normalsData=null,this.colorsData=null,this.vtkVersion=null,this.description=null,this.ascii=!1,this.volume=null,this.done=!1,this.headerRead=!1},papaya.surface.SurfaceVTK.MAGIC_NUMBER="# vtk DataFile Version",papaya.surface.SurfaceVTK.MAGIC_NUMBER_ASCII="ASCII",papaya.surface.SurfaceVTK.MAGIC_NUMBER_DATASET="DATASET",papaya.surface.SurfaceVTK.MAGIC_NUMBER_POLYDATA="POLYDATA",papaya.surface.SurfaceVTK.MAGIC_NUMBER_POINTS="POINTS",papaya.surface.SurfaceVTK.MAGIC_NUMBER_POLYGONS="POLYGONS",papaya.surface.SurfaceVTK.MAGIC_NUMBER_NORMALS="NORMALS",papaya.surface.SurfaceVTK.isThisFormat=function(e){return e.endsWith(".vtk")},papaya.surface.SurfaceVTK.prototype.isSurfaceDataBinary=function(){return!0},papaya.surface.SurfaceVTK.prototype.hasOverlay=function(){return!1},papaya.surface.SurfaceVTK.prototype.getNextLine=function(e){var t,i,a=[];for(e||(e=256),t=0;t<e;t+=1){if(this.index>=this.dv.byteLength){this.done=!0;break}if((i=this.dv.getUint8(this.index++))<32){(!this.headerRead||this.ascii)&&this.index<this.dv.byteLength&&this.dv.getUint8(this.index)<32&&this.index++;break}a[t]=i}return String.fromCharCode.apply(null,a)},papaya.surface.SurfaceVTK.prototype.readData=function(e,t,i,a){var n,r=this;t(.2),this.onFinishedRead=i,this.dv=new DataView(e),this.volume=a,this.vtkVersion=this.getNextLine().substring(papaya.surface.SurfaceVTK.MAGIC_NUMBER.length).trim(),this.description=this.getNextLine().trim(),this.ascii=this.getNextLine()==papaya.surface.SurfaceVTK.MAGIC_NUMBER_ASCII,this.datasetType=this.getNextLine().substring(papaya.surface.SurfaceVTK.MAGIC_NUMBER_DATASET.length).trim(),this.headerRead=!0,this.datasetType!=papaya.surface.SurfaceVTK.MAGIC_NUMBER_POLYDATA&&(this.error=new Error("VTK: Only POLYDATA format is currently supported!"),this.onFinishedRead()),(n=this.getNextLine().split(" "))[0]==papaya.surface.SurfaceVTK.MAGIC_NUMBER_POINTS&&setTimeout(function(){r.readDataPoints(r,n[1],t)},0)},papaya.surface.SurfaceVTK.prototype.readNextData=function(e,t){var i,a=.2;e.pointData&&(a+=.2),e.normalsData&&(a+=.2),e.triangleData&&(a+=.2),t(a),e.done||e.pointData&&e.normalsData&&e.triangleData?e.onFinishedRead():(i=this.getNextLine().split(" "))&&i[0]==papaya.surface.SurfaceVTK.MAGIC_NUMBER_POINTS?setTimeout(function(){e.readDataPoints(e,i[1],t)},0):i&&i[0]==papaya.surface.SurfaceVTK.MAGIC_NUMBER_POLYGONS?setTimeout(function(){e.readDataTriangles(e,i[1],t)},0):i&&i[0]==papaya.surface.SurfaceVTK.MAGIC_NUMBER_NORMALS?setTimeout(function(){e.readDataNormals(e,t)},0):setTimeout(function(){e.readNextData(e,t)},0)},papaya.surface.SurfaceVTK.prototype.readDataPoints=function(e,t,i){var a,n,r=0,s=[],o=0,l=3*t;e.numPoints=t,e.pointData=new Float32Array(l);var u=e.volume.header.orientation.orientation,c=e.volume.header.voxelDimensions,h=e.volume.header.origin,f=("-"===u.charAt(3)?1:-1)*(c.flip?-1:1),d="-"!==u.charAt(4)?1:-1,p="-"!==u.charAt(5)?1:-1,m=u.indexOf("X"),S=u.indexOf("Y"),g=u.indexOf("Z"),T=f*h.x*c.xSize,_=d*h.y*c.ySize,y=p*h.z*c.zSize;if(e.ascii)for(;o<l;)for(n=e.getNextLine().trim().split(" "),a=0;a<n.length;a+=1)s[r]=parseFloat(n[a]),2===r&&(e.pointData[o++]=s[m]*f-T,e.pointData[o++]=s[S]*d-_,e.pointData[o++]=s[g]*p-y),r++,r%=3;else for(a=0;a<l;a+=1,e.index+=4)s[r]=e.dv.getFloat32(e.index,!1),2===r&&(e.pointData[o++]=s[m]*f-T,e.pointData[o++]=s[S]*d-_,e.pointData[o++]=s[g]*p-y),r++,r%=3;e.readNextData(e,i)},papaya.surface.SurfaceVTK.prototype.readDataNormals=function(e,t){var i,a,n=0,r=3*e.numPoints;if(e.normalsData=new Float32Array(r),e.ascii)for(;n<r;)for(a=e.getNextLine().trim().split(" "),i=0;i<a.length;i+=1)e.normalsData[n++]=parseFloat(a[i]);else for(i=0;i<r;i+=1,e.index+=4)e.normalsData[i]=e.dv.getFloat32(e.index,!1);e.readNextData(e,t)},papaya.surface.SurfaceVTK.prototype.readDataTriangles=function(e,t,i){var a,n,r=0,s=3*t;if(e.triangleData=new Uint32Array(s),e.ascii)for(;r<s;)for(n=e.getNextLine().trim().split(" "),a=1;a<n.length;a+=1)e.triangleData[r++]=parseInt(n[a],10);else for(a=0;a<t;a+=1,e.index+=16)e.triangleData[3*a]=e.dv.getUint32(e.index+4,!1),e.triangleData[3*a+1]=e.dv.getUint32(e.index+8,!1),e.triangleData[3*a+2]=e.dv.getUint32(e.index+12,!1);e.readNextData(e,i)},papaya.surface.SurfaceVTK.prototype.getColorsData=function(){return null},papaya.surface.SurfaceVTK.prototype.getNumSurfaces=function(){return 1},papaya.surface.SurfaceVTK.prototype.getNumPoints=function(){return this.pointData.length/3},papaya.surface.SurfaceVTK.prototype.getNumTriangles=function(){return this.triangleData.length/3},papaya.surface.SurfaceVTK.prototype.getSolidColor=function(){return this.solidColor},papaya.surface.SurfaceVTK.prototype.getPointData=function(){return this.pointData},papaya.surface.SurfaceVTK.prototype.getNormalsData=function(){return this.normalsData},papaya.surface.SurfaceVTK.prototype.getTriangleData=function(){return this.triangleData},PapayaSlicer.prototype.initProperties=function(){this.volumeReady=!0;for(var e,t=this.vol,i=t.getXDim(),a=t.getYDim(),n=t.getZDim(),r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=0;o<n;o+=1)for(var l=0;l<a;l+=1)for(var u=0;u<i;u+=1)e=this.vol.getVoxelAtIndex(u,l,o,0,!0),r=Math.min(r,e),s=Math.max(s,e);var c=t.getOrigin();return{dimensions:[t.getXDim(),t.getYDim(),t.getZDim()],extent:[0,t.getXDim()-1,0,t.getYDim()-1,0,t.getZDim()-1],origin:[c.x,c.y,c.z],spacing:[t.getXSize(),t.getYSize(),t.getZSize()],scalarType:10,scalarTypeAsString:t.header.imageType.getTypeDescription(),scalarBounds:[r,s]}},PapayaSlicer.prototype.generateSlice=function(e,t){console.log("From worker : ",e);var i,a,n,r,s=e[0],o=e[1],l=(e[2],this.vol),u=l.getXDim(),c=l.getYDim(),h=l.getZDim(),f=new DataView(new ArrayBuffer(4));0===o?(r=u,n=c,s=h-s-1):1===o?(r=h,n=c):2===o&&(r=u,n=h);for(var d=new ImageData(r,n),p=0;p<n;p+=1)for(var m=0;m<r;m+=1)0===o?i=l.getVoxelAtIndex(u-m-1,c-p-1,s,0,!0):1===o?i=l.getVoxelAtIndex(s,c-p-1,h-m-1,0,!0):2===o&&(i=l.getVoxelAtIndex(u-m-1,s,h-p-1,0,!0)),a=4*(p*r+m),f.setFloat32(0,i),d.data[a]=f.getUint8(0),d.data[a+1]=f.getUint8(1),d.data[a+2]=f.getUint8(2),d.data[a+3]=f.getUint8(3);console.log("setImmediate"),window.setTimeout(function(){console.log("call callback"),t(null,d)},1)},"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var progressFunc=function(e,t){var i=t+" "+(100*e).toFixed(1)+"%";postMessage(["progress",i])},obj=new PapayaSlicer(progressFunc);self.addEventListener("message",function(e){console.log("event : ",e);var t=e.data[0],i=e.data[1];"loadImage"==t?obj.vol.loadURL(i,function(){var e=obj.initProperties();postMessage(["imageLoaded",e])}):"loadLocalImage"==t?(console.log("LoadLocalFile from worker"),obj.vol.readFiles([i],function(){var e=obj.initProperties();postMessage(["imageLoaded",e])})):"getSlice"==t&&obj.generateSlice(i,function(e,t){var a=i[2];postMessage(["slice",[a,t]],[t.data.buffer])})},!1)}